{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@svar-ui/lib-dom/dist/index.js","sources":["file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/lib-dom/src/locate.ts","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/lib-dom/src/env.ts","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/lib-dom/src/delegateClick.ts","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/lib-dom/src/array.ts","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/lib-dom/src/clickOutside.ts","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/lib-dom/src/positioning.ts","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/lib-dom/src/common.ts","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/lib-dom/src/hotkeys.ts","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/lib-dom/src/dates.ts","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/lib-dom/src/locale.ts","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/lib-dom/src/salesforce.ts"],"sourcesContent":["export function locate(el: Element | Event, attr = \"data-id\"): HTMLElement {\n\tlet node = el as HTMLElement;\n\tif (!node.tagName && (el as Event).target)\n\t\tnode = (el as Event).target as HTMLElement;\n\n\twhile (node) {\n\t\tif (node.getAttribute) {\n\t\t\tconst id = node.getAttribute(attr);\n\t\t\tif (id) return node;\n\t\t}\n\n\t\tnode = node.parentNode as HTMLElement;\n\t}\n\n\treturn null;\n}\nexport function locateAttr(el: Element | Event, attr = \"data-id\"): string {\n\tconst node = locate(el, attr);\n\tif (node) return node.getAttribute(attr);\n\n\treturn null;\n}\nexport function locateID(\n\tel: Element | Event,\n\tattr = \"data-id\"\n): string | number {\n\tconst node = locate(el, attr);\n\n\tif (node) {\n\t\treturn id(node.getAttribute(attr));\n\t}\n\n\treturn null;\n}\n\nexport function locateNode(el: Element, node: Element): boolean {\n\tlet n = el;\n\twhile (n) {\n\t\tif (n === node) {\n\t\t\treturn true;\n\t\t}\n\t\tn = n?.parentNode as Element;\n\t}\n\n\treturn null;\n}\n\nexport function id(value: string | number): string | number {\n\tif (typeof value === \"string\") {\n\t\tconst t = (value as undefined as number) * 1;\n\t\tif (!isNaN(t)) return t;\n\t}\n\n\treturn value;\n}\n","export interface Env {\n\tdetect: () => boolean;\n\taddEvent: (\n\t\tnode: HTMLElement,\n\t\tevent: string,\n\t\thandler: EventListenerOrEventListenerObject\n\t) => RemoveEventListener;\n\taddGlobalEvent: (\n\t\tevent: string,\n\t\thandler: EventListenerOrEventListenerObject,\n\t\trel: HTMLElement\n\t) => RemoveEventListener;\n\tgetTopNode: (rel: HTMLElement) => HTMLElement;\n}\n\nexport type RemoveEventListener = () => void;\n\nfunction getEnv(): Env {\n\treturn {\n\t\tdetect: () => true,\n\t\taddEvent: function (\n\t\t\tnode: Node,\n\t\t\tevent: string,\n\t\t\thandler: EventListenerOrEventListenerObject\n\t\t): RemoveEventListener {\n\t\t\tnode.addEventListener(event, handler);\n\t\t\treturn () => node.removeEventListener(event, handler);\n\t\t},\n\t\taddGlobalEvent: function (\n\t\t\tevent: string,\n\t\t\thandler: EventListenerOrEventListenerObject\n\t\t): RemoveEventListener {\n\t\t\tdocument.addEventListener(event, handler);\n\t\t\treturn () => document.removeEventListener(event, handler);\n\t\t},\n\t\tgetTopNode: function (): HTMLElement {\n\t\t\treturn window.document.body as HTMLElement;\n\t\t},\n\t};\n}\n\nexport const env = getEnv();\n\nexport function setEnv(update: Partial<Env>): void {\n\tObject.assign(env, update);\n}\n","import type { ActionReturn } from \"./common\";\nimport { locate, id as parseId } from \"./locate\";\n\nexport type IHandlersHash = { [key: string]: CallableFunction };\nimport { env } from \"./env\";\n\nexport function delegateEvent(\n\tnode: HTMLElement,\n\thandlers: IHandlersHash | CallableFunction,\n\tevent: string\n): ActionReturn {\n\tfunction handleEvent(ev: Event) {\n\t\tconst node = locate(ev);\n\t\tif (!node) return;\n\t\tconst id = parseId(node.dataset.id);\n\n\t\tif (typeof handlers === \"function\") return handlers(id, ev);\n\n\t\tlet action;\n\t\tlet test = ev.target as HTMLElement;\n\t\twhile (test != node) {\n\t\t\taction = test.dataset ? test.dataset.action : null;\n\t\t\tif (action) {\n\t\t\t\tif (handlers[action]) {\n\t\t\t\t\thandlers[action](id, ev);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttest = test.parentNode as HTMLElement;\n\t\t}\n\t\tif (handlers[event]) handlers[event](id, ev);\n\t}\n\n\tenv.addEvent(node, event, handleEvent);\n}\n\nexport function delegateClick(\n\tnode: HTMLElement,\n\thandlers: IHandlersHash\n): ActionReturn {\n\tdelegateEvent(node, handlers, \"click\");\n\tif (handlers.dblclick) delegateEvent(node, handlers.dblclick, \"dblclick\");\n}\n","export function remove<T>(items: T[], node: T): void {\n\tfor (let i = items.length - 1; i >= 0; i--) {\n\t\tif (items[i] === node) {\n\t\t\titems.splice(i, 1);\n\t\t\tbreak;\n\t\t}\n\t}\n}\n","import { remove } from \"./array\";\nimport { env, RemoveEventListener } from \"./env\";\nimport type { ActionReturn } from \"./common\";\n\ntype OutsideListener = {\n\tnode: HTMLElement;\n\tdate: Date;\n\tprops?: OutsideListenerProps;\n};\n\ntype OutsideListenerProps = {\n\tcallback: CallableFunction;\n\tmodal?: boolean;\n};\n\nlet activationDate: Date = new Date();\nlet skipNext = false;\n\nlet outsideHandlers: RemoveEventListener[] = [];\nconst outsideListners: OutsideListener[] = [];\nconst handleOutsideClick: EventListener = (event: Event) => {\n\t// activation was inside of the elements, ignoring\n\tif (skipNext) {\n\t\tskipNext = false;\n\t\treturn;\n\t}\n\n\t// for each area check if event was outside of the element\n\tfor (let i = outsideListners.length - 1; i >= 0; i--) {\n\t\t// if event was already handled, we can skip the rest\n\t\t// it is used by menu and alike, where we want to close only one\n\t\t//if (event.defaultPrevented) return;\n\n\t\tconst { node, date, props } = outsideListners[i];\n\t\t// if element was opened after click event - ignore it\n\t\tif (date > activationDate) continue;\n\n\t\tif (!node.contains(event.target as Node) && node !== event.target) {\n\t\t\tif (props.callback) props.callback(event);\n\t\t\t// in case of modal we want to close only one\n\t\t\t// also we want to close only one if event was already handled\n\t\t\tif (props.modal || event.defaultPrevented) break;\n\t\t}\n\t}\n};\n\n// we are tracking mousedown for two reasons:\n// 1. to be sure that mouse action was started inside the element\n// 2. to ignore click event that was issued before new listener was added\n// this is important for popups, because they are usually added after click event\n// and we don't want to close them immediately\nconst handleMouseDown: EventListener = (event: Event) => {\n\tactivationDate = new Date();\n\tskipNext = true;\n\n\tfor (let i = outsideListners.length - 1; i >= 0; i--) {\n\t\tconst { node } = outsideListners[i];\n\t\tif (!node.contains(event.target as Node) && node !== event.target) {\n\t\t\t// activation outside of the elements\n\t\t\tskipNext = false;\n\t\t\tbreak;\n\t\t}\n\t}\n};\n\nexport function clickOutside(\n\tnode: HTMLElement,\n\tprops: CallableFunction | OutsideListenerProps\n): ActionReturn {\n\t// set handler only once\n\tif (!outsideHandlers.length) {\n\t\toutsideHandlers = [\n\t\t\tenv.addGlobalEvent(\"click\", handleOutsideClick, node),\n\t\t\tenv.addGlobalEvent(\"contextmenu\", handleOutsideClick, node),\n\t\t\tenv.addGlobalEvent(\"mousedown\", handleMouseDown, node),\n\t\t];\n\t}\n\n\tif (typeof props !== \"object\") {\n\t\tprops = { callback: props };\n\t}\n\tconst pack = { node, date: new Date(), props };\n\toutsideListners.push(pack);\n\n\treturn {\n\t\tdestroy() {\n\t\t\tremove(outsideListners, pack);\n\t\t\tif (!outsideListners.length) {\n\t\t\t\toutsideHandlers.forEach(e => e());\n\t\t\t\toutsideHandlers = [];\n\t\t\t}\n\t\t},\n\t};\n}\n","import { env } from \"./env\";\n\ntype positionResult = {\n\tx: number;\n\ty: number;\n\tz: number;\n\twidth: string;\n};\n\nexport type TPosition =\n\t| \"point\"\n\t| \"bottom\"\n\t| \"top\"\n\t| \"left\"\n\t| \"right\"\n\t| \"center\"\n\t| \"bottom-fit\"\n\t| \"top-fit\"\n\t| \"center-fit\"\n\t| \"bottom-right\"\n\t| \"bottom-left\"\n\t| \"bottom-start\"\n\t| \"bottom-center\"\n\t| \"bottom-end\"\n\t| \"top-right\"\n\t| \"top-left\"\n\t| \"top-start\"\n\t| \"top-center\"\n\t| \"top-end\"\n\t| \"left-start\"\n\t| \"left-center\"\n\t| \"left-end\"\n\t| \"right-start\"\n\t| \"right-center\"\n\t| \"right-end\";\n\nconst isBottom = (mode: string) => mode.indexOf(\"bottom\") !== -1;\nconst isLeft = (mode: string) => mode.indexOf(\"left\") !== -1;\nconst isRight = (mode: string) => mode.indexOf(\"right\") !== -1;\nconst isTop = (mode: string) => mode.indexOf(\"top\") !== -1;\nconst isFit = (mode: string) => mode.indexOf(\"fit\") !== -1;\nconst isOverlap = (mode: string) => mode.indexOf(\"overlap\") !== -1;\nconst isCenter = (mode: string) => {\n\treturn mode.split(\"-\").every(v => [\"center\", \"fit\"].indexOf(v) > -1);\n};\nconst getAlign = (mode: string) => {\n\tconst match = mode.match(/(start|center|end)/);\n\treturn match ? match[0] : null;\n};\n\nfunction getMaxIndex(p: HTMLElement, ap: HTMLElement): number {\n\tlet zi = 0;\n\tconst top = env.getTopNode(p);\n\n\twhile (p) {\n\t\tif (p === top) break;\n\t\tconst pos = getComputedStyle(p)[\"position\"];\n\t\tif (pos === \"absolute\" || pos === \"relative\" || pos === \"fixed\") {\n\t\t\tzi = parseInt(getComputedStyle(p)[\"zIndex\"]) || 0;\n\t\t}\n\t\tp = p.parentNode as HTMLElement;\n\t\tif (p === ap) break;\n\t}\n\n\treturn zi;\n}\n\nlet x: number,\n\ty: number,\n\twidth: string,\n\tpos: {\n\t\tleft: number;\n\t\tright: number;\n\t\ttop: number;\n\t\tbottom: number;\n\t\twidth?: number;\n\t\theight?: number;\n\t};\n\nexport function calculatePosition(\n\tself: HTMLElement,\n\tparent: HTMLElement,\n\tat: TPosition = \"bottom\",\n\tleft: number = 0,\n\ttop: number = 0\n): positionResult {\n\tif (!self) return null;\n\n\tx = left;\n\ty = top;\n\twidth = \"auto\";\n\tlet z = 0;\n\tlet fixLeft = 0;\n\n\tconst body = getAbsParent(self);\n\tconst cont = isOverlap(at) ? env.getTopNode(self) : body;\n\n\tif (!body) return null;\n\n\tconst bodyRect = body.getBoundingClientRect();\n\tconst selfRect = self.getBoundingClientRect();\n\tconst contRect = cont.getBoundingClientRect();\n\n\tconst contStyle = window.getComputedStyle(cont);\n\tconst border: { [key: string]: number } = {\n\t\tleft: 0,\n\t\ttop: 0,\n\t\tbottom: 0,\n\t\tright: 0,\n\t};\n\tfor (const key in border) {\n\t\tconst style = `border-${key}-width`;\n\t\tborder[key] = parseFloat(contStyle.getPropertyValue(style));\n\t}\n\n\t// correct z-index\n\tif (parent) {\n\t\tconst zi = getMaxIndex(parent, body);\n\t\tz = Math.max(zi + 1, 20);\n\t}\n\n\t// set position\n\tif (parent) {\n\t\tpos = parent.getBoundingClientRect();\n\t\tif (isFit(at)) width = pos.width + \"px\";\n\t\tif (at !== \"point\") {\n\t\t\tif (isCenter(at)) {\n\t\t\t\tif (isFit(at)) {\n\t\t\t\t\tx = 0;\n\t\t\t\t} else {\n\t\t\t\t\tx = contRect.width / 2;\n\t\t\t\t\tfixLeft = 1;\n\t\t\t\t}\n\t\t\t\ty = (contRect.height - selfRect.height) / 2;\n\t\t\t} else {\n\t\t\t\tconst fix = isOverlap(at) ? 0 : 1;\n\t\t\t\tx = isRight(at) ? pos.right + fix : pos.left - fix;\n\t\t\t\ty = isBottom(at) ? pos.bottom + 1 : pos.top;\n\t\t\t\t// correct x|y depending on align\n\t\t\t\tconst align = getAlign(at);\n\t\t\t\tif (align) {\n\t\t\t\t\tif (isRight(at) || isLeft(at)) {\n\t\t\t\t\t\tif (align === \"center\") y -= (selfRect.height - pos.height) / 2;\n\t\t\t\t\t\telse if (align === \"end\") y -= selfRect.height - pos.height;\n\t\t\t\t\t} else if (isBottom(at) || isTop(at)) {\n\t\t\t\t\t\tif (align === \"center\") x -= (selfRect.width - pos.width) / 2;\n\t\t\t\t\t\telse if (align === \"end\") x -= selfRect.width - pos.width;\n\t\t\t\t\t\tif (!isOverlap(at)) x += 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else pos = { left: left, right: left, top: top, bottom: top };\n\n\tconst isCorner = (isLeft(at) || isRight(at)) && (isBottom(at) || isTop(at));\n\n\t/* horizontal positioning */\n\n\tif (isLeft(at)) {\n\t\tfixLeft = 2;\n\t}\n\n\tconst dxL = x - selfRect.width - contRect.left;\n\n\tif (parent && isLeft(at) && !isCorner && dxL < 0) {\n\t\t// swap to right if \"left\" / \"left-[align]\" does not fit\n\t\tx = pos.right;\n\t\tfixLeft = 0;\n\t}\n\n\tconst dxR = x + selfRect.width * (1 - fixLeft / 2) - contRect.right;\n\n\tif (dxR > 0) {\n\t\tif (!isRight(at)) {\n\t\t\tx = contRect.right - border.right - selfRect.width;\n\t\t} else {\n\t\t\tconst dx = pos.left - contRect.x - selfRect.width;\n\t\t\tif (parent && !isOverlap(at) && !isCorner && dx >= 0) {\n\t\t\t\t// change position to \"left\"\n\t\t\t\tx = pos.left - selfRect.width;\n\t\t\t} else {\n\t\t\t\tx -= dxR + border.right;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (fixLeft) {\n\t\t// apply \"left\" / \"center\" position\n\t\tx = Math.round(x - (selfRect.width * fixLeft) / 2);\n\t}\n\n\t/* vertical positioning*/\n\n\tconst needSwap = dxL < 0 || dxR > 0 || !isCorner;\n\n\tif (isTop(at)) {\n\t\ty = pos.top - selfRect.height;\n\t\tif (parent && y < contRect.y && needSwap) {\n\t\t\t// change position to \"bottom\"\n\t\t\ty = pos.bottom;\n\t\t}\n\t}\n\n\tconst dy = y + selfRect.height - contRect.bottom;\n\n\tif (dy > 0) {\n\t\tif (parent && isBottom(at) && needSwap) {\n\t\t\t// change position to \"top\"\n\t\t\ty -= selfRect.height + pos.height + 1;\n\t\t} else {\n\t\t\ty -= dy + border.bottom;\n\t\t}\n\t}\n\n\tx -= bodyRect.left + border.left;\n\ty -= bodyRect.top + border.top;\n\tx = Math.max(x, 0) + cont.scrollLeft;\n\ty = Math.max(y, 0) + cont.scrollTop;\n\twidth = width || \"auto\";\n\n\treturn { x, y, z, width };\n}\n\nexport function getAbsParent(el: HTMLElement): HTMLElement | null {\n\tconst top = env.getTopNode(el);\n\tif (el) el = el.parentElement;\n\twhile (el) {\n\t\tconst pos = getComputedStyle(el)[\"position\"];\n\t\tif (\n\t\t\tel === top ||\n\t\t\tpos === \"relative\" ||\n\t\t\tpos === \"absolute\" ||\n\t\t\tpos === \"fixed\"\n\t\t)\n\t\t\treturn el;\n\n\t\tel = el.parentNode as HTMLElement;\n\t}\n\treturn null;\n}\n","export type ActionReturn = void | {\n    destroy: () => void;\n};\n\nlet id = new Date().valueOf();\n\nexport function uid(): number {\n\tid += 1;\n\treturn id;\n}\n","type Handler = (ev?: KeyboardEvent, keys?: { key: string, evKey: string }) => void;\n\nclass ScreenKeys {\n\tstore: Map<string, Handler>;\n\tnode: Node;\n\tconstructor() {\n\t\tthis.store = new Map();\n\t}\n\n\tconfigure(hotkeys: { [key: string]: Handler | false }, node: Node) {\n\t\tthis.node = node;\n\t\tfor (const hotkey in hotkeys) {\n\t\t\tif (hotkeys[hotkey]) {\n\t\t\t\tconst hotkeyFormatted = hotkey.toLowerCase().replace(/[ ]/g, \"\");\n\t\t\t\tconst handler = hotkeys[hotkey];\n\t\t\t\tthis.store.set(hotkeyFormatted, handler);\n\t\t\t}\n\t\t}\n\t}\n}\n\nconst chain: ScreenKeys[] = [];\nexport const hotkeys = {\n\tsubscribe: (v: (t: ScreenKeys) => void) => {\n\t\tinit_once();\n\n\t\tconst t = new ScreenKeys();\n\t\tchain.push(t);\n\t\tv(t);\n\n\t\treturn () => {\n\t\t\tconst ind = chain.findIndex(a => a === t);\n\t\t\tif (ind >= 0) chain.splice(ind, 1);\n\t\t};\n\t},\n};\n\nvar ready = false;\nfunction init_once() {\n\tif (ready) return;\n\tready = true;\n\n\tdocument.addEventListener(\"keydown\", ev => {\n\t\tif (\n\t\t\tchain.length &&\n\t\t\t(ev.ctrlKey ||\n\t\t\t\tev.altKey ||\n\t\t\t\tev.metaKey ||\n\t\t\t\tev.shiftKey ||\n\t\t\t\tev.key.length > 1 ||\n\t\t\t\tev.key === \" \")\n\t\t) {\n\t\t\tconst code = [];\n\t\t\tif (ev.ctrlKey) code.push(\"ctrl\");\n\t\t\tif (ev.altKey) code.push(\"alt\");\n\t\t\tif (ev.metaKey) code.push(\"meta\");\n\t\t\tif (ev.shiftKey) code.push(\"shift\");\n\t\t\tlet evKey = ev.code.replace(\"Key\", \"\").toLocaleLowerCase();\n\t\t\tif (ev.key === \" \") {\n\t\t\t\tevKey = \"space\";\n\t\t\t}\n\t\t\tcode.push(evKey);\n\n\t\t\tconst key = code.join(\"+\");\n\n\t\t\tfor (let i = chain.length - 1; i >= 0; i--) {\n\t\t\t\tconst target = chain[i];\n\t\t\t\tconst handler =\n\t\t\t\t\ttarget.store.get(key) || target.store.get(evKey);\n\t\t\t\tif (handler && target.node.contains(ev.target as Node)) {\n\t\t\t\t\thandler(ev, { key, evKey });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n}\n","export interface ILocale {\n\tdayShort: string[];\n\tdayFull: string[];\n\tmonthShort: string[];\n\tmonthFull: string[];\n\n\tweekStart?: number;\n\n\tam?: string[];\n\tpm?: string[];\n}\n\nfunction toFixed(num: number): string {\n\tif (num < 10) return \"0\" + num;\n\treturn num.toString();\n}\nfunction toFixedMs(num: number): string {\n\tconst temp = toFixed(num);\n\treturn temp.length == 2 ? \"0\" + temp : temp;\n}\n\nexport function getDuodecade(year: number): { start: number; end: number } {\n\tconst start = Math.floor(year / 11) * 11;\n\treturn {\n\t\tstart,\n\t\tend: start + 11,\n\t};\n}\n\n// returns the number of the week by given date, by default with ISO week start as Monday\nfunction getWeekNumber(ndate: Date, weekStart: number = 1): number {\n\tlet nday = ndate.getDay();\n\tif (nday === 0) {\n\t\tnday = 7; // normalizing to ISO format\n\t}\n\n\tnday = (nday - weekStart + 7) % 7; // rotate week to make weekStart day 0\n\n\tconst first_thursday = new Date(ndate.valueOf());\n\tfirst_thursday.setDate(ndate.getDate() + (3 - nday));\n\tconst year_number = first_thursday.getFullYear(); // year of the first Thursday\n\tconst ordinal_date = Math.floor(\n\t\t(first_thursday.getTime() - new Date(year_number, 0, 1).getTime()) /\n\t\t\t86400000\n\t); //ordinal date of the first Thursday - 1 (so not really ordinal date)\n\n\treturn 1 + Math.floor(ordinal_date / 7);\n}\n\nconst emptyAmPm = [\"\", \"\"];\nfunction date2str(mask: string, date: Date, locale: ILocale): number | string {\n\tswitch (mask) {\n\t\tcase \"%d\":\n\t\t\treturn toFixed(date.getDate());\n\t\tcase \"%m\":\n\t\t\treturn toFixed(date.getMonth() + 1);\n\t\tcase \"%j\":\n\t\t\treturn date.getDate();\n\t\tcase \"%n\":\n\t\t\treturn date.getMonth() + 1;\n\t\tcase \"%y\":\n\t\t\treturn toFixed(date.getFullYear() % 100);\n\t\tcase \"%Y\":\n\t\t\treturn date.getFullYear();\n\t\tcase \"%D\":\n\t\t\treturn locale.dayShort[date.getDay()];\n\t\tcase \"%l\":\n\t\t\treturn locale.dayFull[date.getDay()];\n\t\tcase \"%M\":\n\t\t\treturn locale.monthShort[date.getMonth()];\n\t\tcase \"%F\":\n\t\t\treturn locale.monthFull[date.getMonth()];\n\t\tcase \"%h\":\n\t\t\treturn toFixed(((date.getHours() + 11) % 12) + 1);\n\t\tcase \"%g\":\n\t\t\treturn ((date.getHours() + 11) % 12) + 1;\n\t\tcase \"%G\":\n\t\t\treturn date.getHours();\n\t\tcase \"%H\":\n\t\t\treturn toFixed(date.getHours());\n\t\tcase \"%i\":\n\t\t\treturn toFixed(date.getMinutes());\n\t\tcase \"%a\":\n\t\t\treturn ((date.getHours() > 11 ? locale.pm : locale.am) || emptyAmPm)[0];\n\t\tcase \"%A\":\n\t\t\treturn ((date.getHours() > 11 ? locale.pm : locale.am) || emptyAmPm)[1];\n\t\tcase \"%s\":\n\t\t\treturn toFixed(date.getSeconds());\n\t\tcase \"%S\":\n\t\t\treturn toFixedMs(date.getMilliseconds());\n\t\tcase \"%W\":\n\t\t\treturn toFixed(getWeekNumber(date));\n\t\tcase \"%w\":\n\t\t\treturn toFixed(getWeekNumber(date, locale.weekStart ?? 1));\n\t\tcase \"%c\": {\n\t\t\tlet str = date.getFullYear() + \"\";\n\t\t\tstr += \"-\" + toFixed(date.getMonth() + 1);\n\t\t\tstr += \"-\" + toFixed(date.getDate());\n\t\t\tstr += \"T\";\n\t\t\tstr += toFixed(date.getHours());\n\t\t\tstr += \":\" + toFixed(date.getMinutes());\n\t\t\tstr += \":\" + toFixed(date.getSeconds());\n\t\t\treturn str;\n\t\t}\n\t\tcase \"%Q\":\n\t\t\treturn Math.floor(date.getMonth() / 3) + 1;\n\t\tdefault:\n\t\t\treturn mask;\n\t}\n}\n\nconst formatFlags = /%[a-zA-Z]/g;\ntype DateFormatter = (date: Date) => string;\n\nexport function dateToString(format: string, locale: ILocale): DateFormatter {\n\tif (typeof format == \"function\") return format;\n\n\treturn function (date: Date): string {\n\t\tif (!date) return \"\";\n\t\tif (!date.getMonth) date = new Date(date);\n\n\t\treturn format.replace(\n\t\t\tformatFlags,\n\t\t\ts => date2str(s, date, locale) as string\n\t\t);\n\t};\n}\n","type Dictionary = (key: string) => string;\ntype IHash<T> = { [key: string]: T };\ntype Group<T> = IHash<IHash<T> | T>;\nexport type Terms = Group<string>;\n\nexport interface ILocale {\n\tgetGroup(group: string): Dictionary;\n\tgetRaw(): Terms;\n\textend(values: Terms, optional: boolean): ILocale;\n}\n\nfunction isObject(a: string | IHash<string>) {\n\treturn a && typeof a === \"object\" && !Array.isArray(a);\n}\n\nfunction extend(a: Terms, b: Terms): Terms {\n\tfor (const key in b) {\n\t\tconst from = b[key];\n\t\tif (isObject(a[key]) && isObject(from)) {\n\t\t\ta[key] = extend(\n\t\t\t\t{ ...(a[key] as IHash<string>) },\n\t\t\t\tb[key] as IHash<string>\n\t\t\t) as IHash<string>;\n\t\t} else {\n\t\t\ta[key] = b[key];\n\t\t}\n\t}\n\n\treturn a;\n}\n\nexport function locale(words: Terms): ILocale {\n\treturn {\n\t\tgetGroup(group: string): Dictionary {\n\t\t\tconst block = words[group] as IHash<string>;\n\t\t\treturn (key: string) => {\n\t\t\t\treturn block ? block[key] || key : key;\n\t\t\t};\n\t\t},\n\t\tgetRaw(): Terms {\n\t\t\treturn words;\n\t\t},\n\t\textend(values: Terms, optional: boolean): ILocale {\n\t\t\tif (!values) return this;\n\n\t\t\tlet data: Terms;\n\t\t\tif (optional) {\n\t\t\t\tdata = extend({ ...values }, words);\n\t\t\t} else {\n\t\t\t\tdata = extend({ ...words }, values);\n\t\t\t}\n\n\t\t\treturn locale(data);\n\t\t},\n\t};\n}\n","import type { Env, RemoveEventListener } from \"./env\";\n\nexport const salesForceEnv: Partial<Env> = {\n\tdetect() {\n\t\tif (typeof window === \"undefined\") return false;\n\t\treturn (\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\t\t\t!!(window as any)[\"Sfdc\"] ||\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\t\t\t!!(window as any)[\"$A\"] ||\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\t\t\t!!(window as any)[\"Aura\"] ||\n\t\t\t\"$shadowResolver$\" in document.body\n\t\t);\n\t},\n\taddGlobalEvent: function (\n\t\tevent: string,\n\t\thandler: EventListenerOrEventListenerObject,\n\t\trel: HTMLElement\n\t): RemoveEventListener {\n\t\tconst d = salesForceEnv.getTopNode(rel);\n\t\td.addEventListener(event, handler);\n\t\treturn () => d.removeEventListener(event, handler);\n\t},\n\tgetTopNode: function (rel: HTMLElement): HTMLElement {\n\t\treturn rel.closest('[data-wx-root=\"true\"]') as HTMLElement;\n\t},\n};\n"],"names":["id","node","pos","hotkeys","locale"],"mappings":"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"}},
    {"offset": {"line": 596, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@svar-ui/lib-react/dist/index.js","sources":["file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/lib-react/src/hooks.ts","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/lib-react/src/helpers.ts","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/lib-react/src/writable.ts","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/lib-react/src/dom.ts"],"sourcesContent":["import { useEffect, useState, useRef } from \"react\";\nimport { hotkeys } from \"@svar-ui/lib-dom\";\nimport { Writable } from \"./writable\";\n\nexport type Store<T> = {\n\tgetState: () => Record<string, T>;\n\tgetReactiveState: () => Record<string, Writable<T>>;\n};\n\nexport function useWritableProp<T>(propValue: T): [T, (value: T) => void] {\n\tconst [value, setValue] = useState<T>(propValue);\n\tconst prevPropRef = useRef(propValue);\n\n\t// Use useEffect to handle prop changes\n\tuseEffect(() => {\n\t\t// Only update if the prop has actually changed\n\t\tif (prevPropRef.current !== propValue) {\n\t\t\tif (\n\t\t\t\tArray.isArray(prevPropRef.current) &&\n\t\t\t\tArray.isArray(propValue) &&\n\t\t\t\tprevPropRef.current.length === 0 &&\n\t\t\t\tpropValue.length === 0\n\t\t\t)\n\t\t\t\treturn;\n\n\t\t\tprevPropRef.current = propValue;\n\t\t\tsetValue(propValue);\n\t\t}\n\t}, [propValue]);\n\n\treturn [value, setValue];\n}\n\nexport function useWritable<T>(\n\twritable: Writable<T>,\n\tinitialValue: T,\n\tname: string\n): T {\n\tconst [state, setState] = useState(() => initialValue);\n\t// FIXME - `dynamic` property not set, so use ?.\n\tif (!writable) console.warn(`Writable ${name} is not defined`);\n\tuseEffect(() => {\n\t\tif (!writable) return;\n\n\t\tconst unsubscribe = writable.subscribe(newValue => {\n\t\t\t// console.log(\"useWritable\", name, newValue);\n\t\t\tsetState(() => newValue);\n\t\t});\n\n\t\treturn unsubscribe;\n\t}, [writable]);\n\treturn state;\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function useStore<T>(store: Store<any>, name: string): T {\n\tconst s = store.getState();\n\tconst r = store.getReactiveState();\n\treturn useWritable(r[name] as Writable<T>, s[name] as T, name);\n}\n\nexport function useStoreLater<T>(\n\tstore: Store<any> | undefined,\n\tname: string\n): T {\n\tconst [state, setState] = useState((): T | null => null);\n\tuseEffect(() => {\n\t\tif (!store) return;\n\t\tconst r = store.getReactiveState();\n\t\tconst wr = r ? r[name] : null;\n\t\tif (!wr) return;\n\n\t\tconst unsubscribe = wr.subscribe((newValue: T) => setState(() => newValue));\n\t\treturn unsubscribe;\n\t}, [store, name]);\n\treturn state;\n}\n\nexport function useWritableWithCounter<T>(\n\twritable: Writable<T>,\n\tinitialValue: T\n): [T, number] {\n\tconst state = useRef<T>(initialValue);\n\tstate.current = initialValue;\n\tconst [counter, setCounter] = useState(1);\n\n\tuseEffect(() => {\n\t\tconst unsubscribe = writable.subscribe(newValue => {\n\t\t\tstate.current = newValue;\n\t\t\tsetCounter(v => v + 1);\n\t\t});\n\n\t\treturn unsubscribe;\n\t}, [writable]);\n\treturn [state.current, counter];\n}\n\nexport function useStoreWithCounter<T>(\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\tstore: Store<any>,\n\tname: string\n): [T, number] {\n\tconst s = store.getState();\n\tconst r = store.getReactiveState();\n\n\treturn useWritableWithCounter(r[name] as Writable<T>, s[name] as T);\n}\n\ntype Handler = (\n\tev?: KeyboardEvent,\n\tkeys?: { key: string; evKey: string }\n) => void;\ntype HotkeysMap = Record<string, Handler | false>;\ntype HotkeysManager = {\n\tconfigure: (keys: HotkeysMap, node: Node) => void;\n};\n\nexport function useHotkeys(keys: HotkeysMap, nodeRef: React.RefObject<Node>) {\n\tuseEffect(() => {\n\t\tconst node = nodeRef.current;\n\t\tif (!node) return;\n\t\treturn hotkeys.subscribe((sk: HotkeysManager) => {\n\t\t\tsk.configure(keys, node);\n\t\t});\n\t}, [hotkeys, nodeRef]);\n}\n","type DirectiveResult = {\n\tdestroy: () => void;\n};\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\nexport function snippet(name: any, arg: any): any {\n\tif (typeof name === \"function\") {\n\t\tif (typeof arg === \"object\") {\n\t\t\treturn name(arg);\n\t\t} else {\n\t\t\treturn name();\n\t\t}\n\t}\n\treturn name;\n}\n\nexport function directive(\n\tresult: DirectiveResult | undefined\n): () => void | undefined {\n\tif (\n\t\tresult &&\n\t\ttypeof result === \"object\" &&\n\t\ttypeof result.destroy === \"function\"\n\t) {\n\t\treturn result.destroy;\n\t}\n}\n\nexport function styleObject(text: string): Record<string, string> {\n\tconst out: Record<string, string> = {};\n\ttext.split(\";\").forEach(x => {\n\t\tconst [k, v] = x.split(\":\");\n\t\tif (v) {\n\t\t\tlet n = k.trim();\n\t\t\tif (n.indexOf(\"-\")) n = n.replace(/-([a-z])/g, (_, c) => c.toUpperCase());\n\t\t\tout[n] = v.trim();\n\t\t}\n\t});\n\treturn out;\n}\n\nexport function tick(): Promise<void> {\n\treturn new Promise(resolve => {\n\t\trequestAnimationFrame(() => {\n\t\t\tsetTimeout(resolve, 0);\n\t\t});\n\t});\n}\n","export type Writable<T> = {\n\tsubscribe: (cb: (value: T) => void) => void;\n\tunsubscribe: (cb: (value: T) => void) => void;\n\tset: (value: T) => void;\n\tupdate: (cb: (value: T) => T) => void;\n};\n\nexport type Subscribe<T> = (value: T) => void;\nexport type Update<T> = (value: T) => T;\n\nexport function writable<T>(value: T): Writable<T> {\n\tlet _value = value;\n\tlet listeners: Subscribe<T>[] = [];\n\n\tconst subscribe = (cb: Subscribe<T>) => {\n\t\tlisteners.push(cb);\n\t\tcb(_value);\n\t};\n\n\tconst unsubscribe = (cb: Subscribe<T>) => {\n\t\tlisteners = listeners.filter(l => l !== cb);\n\t};\n\n\tconst update = (cb: Update<T>) => {\n\t\t_value = cb(_value);\n\t\tlisteners.forEach(l => l(_value));\n\t};\n\n\tconst set = (v: T) => {\n\t\t_value = v;\n\t\tlisteners.forEach(l => l(_value));\n\t};\n\n\treturn {\n\t\tsubscribe,\n\t\tunsubscribe,\n\t\tset,\n\t\tupdate,\n\t};\n}\n","import { locate, id as parseId, env } from \"@svar-ui/lib-dom\";\n\ntype Unsubscribe = () => void;\ntype EventHandler = (id: string | number, ev: Event) => void;\n\nexport function delegateEvent(\n\tnode: HTMLElement,\n\thandlers: Record<string, EventHandler> | EventHandler,\n\tevent: string\n): Unsubscribe {\n\tfunction handleEvent(ev: Event) {\n\t\tconst node = locate(ev);\n\t\tif (!node) return;\n\t\tconst id = parseId(node.dataset.id);\n\n\t\tif (typeof handlers === \"function\") return handlers(id, ev);\n\n\t\tlet action;\n\t\tlet test = ev.target as HTMLElement;\n\t\twhile (test != node) {\n\t\t\taction = test.dataset ? test.dataset.action : null;\n\t\t\tif (action) {\n\t\t\t\tif (handlers[action]) {\n\t\t\t\t\thandlers[action](id, ev);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttest = test.parentNode as HTMLElement;\n\t\t}\n\t\tif (handlers[event]) handlers[event](id, ev);\n\t}\n\n\treturn env.addEvent(node, event, handleEvent);\n}\n\nexport function delegateClick(\n\tnode: HTMLElement,\n\thandlers: Record<string, EventHandler>\n) {\n\tconst result = [delegateEvent(node, handlers, \"click\")];\n\tif (handlers.dblclick)\n\t\tresult.push(delegateEvent(node, handlers.dblclick, \"dblclick\"));\n\n\treturn (): void => {\n\t\tresult.forEach(r => r());\n\t};\n}\n"],"names":["writable","node","id","parseId"],"mappings":"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"}},
    {"offset": {"line": 844, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/core-locales/locales/en.js"],"sourcesContent":["const lang = \"en-US\";\n\nconst calendar = {\n\tmonthFull: [\n\t\t\"January\",\n\t\t\"February\",\n\t\t\"March\",\n\t\t\"April\",\n\t\t\"May\",\n\t\t\"June\",\n\t\t\"July\",\n\t\t\"August\",\n\t\t\"September\",\n\t\t\"October\",\n\t\t\"November\",\n\t\t\"December\",\n\t],\n\tmonthShort: [\n\t\t\"Jan\",\n\t\t\"Feb\",\n\t\t\"Mar\",\n\t\t\"Apr\",\n\t\t\"May\",\n\t\t\"Jun\",\n\t\t\"Jul\",\n\t\t\"Aug\",\n\t\t\"Sep\",\n\t\t\"Oct\",\n\t\t\"Nov\",\n\t\t\"Dec\",\n\t],\n\tdayFull: [\n\t\t\"Sunday\",\n\t\t\"Monday\",\n\t\t\"Tuesday\",\n\t\t\"Wednesday\",\n\t\t\"Thursday\",\n\t\t\"Friday\",\n\t\t\"Saturday\",\n\t],\n\tdayShort: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n\thours: \"Hours\",\n\tminutes: \"Minutes\",\n\tdone: \"Done\",\n\tclear: \"Clear\",\n\ttoday: \"Today\",\n\tam: [\"am\", \"AM\"],\n\tpm: [\"pm\", \"PM\"],\n\n\tweekStart: 0,\n\tclockFormat: 24,\n};\n\nconst core = {\n\tok: \"OK\",\n\tcancel: \"Cancel\",\n\tselect: \"Select\",\n\t\"No data\": \"No data\",\n\t\"Rows per page\": \"Rows per page\",\n\t\"Total pages\": \"Total pages\",\n};\n\nconst formats = {\n\ttimeFormat: \"%H:%i\",\n\tdateFormat: \"%m/%d/%Y\",\n\tmonthYearFormat: \"%F %Y\",\n\tyearFormat: \"%Y\",\n};\n\nconst data = {\n\tcore,\n\tcalendar,\n\tformats,\n\tlang,\n};\n\nexport default data;\n"],"names":[],"mappings":";;;;AAAA,MAAM,OAAO;AAEb,MAAM,WAAW;IAChB,WAAW;QACV;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACA;IACD,YAAY;QACX;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACA;IACD,SAAS;QACR;QACA;QACA;QACA;QACA;QACA;QACA;KACA;IACD,UAAU;QAAC;QAAO;QAAO;QAAO;QAAO;QAAO;QAAO;KAAM;IAC3D,OAAO;IACP,SAAS;IACT,MAAM;IACN,OAAO;IACP,OAAO;IACP,IAAI;QAAC;QAAM;KAAK;IAChB,IAAI;QAAC;QAAM;KAAK;IAEhB,WAAW;IACX,aAAa;AACd;AAEA,MAAM,OAAO;IACZ,IAAI;IACJ,QAAQ;IACR,QAAQ;IACR,WAAW;IACX,iBAAiB;IACjB,eAAe;AAChB;AAEA,MAAM,UAAU;IACf,YAAY;IACZ,YAAY;IACZ,iBAAiB;IACjB,YAAY;AACb;AAEA,MAAM,OAAO;IACZ;IACA;IACA;IACA;AACD;uCAEe","ignoreList":[0]}},
    {"offset": {"line": 937, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/core-locales/locales/cn.js"],"sourcesContent":["const lang = \"zh-CN\";\n\nconst calendar = {\n\tmonthFull: [\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n\t],\n\tmonthShort: [\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n\t],\n\tdayFull: [\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n\t],\n\tdayShort: [\"\", \"\", \"\", \"\", \"\", \"\", \"\"],\n\thours: \"\",\n\tminutes: \"\",\n\tdone: \"\",\n\tclear: \"\",\n\ttoday: \"\",\n\tam: [\"\", \"\"],\n\tpm: [\"\", \"\"],\n\n\tweekStart: 0,\n\tclockFormat: 24,\n};\n\nconst core = {\n\tok: \"\",\n\tcancel: \"\",\n\tselect: \"\",\n\t\"No data\": \"\",\n\t\"Rows per page\": \"\",\n\t\"Total pages\": \"\",\n};\n\nconst formats = {\n\ttimeFormat: \"%H:%i\",\n\tdateFormat: \"%Y-%m-%d\",\n\tmonthYearFormat: \"%F %Y\",\n\tyearFormat: \"%Y\",\n};\n\nconst data = {\n\tcore,\n\tcalendar,\n\tformats,\n\tlang,\n};\n\nexport default data;\n"],"names":[],"mappings":";;;;AAAA,MAAM,OAAO;AAEb,MAAM,WAAW;IAChB,WAAW;QACV;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACA;IACD,YAAY;QACX;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACA;IACD,SAAS;QACR;QACA;QACA;QACA;QACA;QACA;QACA;KACA;IACD,UAAU;QAAC;QAAM;QAAM;QAAM;QAAM;QAAM;QAAM;KAAK;IACpD,OAAO;IACP,SAAS;IACT,MAAM;IACN,OAAO;IACP,OAAO;IACP,IAAI;QAAC;QAAI;KAAG;IACZ,IAAI;QAAC;QAAI;KAAG;IAEZ,WAAW;IACX,aAAa;AACd;AAEA,MAAM,OAAO;IACZ,IAAI;IACJ,QAAQ;IACR,QAAQ;IACR,WAAW;IACX,iBAAiB;IACjB,eAAe;AAChB;AAEA,MAAM,UAAU;IACf,YAAY;IACZ,YAAY;IACZ,iBAAiB;IACjB,YAAY;AACb;AAEA,MAAM,OAAO;IACZ;IACA;IACA;IACA;AACD;uCAEe","ignoreList":[0]}},
    {"offset": {"line": 1030, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/core-locales/locales/de.js"],"sourcesContent":["const lang = \"de-DE\";\n\nconst calendar = {\n\tmonthFull: [\n\t\t\"Januar\",\n\t\t\"Februar\",\n\t\t\"Mrz\",\n\t\t\"April\",\n\t\t\"Mai\",\n\t\t\"Juni\",\n\t\t\"Juli\",\n\t\t\"August\",\n\t\t\"September\",\n\t\t\"Oktober\",\n\t\t\"November\",\n\t\t\"Dezember\",\n\t],\n\tmonthShort: [\n\t\t\"Jan\",\n\t\t\"Feb\",\n\t\t\"Mrz\",\n\t\t\"Apr\",\n\t\t\"Mai\",\n\t\t\"Jun\",\n\t\t\"Jul\",\n\t\t\"Aug\",\n\t\t\"Sep\",\n\t\t\"Okt\",\n\t\t\"Nov\",\n\t\t\"Dez\",\n\t],\n\tdayFull: [\n\t\t\"Sonntag\",\n\t\t\"Montag\",\n\t\t\"Dienstag\",\n\t\t\"Mittwoch\",\n\t\t\"Donnerstag\",\n\t\t\"Freitag\",\n\t\t\"Samstag\",\n\t],\n\tdayShort: [\"So\", \"Mo\", \"Di\", \"Mi\", \"Do\", \"Fr\", \"Sa\"],\n\thours: \"Stunden\",\n\tminutes: \"Minuten\",\n\tdone: \"Fertig\",\n\tclear: \"Entfernen\",\n\ttoday: \"Heute\",\n\n\tweekStart: 1,\n\tclockFormat: 24,\n};\n\nconst core = {\n\tok: \"OK\",\n\tcancel: \"Abbrechen\",\n\tselect: \"Auswhlen\",\n\t\"No data\": \"Keine Daten\",\n\t\"Rows per page\": \"Zeilen pro Seite\",\n\t\"Total pages\": \"Gesamtseiten\",\n};\n\nconst formats = {\n\ttimeFormat: \"%H:%i\",\n\tdateFormat: \"%d.%m.%Y\",\n\tmonthYearFormat: \"%F %Y\",\n\tyearFormat: \"%Y\",\n};\n\nconst data = {\n\tcore,\n\tcalendar,\n\tformats,\n\tlang,\n};\n\nexport default data;\n"],"names":[],"mappings":";;;;AAAA,MAAM,OAAO;AAEb,MAAM,WAAW;IAChB,WAAW;QACV;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACA;IACD,YAAY;QACX;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACA;IACD,SAAS;QACR;QACA;QACA;QACA;QACA;QACA;QACA;KACA;IACD,UAAU;QAAC;QAAM;QAAM;QAAM;QAAM;QAAM;QAAM;KAAK;IACpD,OAAO;IACP,SAAS;IACT,MAAM;IACN,OAAO;IACP,OAAO;IAEP,WAAW;IACX,aAAa;AACd;AAEA,MAAM,OAAO;IACZ,IAAI;IACJ,QAAQ;IACR,QAAQ;IACR,WAAW;IACX,iBAAiB;IACjB,eAAe;AAChB;AAEA,MAAM,UAAU;IACf,YAAY;IACZ,YAAY;IACZ,iBAAiB;IACjB,YAAY;AACb;AAEA,MAAM,OAAO;IACZ;IACA;IACA;IACA;AACD;uCAEe","ignoreList":[0]}},
    {"offset": {"line": 1115, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/core-locales/locales/es.js"],"sourcesContent":["const lang = \"es-ES\";\n\nconst calendar = {\n\tmonthFull: [\n\t\t\"enero\",\n\t\t\"febrero\",\n\t\t\"marzo\",\n\t\t\"abril\",\n\t\t\"mayo\",\n\t\t\"junio\",\n\t\t\"julio\",\n\t\t\"agosto\",\n\t\t\"septiembre\",\n\t\t\"octubre\",\n\t\t\"noviembre\",\n\t\t\"diciembre\",\n\t],\n\tmonthShort: [\n\t\t\"ene\",\n\t\t\"feb\",\n\t\t\"mar\",\n\t\t\"abr\",\n\t\t\"may\",\n\t\t\"jun\",\n\t\t\"jul\",\n\t\t\"ago\",\n\t\t\"sep\",\n\t\t\"oct\",\n\t\t\"nov\",\n\t\t\"dic\",\n\t],\n\tdayFull: [\n\t\t\"domingo\",\n\t\t\"lunes\",\n\t\t\"martes\",\n\t\t\"mircoles\",\n\t\t\"jueves\",\n\t\t\"viernes\",\n\t\t\"sbado\",\n\t],\n\tdayShort: [\"dom\", \"lun\", \"mar\", \"mi\", \"jue\", \"vie\", \"sb\"],\n\thours: \"Horas\",\n\tminutes: \"Minutos\",\n\tdone: \"Listo\",\n\tclear: \"Reinicio\",\n\ttoday: \"Hoy\",\n\n\tweekStart: 1,\n\tclockFormat: 24,\n};\n\nconst core = {\n\tok: \"OK\",\n\tcancel: \"Cancelar\",\n\tselect: \"Seleccionar\",\n\t\"No data\": \"Sin datos\",\n\t\"Rows per page\": \"Filas por pgina\",\n\t\"Total pages\": \"Total de pginas\",\n};\n\nconst formats = {\n\ttimeFormat: \"%H:%i\",\n\tdateFormat: \"%d/%m/%Y\",\n\tmonthYearFormat: \"%F %Y\",\n\tyearFormat: \"%Y\",\n};\n\nconst data = {\n\tcore,\n\tcalendar,\n\tformats,\n\tlang,\n};\n\nexport default data;\n"],"names":[],"mappings":";;;;AAAA,MAAM,OAAO;AAEb,MAAM,WAAW;IAChB,WAAW;QACV;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACA;IACD,YAAY;QACX;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACA;IACD,SAAS;QACR;QACA;QACA;QACA;QACA;QACA;QACA;KACA;IACD,UAAU;QAAC;QAAO;QAAO;QAAO;QAAO;QAAO;QAAO;KAAM;IAC3D,OAAO;IACP,SAAS;IACT,MAAM;IACN,OAAO;IACP,OAAO;IAEP,WAAW;IACX,aAAa;AACd;AAEA,MAAM,OAAO;IACZ,IAAI;IACJ,QAAQ;IACR,QAAQ;IACR,WAAW;IACX,iBAAiB;IACjB,eAAe;AAChB;AAEA,MAAM,UAAU;IACf,YAAY;IACZ,YAAY;IACZ,iBAAiB;IACjB,YAAY;AACb;AAEA,MAAM,OAAO;IACZ;IACA;IACA;IACA;AACD;uCAEe","ignoreList":[0]}},
    {"offset": {"line": 1200, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/core-locales/locales/fr.js"],"sourcesContent":["const lang = \"fr-FR\";\n\nconst calendar = {\n\tmonthFull: [\n\t\t\"Janvier\",\n\t\t\"Fvrier\",\n\t\t\"Mars\",\n\t\t\"Avril\",\n\t\t\"Mai\",\n\t\t\"Juin\",\n\t\t\"Juillet\",\n\t\t\"Aot\",\n\t\t\"Septembre\",\n\t\t\"Octobre\",\n\t\t\"Novembre\",\n\t\t\"Dcembre\",\n\t],\n\tmonthShort: [\n\t\t\"Jan\",\n\t\t\"Fv\",\n\t\t\"Mar\",\n\t\t\"Avr\",\n\t\t\"Mai\",\n\t\t\"Juin\",\n\t\t\"Juil\",\n\t\t\"Au\",\n\t\t\"Sep\",\n\t\t\"Oct\",\n\t\t\"Nov\",\n\t\t\"Dc\",\n\t],\n\tdayFull: [\n\t\t\"Dimanche\",\n\t\t\"Lundi\",\n\t\t\"Mardi\",\n\t\t\"Mercredi\",\n\t\t\"Jeudi\",\n\t\t\"Vendredi\",\n\t\t\"Samedi\",\n\t],\n\tdayShort: [\"Dim\", \"Lun\", \"Mar\", \"Mer\", \"Jeu\", \"Ven\", \"Sam\"],\n\thours: \"Heures\",\n\tminutes: \"Minutes\",\n\tdone: \"Fini\",\n\tclear: \"Effacer\",\n\ttoday: \"Aujourd'hui\",\n\n\tweekStart: 1,\n\tclockFormat: 24,\n};\n\nconst core = {\n\tok: \"OK\",\n\tcancel: \"Annuler\",\n\tselect: \"Slectionner\",\n\t\"No data\": \"Pas de donnes\",\n\t\"Rows per page\": \"Lignes par page\",\n\t\"Total pages\": \"Nombre total de pages\",\n};\n\nconst formats = {\n\ttimeFormat: \"%H:%i\",\n\tdateFormat: \"%d/%m/%Y\",\n\tmonthYearFormat: \"%F %Y\",\n\tyearFormat: \"%Y\",\n};\n\nconst data = {\n\tcore,\n\tcalendar,\n\tformats,\n\tlang,\n};\n\nexport default data;\n"],"names":[],"mappings":";;;;AAAA,MAAM,OAAO;AAEb,MAAM,WAAW;IAChB,WAAW;QACV;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACA;IACD,YAAY;QACX;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACA;IACD,SAAS;QACR;QACA;QACA;QACA;QACA;QACA;QACA;KACA;IACD,UAAU;QAAC;QAAO;QAAO;QAAO;QAAO;QAAO;QAAO;KAAM;IAC3D,OAAO;IACP,SAAS;IACT,MAAM;IACN,OAAO;IACP,OAAO;IAEP,WAAW;IACX,aAAa;AACd;AAEA,MAAM,OAAO;IACZ,IAAI;IACJ,QAAQ;IACR,QAAQ;IACR,WAAW;IACX,iBAAiB;IACjB,eAAe;AAChB;AAEA,MAAM,UAAU;IACf,YAAY;IACZ,YAAY;IACZ,iBAAiB;IACjB,YAAY;AACb;AAEA,MAAM,OAAO;IACZ;IACA;IACA;IACA;AACD;uCAEe","ignoreList":[0]}},
    {"offset": {"line": 1285, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/core-locales/locales/it.js"],"sourcesContent":["const lang = \"it-IT\";\n\nconst calendar = {\n\tmonthFull: [\n\t\t\"gennaio\",\n\t\t\"febbraio\",\n\t\t\"marzo\",\n\t\t\"aprile\",\n\t\t\"maggio\",\n\t\t\"giugno\",\n\t\t\"luglio\",\n\t\t\"agosto\",\n\t\t\"settembre\",\n\t\t\"ottobre\",\n\t\t\"novembre\",\n\t\t\"dicembre\",\n\t],\n\tmonthShort: [\n\t\t\"gen\",\n\t\t\"feb\",\n\t\t\"mar\",\n\t\t\"apr\",\n\t\t\"mag\",\n\t\t\"giu\",\n\t\t\"lug\",\n\t\t\"ago\",\n\t\t\"set\",\n\t\t\"ott\",\n\t\t\"nov\",\n\t\t\"dic\",\n\t],\n\tdayFull: [\n\t\t\"domenica\",\n\t\t\"luned\",\n\t\t\"marted\",\n\t\t\"mercoled\",\n\t\t\"gioved\",\n\t\t\"venerd\",\n\t\t\"sabato\",\n\t],\n\tdayShort: [\"dom\", \"lun\", \"mar\", \"mer\", \"gio\", \"ven\", \"sab\"],\n\thours: \"Orario\",\n\tminutes: \"Minuti\",\n\tdone: \"Pronto\",\n\tclear: \"Pulisci\",\n\ttoday: \"Oggi\",\n\n\tweekStart: 1,\n\tclockFormat: 24,\n};\n\nconst core = {\n\tok: \"OK\",\n\tcancel: \"Annullare\",\n\tselect: \"Seleziona\",\n\t\"No data\": \"Nessun dato\",\n\t\"Rows per page\": \"Righe per pagina\",\n\t\"Total pages\": \"Pagine totali\",\n};\n\nconst formats = {\n\ttimeFormat: \"%H:%i\",\n\tdateFormat: \"%d/%m/%Y\",\n\tmonthYearFormat: \"%F %Y\",\n\tyearFormat: \"%Y\",\n};\n\nconst data = {\n\tcore,\n\tcalendar,\n\tformats,\n\tlang,\n};\n\nexport default data;\n"],"names":[],"mappings":";;;;AAAA,MAAM,OAAO;AAEb,MAAM,WAAW;IAChB,WAAW;QACV;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACA;IACD,YAAY;QACX;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACA;IACD,SAAS;QACR;QACA;QACA;QACA;QACA;QACA;QACA;KACA;IACD,UAAU;QAAC;QAAO;QAAO;QAAO;QAAO;QAAO;QAAO;KAAM;IAC3D,OAAO;IACP,SAAS;IACT,MAAM;IACN,OAAO;IACP,OAAO;IAEP,WAAW;IACX,aAAa;AACd;AAEA,MAAM,OAAO;IACZ,IAAI;IACJ,QAAQ;IACR,QAAQ;IACR,WAAW;IACX,iBAAiB;IACjB,eAAe;AAChB;AAEA,MAAM,UAAU;IACf,YAAY;IACZ,YAAY;IACZ,iBAAiB;IACjB,YAAY;AACb;AAEA,MAAM,OAAO;IACZ;IACA;IACA;IACA;AACD;uCAEe","ignoreList":[0]}},
    {"offset": {"line": 1370, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/core-locales/locales/ja.js"],"sourcesContent":["const lang = \"ja-JP\";\n\nconst calendar = {\n\tmonthFull: [\n\t\t\"1\",\n\t\t\"2\",\n\t\t\"3\",\n\t\t\"4\",\n\t\t\"5\",\n\t\t\"6\",\n\t\t\"7\",\n\t\t\"8\",\n\t\t\"9\",\n\t\t\"10\",\n\t\t\"11\",\n\t\t\"12\",\n\t],\n\tmonthShort: [\n\t\t\"1\",\n\t\t\"2\",\n\t\t\"3\",\n\t\t\"4\",\n\t\t\"5\",\n\t\t\"6\",\n\t\t\"7\",\n\t\t\"8\",\n\t\t\"9\",\n\t\t\"10\",\n\t\t\"11\",\n\t\t\"12\",\n\t],\n\tdayFull: [\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n\t],\n\tdayShort: [\"\", \"\", \"\", \"\", \"\", \"\", \"\"],\n\thours: \"\",\n\tminutes: \"\",\n\tdone: \"\",\n\tclear: \"\",\n\ttoday: \"\",\n\n\tweekStart: 1,\n\tclockFormat: 24,\n};\n\nconst core = {\n\tok: \"OK\",\n\tcancel: \"\",\n\tselect: \"\",\n\t\"No data\": \"\",\n\t\"Rows per page\": \"1\",\n\t\"Total pages\": \"\",\n};\n\nconst formats = {\n\ttimeFormat: \"%H:%i\",\n\tdateFormat: \"%Y%m%d\",\n\tmonthYearFormat: \"%m%Y\",\n\tyearFormat: \"%Y\",\n};\n\nconst data = {\n\tcore,\n\tcalendar,\n\tformats,\n\tlang,\n};\n\nexport default data;\n"],"names":[],"mappings":";;;;AAAA,MAAM,OAAO;AAEb,MAAM,WAAW;IAChB,WAAW;QACV;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACA;IACD,YAAY;QACX;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACA;IACD,SAAS;QACR;QACA;QACA;QACA;QACA;QACA;QACA;KACA;IACD,UAAU;QAAC;QAAK;QAAK;QAAK;QAAK;QAAK;QAAK;KAAI;IAC7C,OAAO;IACP,SAAS;IACT,MAAM;IACN,OAAO;IACP,OAAO;IAEP,WAAW;IACX,aAAa;AACd;AAEA,MAAM,OAAO;IACZ,IAAI;IACJ,QAAQ;IACR,QAAQ;IACR,WAAW;IACX,iBAAiB;IACjB,eAAe;AAChB;AAEA,MAAM,UAAU;IACf,YAAY;IACZ,YAAY;IACZ,iBAAiB;IACjB,YAAY;AACb;AAEA,MAAM,OAAO;IACZ;IACA;IACA;IACA;AACD;uCAEe","ignoreList":[0]}},
    {"offset": {"line": 1455, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/core-locales/locales/pt.js"],"sourcesContent":["const lang = \"pt-PT\";\n\nconst calendar = {\n\tmonthFull: [\n\t\t\"Janeiro\",\n\t\t\"Fevereiro\",\n\t\t\"Maro\",\n\t\t\"Abril\",\n\t\t\"Maio\",\n\t\t\"Junho\",\n\t\t\"Julho\",\n\t\t\"Agosto\",\n\t\t\"Setembro\",\n\t\t\"Outubro\",\n\t\t\"Novembro\",\n\t\t\"Dezembro\",\n\t],\n\tmonthShort: [\n\t\t\"Jan\",\n\t\t\"Fev\",\n\t\t\"Mar\",\n\t\t\"Abr\",\n\t\t\"Mai\",\n\t\t\"Jun\",\n\t\t\"Jul\",\n\t\t\"Ago\",\n\t\t\"Set\",\n\t\t\"Out\",\n\t\t\"Nov\",\n\t\t\"Dez\",\n\t],\n\tdayFull: [\n\t\t\"Domingo\",\n\t\t\"Segunda-Feira\",\n\t\t\"Tera-Feira\",\n\t\t\"Quarta-Feira\",\n\t\t\"Quinta-Feira\",\n\t\t\"Sexta-Feira\",\n\t\t\"Sbado\",\n\t],\n\tdayShort: [\"Dom\", \"Seg\", \"Ter\", \"Qua\", \"Qui\", \"Sex\", \"Sb\"],\n\thours: \"Horas\",\n\tminutes: \"Minutos\",\n\tdone: \"Feito\",\n\tclear: \"Limpar\",\n\ttoday: \"Hoje\",\n\n\tweekStart: 1,\n\tclockFormat: 24,\n};\n\nconst core = {\n\tok: \"OK\",\n\tcancel: \"Cancelar\",\n\tselect: \"Selecionar\",\n\t\"No data\": \"Sem dados\",\n\t\"Rows per page\": \"Linhas por pgina\",\n\t\"Total pages\": \"Total de pginas\",\n};\n\nconst formats = {\n\ttimeFormat: \"%H:%i\",\n\tdateFormat: \"%d/%m/%Y\",\n\tmonthYearFormat: \"%F %Y\",\n\tyearFormat: \"%Y\",\n};\n\nconst data = {\n\tcore,\n\tcalendar,\n\tformats,\n\tlang,\n};\n\nexport default data;\n"],"names":[],"mappings":";;;;AAAA,MAAM,OAAO;AAEb,MAAM,WAAW;IAChB,WAAW;QACV;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACA;IACD,YAAY;QACX;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACA;IACD,SAAS;QACR;QACA;QACA;QACA;QACA;QACA;QACA;KACA;IACD,UAAU;QAAC;QAAO;QAAO;QAAO;QAAO;QAAO;QAAO;KAAM;IAC3D,OAAO;IACP,SAAS;IACT,MAAM;IACN,OAAO;IACP,OAAO;IAEP,WAAW;IACX,aAAa;AACd;AAEA,MAAM,OAAO;IACZ,IAAI;IACJ,QAAQ;IACR,QAAQ;IACR,WAAW;IACX,iBAAiB;IACjB,eAAe;AAChB;AAEA,MAAM,UAAU;IACf,YAAY;IACZ,YAAY;IACZ,iBAAiB;IACjB,YAAY;AACb;AAEA,MAAM,OAAO;IACZ;IACA;IACA;IACA;AACD;uCAEe","ignoreList":[0]}},
    {"offset": {"line": 1540, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/core-locales/locales/ru.js"],"sourcesContent":["const lang = \"ru-RU\";\n\nconst calendar = {\n\tmonthFull: [\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n\t\t\"Ma\",\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n\t\t\"O\",\n\t\t\"\",\n\t\t\"\",\n\t],\n\tmonthShort: [\n\t\t\"\",\n\t\t\"\",\n\t\t\"Ma\",\n\t\t\"A\",\n\t\t\"Ma\",\n\t\t\"\",\n\t\t\"\",\n\t\t\"A\",\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n\t],\n\tdayFull: [\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n\t],\n\tdayShort: [\"\", \"\", \"\", \"\", \"\", \"\", \"\"],\n\thours: \"\",\n\tminutes: \"\",\n\tdone: \"oo\",\n\tclear: \"\",\n\ttoday: \"\",\n\n\tweekStart: 1,\n\tclockFormat: 24,\n};\n\nconst core = {\n\tok: \"OK\",\n\tcancel: \"\",\n\tselect: \"\",\n\t\"No data\": \" \",\n\t\"Rows per page\": \"  \",\n\t\"Total pages\": \" \",\n};\n\nconst formats = {\n\ttimeFormat: \"%H:%i\",\n\tdateFormat: \"%d.%m.%Y\",\n\tmonthYearFormat: \"%F %Y\",\n\tyearFormat: \"%Y\",\n};\n\nconst data = {\n\tcore,\n\tcalendar,\n\tformats,\n\tlang,\n};\n\nexport default data;\n"],"names":[],"mappings":";;;;AAAA,MAAM,OAAO;AAEb,MAAM,WAAW;IAChB,WAAW;QACV;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACA;IACD,YAAY;QACX;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACA;IACD,SAAS;QACR;QACA;QACA;QACA;QACA;QACA;QACA;KACA;IACD,UAAU;QAAC;QAAM;QAAM;QAAM;QAAM;QAAM;QAAM;KAAK;IACpD,OAAO;IACP,SAAS;IACT,MAAM;IACN,OAAO;IACP,OAAO;IAEP,WAAW;IACX,aAAa;AACd;AAEA,MAAM,OAAO;IACZ,IAAI;IACJ,QAAQ;IACR,QAAQ;IACR,WAAW;IACX,iBAAiB;IACjB,eAAe;AAChB;AAEA,MAAM,UAAU;IACf,YAAY;IACZ,YAAY;IACZ,iBAAiB;IACjB,YAAY;AACb;AAEA,MAAM,OAAO;IACZ;IACA;IACA;IACA;AACD;uCAEe","ignoreList":[0]}},
    {"offset": {"line": 1625, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/core-locales/index.js"],"sourcesContent":["export { default as en } from \"./locales/en.js\";\nexport { default as cn } from \"./locales/cn.js\";\nexport { default as de } from \"./locales/de.js\";\nexport { default as es } from \"./locales/es.js\";\nexport { default as fr } from \"./locales/fr.js\";\nexport { default as it } from \"./locales/it.js\";\nexport { default as ja } from \"./locales/ja.js\";\nexport { default as pt } from \"./locales/pt.js\";\nexport { default as ru } from \"./locales/ru.js\";\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","ignoreList":[0]}},
    {"offset": {"line": 1657, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@svar-ui/react-core/dist/index.es.js","sources":["file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/context.js","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/helpers/getInputId.js","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/TextArea.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/Button.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/Checkbox.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/CheckboxGroup.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/Dropdown.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/ColorSelect.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/helpers/sliderMove.js","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/helpers/colorTransformator.js","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/helpers/colorValidation.js","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/helpers/locale.js","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/ColorBoard.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/ColorPicker.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/helpers/listnav.js","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/helpers/SuggestDropdown.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/Combo.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/Text.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/calendar/Header.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/calendar/Button.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/calendar/Month.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/calendar/Year.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/calendar/Duodecade.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/calendar/helpers.js","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/calendar/Panel.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/Locale.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/Calendar.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/DatePicker.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/RangeCalendar.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/DateRangePicker.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/Fullscreen.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/Icon.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/MultiCombo.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/Popup.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/Pager.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/RadioButton.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/RadioButtonGroup.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/RichSelect.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/Segmented.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/Select.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/Slider.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/Switch.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/Tabs.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/Counter.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/Notice.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/Notices.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/Modal.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/Globals.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/Globals.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/Field.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/TwoState.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/TimePicker.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/ModalArea.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/SideArea.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/Portal.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/themes/FonttRoboto.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/themes/Material.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/themes/FontOpenSans.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/themes/Willow.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/themes/WillowDark.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/components/helpers/popup.js","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-core/src/index.js"],"sourcesContent":["import { createContext } from 'react';\n\nexport const theme = createContext('willow');\nexport const helpers = createContext({});\nexport const i18n = createContext(null);\nexport const fieldId = createContext(null);\n","import { useContext, useState } from 'react';\nimport { fieldId } from '../../context';\nimport { uid } from '@svar-ui/lib-dom';\n\nexport function useInputId(id) {\n  const register = useContext(fieldId);\n\n  const [inputId] = useState(() => id || (register && register()) || uid());\n\n  return inputId;\n}\n","import { useCallback, useEffect, useRef } from 'react';\nimport { useWritableProp } from '@svar-ui/lib-react';\nimport { useInputId } from './helpers/getInputId.js';\n\nimport './TextArea.css';\n\nexport default function TextArea({\n  value: propValue = '',\n  id,\n  placeholder = '',\n  title = '',\n  disabled = false,\n  error = false,\n  readonly = false,\n  onChange,\n}) {\n  const inputId = useInputId(id);\n  const [value, setValue] = useWritableProp(propValue);\n\n  const handleInput = useCallback(\n    (e) => {\n      const newValue = e.target.value;\n      setValue(newValue);\n      if (onChange) {\n        onChange({ value: newValue, input: true });\n      }\n    },\n    [onChange],\n  );\n\n  const ontextchange = useCallback(\n    (e) => {\n      const newValue = e.target.value;\n      setValue(newValue);\n      if (onChange) {\n        onChange({ value: newValue });\n      }\n    },\n    [onChange],\n  );\n\n  const inputRef = useRef(null);\n  useEffect(() => {\n    const handler = ontextchange;\n    const node = inputRef.current;\n    node.addEventListener('change', handler);\n    return () => {\n      if (node) {\n        node.removeEventListener('change', handler);\n      }\n    };\n  }, [ontextchange]);\n\n  return (\n    <textarea\n      className={'wx-3yFVAC' + ` wx-textarea ${error ? 'wx-error' : ''}`}\n      id={inputId}\n      disabled={disabled}\n      placeholder={placeholder}\n      readOnly={readonly}\n      title={title}\n      value={value}\n      onInput={handleInput}\n      ref={inputRef}\n    />\n  );\n}\n","import { useMemo } from 'react';\nimport './Button.css';\n\nexport default function Button({\n  type = '',\n  css = '',\n  icon = '',\n  disabled = false,\n  title = '',\n  text = '',\n  children,\n  onClick,\n}) {\n  const buttonCss = useMemo(() => {\n    let cssType = type\n      ? type\n          .split(' ')\n          .filter((a) => a !== '')\n          .map((x) => 'wx-' + x)\n          .join(' ')\n      : '';\n    return css + (css ? ' ' : '') + cssType;\n  }, [type, css]);\n\n  const handleClick = (ev) => {\n    onClick && onClick(ev);\n  };\n\n  return (\n    <button\n      title={title}\n      className={`wx-2ZWgb4 wx-button ${buttonCss} ${icon && !children ? 'wx-icon' : ''}`}\n      disabled={disabled}\n      onClick={handleClick}\n    >\n      {icon && <i className={'wx-2ZWgb4 ' + icon}></i>}\n      {children ? children : text || ' '}\n    </button>\n  );\n}\n","import { useWritableProp } from '@svar-ui/lib-react';\nimport { useInputId } from './helpers/getInputId.js';\nimport './Checkbox.css';\n\nexport default function Checkbox({\n  id,\n  label = '',\n  inputValue = '',\n  value: valueProp = false,\n  onChange,\n  disabled = false,\n}) {\n\n  const inputId = useInputId(id);\n  const [value, setValue] = useWritableProp(valueProp);\n\n  const handlerChange = ({ target }) => {\n    const newValue = target.checked;\n    setValue(newValue);\n    onChange && onChange({ value: newValue, inputValue });\n  };\n\n  return (\n    <div className=\"wx-2IvefP wx-checkbox\">\n      <input\n        type=\"checkbox\"\n        id={inputId}\n        disabled={disabled}\n        className=\"wx-2IvefP wx-check\"\n        checked={value}\n        value={inputValue}\n        onChange={handlerChange}\n      />\n      <label htmlFor={inputId} className=\"wx-2IvefP wx-label\">\n        <span className=\"wx-2IvefP wx-before\"></span>\n        {label && <span className=\"wx-2IvefP wx-after\">{label}</span>}\n      </label>\n    </div>\n  );\n}\n","import { useCallback } from 'react';\nimport Checkbox from './Checkbox.jsx';\nimport './CheckboxGroup.css';\nimport { fieldId } from \"../context\";\n\nexport default function CheckboxGroup({\n  options = [],\n  value = [],\n  type = '',\n  onChange,\n}) {\n  // Handle both onchange and onChange props for compatibility\n  const handleChange = useCallback(\n    (obj) => {\n      let newValue;\n      if (obj.value) newValue = [...value, obj.inputValue];\n      else newValue = value.filter((a) => a !== obj.inputValue);\n\n      if (onChange) onChange({ value: newValue });\n    },\n    [value, onChange],\n  );\n\n  return (\n    <fieldId.Provider value={null}>\n      <div className={`wx-q8xwRD wx-checkboxgroup ${type && `wx-${type}`}`}>\n        {options.map((option) => (\n          <div key={option.id} className=\"wx-q8xwRD wx-item\">\n            <Checkbox\n              label={option.label}\n              inputValue={option.id}\n              value={value.includes(option.id)}\n              onChange={handleChange}\n            />\n          </div>\n        ))}\n      </div>\n    </fieldId.Provider>\n  );\n}\n","import { useEffect, useRef } from 'react';\nimport { clickOutside, env } from '@svar-ui/lib-dom';\nimport { useWritableProp } from '@svar-ui/lib-react';\nimport './Dropdown.css';\n\nfunction Dropdown({\n  position = 'bottom',\n  align = 'start',\n  autoFit = true,\n  onCancel,\n  width = '100%',\n  children,\n}) {\n  const nodeRef = useRef(null);\n\n  const [positionState, setPosition] = useWritableProp(position);\n  const [alignState, setAlign] = useWritableProp(align);\n\n  useEffect(() => {\n    if (autoFit) {\n      const node = nodeRef.current;\n      if (node) {\n        const nodeCoords = node.getBoundingClientRect();\n        const bodyCoords = env.getTopNode(node).getBoundingClientRect();\n\n        if (nodeCoords.right >= bodyCoords.right) {\n          setAlign('end');\n        }\n\n        if (nodeCoords.bottom >= bodyCoords.bottom) {\n          setPosition('top');\n        }\n      }\n    }\n  }, [autoFit]);\n\n  useEffect(() => {\n    if (nodeRef.current) {\n      const down = (e) => {\n        onCancel && onCancel(e);\n      };\n      return clickOutside(nodeRef.current, down).destroy;\n    }\n  }, [onCancel]);\n\n  return (\n    <div\n      ref={nodeRef}\n      className={'wx-32GZ52' + ` wx-dropdown wx-${positionState}-${alignState}`}\n      style={{ width: width }}\n    >\n      {children}\n    </div>\n  );\n}\n\nexport default Dropdown;\n","import { useState, useCallback } from 'react';\nimport { useInputId } from './helpers/getInputId.js';\nimport Dropdown from './Dropdown.jsx';\nimport './ColorSelect.css';\n\nconst defaultColors = [\n  '#00a037',\n  '#37a9ef',\n  '#f5a623',\n  '#ff4c3b',\n  '#a0a0a0',\n  '#000000',\n  '#ffffff',\n];\n\nexport default function ColorSelect({\n  colors = defaultColors,\n  value = '',\n  onChange,\n  id,\n  clear = false,\n  placeholder = '',\n  title = '',\n  disabled = false,\n  error = false,\n}) {\n  const inputId = useInputId(id);\n  const [currentValue, setCurrentValue] = useState(value);\n  const [popup, setPopup] = useState(false);\n\n  const selectColor = useCallback(\n    (ev, color) => {\n      ev.stopPropagation();\n      setCurrentValue(color);\n      setPopup(false);\n      onChange && onChange({ value: color });\n    },\n    [onChange],\n  );\n\n  const unselectColor = useCallback(\n    (ev) => {\n      ev.stopPropagation();\n      setCurrentValue('');\n      onChange && onChange({ value: '' });\n    },\n    [onChange],\n  );\n\n  const handlePopup = useCallback(() => {\n    if (disabled) return false;\n    setPopup(true);\n  }, [disabled]);\n\n  return (\n    <div className=\"wx-121TgJ wx-colorselect\" onClick={handlePopup}>\n      <input\n        className={\n          'wx-121TgJ wx-input' +\n          (error ? ' wx-error' : '') +\n          (popup ? ' wx-focus' : '')\n        }\n        title={title}\n        value={currentValue}\n        readOnly\n        id={inputId}\n        placeholder={placeholder}\n        disabled={disabled}\n      />\n\n      {clear && currentValue && !disabled && (\n        <i className=\"wx-121TgJ wx-clear wxi-close\" onClick={unselectColor}></i>\n      )}\n\n      {currentValue ? (\n        <div\n          className=\"wx-121TgJ wx-color wx-selected\"\n          style={{ backgroundColor: currentValue || '#00a037' }}\n        ></div>\n      ) : (\n        <div className=\"wx-121TgJ wx-empty wx-selected\"></div>\n      )}\n\n      {popup && (\n        <Dropdown onCancel={() => setPopup(false)}>\n          <div className=\"wx-121TgJ wx-colors\">\n            <div\n              className=\"wx-121TgJ wx-empty\"\n              onClick={(ev) => selectColor(ev, '')}\n            ></div>\n            {colors.map((color, index) => (\n              <div\n                key={index}\n                className=\"wx-121TgJ wx-color\"\n                style={{ backgroundColor: color }}\n                onClick={(ev) => selectColor(ev, color)}\n              ></div>\n            ))}\n          </div>\n        </Dropdown>\n      )}\n    </div>\n  );\n}\n","export function sliderMove(node, config) {\n  const slider = node.firstChild;\n  const { moveBlockSlider, moveLineSlider } = config || {};\n\n  function down(ev) {\n    move(ev);\n\n    slider.focus();\n\n    window.addEventListener('mousemove', move);\n    window.addEventListener('mouseup', up);\n  }\n\n  function move(ev) {\n    let x, y, dx, dy;\n\n    const coords = node.getBoundingClientRect();\n    x = coords.left;\n    y = coords.top;\n\n    dx = ev.clientX - x;\n    dy = ev.clientY - y;\n\n    if (moveBlockSlider) config.moveBlockSlider(dx, dy);\n    if (moveLineSlider) config.moveLineSlider(dx);\n  }\n\n  function up() {\n    slider.blur();\n\n    window.removeEventListener('mousemove', move);\n    window.removeEventListener('mouseup', up);\n  }\n\n  node.addEventListener('mousedown', down);\n\n  return {\n    destroy() {\n      node.removeEventListener('mousedown', down);\n    },\n  };\n}\n","const colorTransformator = {\n  _toHex: [\n    '0',\n    '1',\n    '2',\n    '3',\n    '4',\n    '5',\n    '6',\n    '7',\n    '8',\n    '9',\n    'A',\n    'B',\n    'C',\n    'D',\n    'E',\n    'F',\n  ],\n  toHex(number, length) {\n    number = parseInt(number, 10);\n    let str = '';\n    while (number > 0) {\n      str = this._toHex[number % 16] + str;\n      number = Math.floor(number / 16);\n    }\n    while (str.length < length) str = `0${str}`;\n    return str;\n  },\n  rgbToHex(rgb) {\n    let arr = [];\n    if (typeof rgb === 'string')\n      rgb.replace(/[\\d+.]+/g, (v) => arr.push(parseFloat(v)));\n    else if (Array.isArray(rgb)) arr = rgb;\n\n    //transparent\n    if (arr[3] === 0) return '';\n\n    return arr\n      .slice(0, 3)\n      .map((n) => {\n        return this.toHex(Math.floor(n), 2);\n      })\n      .join('');\n  },\n  hexToDec(hex) {\n    return parseInt(hex, 16);\n  },\n  // only handles the six-digit hex color format\n  hexToRgb(hex) {\n    hex = hex.charAt(0) === '#' ? hex.slice(1) : hex;\n    const rgbPairs = hex.match(/.{1,2}/g);\n\n    let [r, g, b] = rgbPairs;\n\n    r = this.hexToDec(r);\n    g = this.hexToDec(g);\n    b = this.hexToDec(b);\n\n    return [r, g, b];\n  },\n  hsvToRgb(h, s, v) {\n    let hi, f, p, q, t, r, g, b;\n    hi = Math.floor(h / 60) % 6;\n    f = h / 60 - hi;\n    p = v * (1 - s);\n    q = v * (1 - f * s);\n    t = v * (1 - (1 - f) * s);\n    r = 0;\n    g = 0;\n    b = 0;\n    switch (hi) {\n      case 0:\n        r = v;\n        g = t;\n        b = p;\n        break;\n      case 1:\n        r = q;\n        g = v;\n        b = p;\n        break;\n      case 2:\n        r = p;\n        g = v;\n        b = t;\n        break;\n      case 3:\n        r = p;\n        g = q;\n        b = v;\n        break;\n      case 4:\n        r = t;\n        g = p;\n        b = v;\n        break;\n      case 5:\n        r = v;\n        g = p;\n        b = q;\n        break;\n      default:\n        break;\n    }\n    r = Math.floor(r * 255);\n    g = Math.floor(g * 255);\n    b = Math.floor(b * 255);\n\n    return [r, g, b];\n  },\n  rgbToHsv(r, g, b) {\n    let s, h, v;\n    r /= 255;\n    g /= 255;\n    b /= 255;\n    let min = Math.min(r, g, b);\n    let max = Math.max(r, g, b);\n    h = 0;\n    s = max === 0 ? 0 : 1 - min / max;\n    v = max;\n    if (max === min) {\n      h = 0;\n    } else if (max === r && g >= b) {\n      h = (60 * (g - b)) / (max - min) + 0;\n    } else if (max === r && g < b) {\n      h = (60 * (g - b)) / (max - min) + 360;\n    } else if (max === g) {\n      h = (60 * (b - r)) / (max - min) + 120;\n    } else if (max === b) {\n      h = (60 * (r - g)) / (max - min) + 240;\n    }\n\n    return [h, s, v];\n  },\n  hexToHvs(hex) {\n    const rgb = this.hexToRgb(hex);\n    return this.rgbToHsv(...rgb);\n  },\n  hvsToHex(h, v, s) {\n    const rgb = this.hsvToRgb(h, v, s);\n    return '#' + this.rgbToHex(rgb).toUpperCase();\n  },\n};\n\nexport default colorTransformator;\n","const hexValidation = (str) => /^([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(str);\n\nexport function parseColor(value) {\n  if (!value) return null;\n\n  value = value.toString(16);\n\n  if (value.charAt(0) === '#') value = value.slice(1);\n\n  if (hexValidation(value)) {\n    if (value.length === 3) {\n      value = value\n        .slice(0, 3)\n        .split('')\n        .reduce((a, b) => a + b + b, '');\n    }\n    return `#${value.toUpperCase()}`;\n  }\n\n  return null;\n}\n","import { locale } from '@svar-ui/lib-dom';\nimport { en } from '@svar-ui/core-locales';\n\nexport function defaultLocale() {\n  return locale(en);\n}\n","import {\n  useState,\n  useEffect,\n  useRef,\n  useCallback,\n  useContext,\n  useMemo,\n} from 'react';\nimport Button from './Button.jsx';\nimport { sliderMove } from './helpers/sliderMove.js';\nimport colorTransformator from './helpers/colorTransformator.js';\nimport { parseColor } from './helpers/colorValidation.js';\nimport { i18n } from '../context.js';\nimport { useWritableProp } from '@svar-ui/lib-react';\nimport './ColorBoard.css';\nimport { defaultLocale } from './helpers/locale.js';\n\nconst BLOCK = 'Block';\nconst LINE = 'Line';\n\nfunction ColorBoard({\n  value: propertyValue = '#65D3B3',\n  button = false,\n  onChange,\n}) {\n  const _ = (useContext(i18n) || defaultLocale()).getGroup('core');\n\n  const blockRef = useRef(null);\n  const colorLineRef = useRef(null);\n\n  const [blockTop, setBlockTop] = useState();\n  const [blockLeft, setBlockLeft] = useState();\n  const [hueColor, setHueColor] = useState();\n  const [lineLeft, setLineLeft] = useState();\n\n  const [value, setValue] = useWritableProp(propertyValue);\n\n  const color = useMemo(() => parseColor(value) || '#65D3B3', [value]);\n  const blockColor = useMemo(\n    () => colorTransformator.hvsToHex(hueColor || 0, 1, 1),\n    [hueColor],\n  );\n\n  const moveBlockSlider = useCallback(\n    (dx, dy) => {\n      const { width, height } = blockRef.current.getBoundingClientRect();\n\n      if (dy < 0) dy = 0;\n      else if (dy > height) dy = height;\n\n      if (dx < 0) dx = 0;\n      else if (dx > width) dx = width;\n\n      setBlockTop(dy);\n      setBlockLeft(dx);\n\n      // Call setCurrentColor\n      let _sValue, _vValue;\n\n      const [, ,] = colorTransformator.hexToHvs(color);\n      const pxX = width / 100;\n      const pxY = height / 100;\n\n      _sValue = Math.ceil(dx / pxX) / 100;\n      _vValue = Math.ceil(Math.abs(dy / pxY - 100)) / 100;\n\n      const newValue = colorTransformator.hvsToHex(\n        hueColor || 0,\n        _sValue,\n        _vValue,\n      );\n      setValue(newValue);\n      onChange && onChange({ value: newValue, input: true });\n    },\n    [color, hueColor, onChange],\n  );\n\n  const moveLineSlider = useCallback(\n    (dx) => {\n      const width = colorLineRef.current.getBoundingClientRect().width;\n\n      if (dx < 0) dx = 0;\n      else if (dx > width) dx = width;\n\n      const h = Math.round((dx * 359) / width);\n      const newHue = Math.max(Math.min(h, 359), 0);\n      setHueColor(newHue);\n      setLineLeft(dx);\n\n      // Call setCurrentColor with lineSliderMove=true\n      let _sValue, _vValue;\n      [, _sValue, _vValue] = colorTransformator.hexToHvs(color);\n      const newValue = colorTransformator.hvsToHex(newHue, _sValue, _vValue);\n      setValue(newValue);\n      onChange && onChange({ value: newValue, input: true });\n    },\n    [color, onChange],\n  );\n\n  const setSlidersPosition = useCallback(() => {\n    const [h, s, v] = colorTransformator.hexToHvs(color);\n    setHueColor(h);\n\n    if (blockRef.current) {\n      const { width, height } = blockRef.current.getBoundingClientRect();\n\n      if (colorLineRef.current) {\n        setLineLeft(\n          (h * colorLineRef.current.getBoundingClientRect().width) / 359,\n        );\n      }\n      setBlockLeft(s * width);\n      setBlockTop(Math.abs(height * (v - 1)));\n    }\n  }, [color]);\n\n  const handleChange = useCallback(\n    ({ target }) => {\n      const newColor = parseColor(target.value);\n      setValue(newColor);\n      onChange && onChange({ value: newColor, input: true });\n      if (newColor) {\n        setSlidersPosition();\n      }\n    },\n    [onChange, setSlidersPosition],\n  );\n\n  const handleSelect = useCallback(\n    (ev) => {\n      ev.stopPropagation();\n      onChange && onChange({ value: color });\n    },\n    [color, onChange],\n  );\n\n  const keydown = useCallback(\n    (ev) => {\n      const slider = ev.target;\n      const isSliderBlock = slider.getAttribute('data-slider') === BLOCK;\n      const isSliderLine = slider.getAttribute('data-slider') === LINE;\n\n      let css = window.getComputedStyle(slider);\n      let left = parseFloat(css.left);\n      let top = parseFloat(css.top);\n      const code = ev.code;\n\n      if (isSliderBlock) {\n        switch (code) {\n          case 'ArrowLeft': {\n            left--;\n            break;\n          }\n          case 'ArrowRight': {\n            left++;\n            break;\n          }\n          case 'ArrowDown': {\n            top++;\n            break;\n          }\n          case 'ArrowUp': {\n            top--;\n            break;\n          }\n          default:\n            return;\n        }\n\n        moveBlockSlider(left, top);\n      }\n\n      if (isSliderLine) {\n        if (code === 'ArrowLeft' || code === 'ArrowDown') left--;\n        else if (code === 'ArrowRight' || code === 'ArrowUp') left++;\n        else return;\n        moveLineSlider(left);\n      }\n\n      ev.preventDefault();\n    },\n    [moveBlockSlider, moveLineSlider],\n  );\n\n  useEffect(() => {\n    setSlidersPosition();\n  }, [setSlidersPosition]);\n\n  useEffect(() => {\n    if (value !== value) {\n      setValue(value);\n      setSlidersPosition();\n    }\n  }, [value, value, setSlidersPosition]);\n\n  useEffect(() => {\n    if (blockRef.current) {\n      sliderMove(blockRef.current, { moveBlockSlider });\n    }\n    if (colorLineRef.current) {\n      sliderMove(colorLineRef.current, { moveLineSlider });\n    }\n  }, [moveBlockSlider, moveLineSlider]);\n\n  useEffect(() => {\n    if (value !== value) {\n      onChange && onChange({ value: value, input: true });\n    }\n  }, [value, onChange]);\n\n  useEffect(() => {\n    if (color && blockRef.current) {\n      setSlidersPosition();\n    }\n  }, [color, setSlidersPosition]);\n\n  const cssScope = 'wx-1yoKzq';\n\n  return (\n    <div className={cssScope + ' wx-colorboard'}>\n      <div\n        className={cssScope + ' wx-color-block'}\n        style={{ background: blockColor }}\n        ref={blockRef}\n      >\n        <div\n          className={cssScope + ' wx-color-block-slider wx-slider'}\n          style={{\n            background: color,\n            top: blockTop + 'px',\n            left: blockLeft + 'px',\n          }}\n          tabIndex={0}\n          data-slider={BLOCK}\n          onKeyDown={keydown}\n        ></div>\n      </div>\n      <div className={cssScope + ' wx-color-line'} ref={colorLineRef}>\n        <div\n          className={cssScope + ' wx-color-line-slider wx-slider'}\n          style={{ background: blockColor, left: lineLeft + 'px' }}\n          tabIndex={0}\n          data-slider={LINE}\n          onKeyDown={keydown}\n        ></div>\n      </div>\n      <div className={cssScope + ' wx-color-controls'}>\n        <div\n          className={cssScope + ' wx-color'}\n          style={{ background: color }}\n        ></div>\n        <input\n          type=\"text\"\n          className={cssScope + ' wx-text'}\n          value={value}\n          onChange={handleChange}\n        />\n      </div>\n      {button && (\n        <Button onClick={handleSelect} type=\"secondary\">\n          {_('select')}\n        </Button>\n      )}\n    </div>\n  );\n}\n\nexport default ColorBoard;\n","import { useState } from 'react';\nimport Dropdown from './Dropdown.jsx';\nimport ColorBoard from './ColorBoard.jsx';\nimport { useWritableProp } from '@svar-ui/lib-react';\nimport { useInputId } from './helpers/getInputId.js';\n\nimport './ColorPicker.css';\n\nexport default function ColorPicker({\n  value: propertyValue = '',\n  id,\n  placeholder = '',\n  title = '',\n  disabled = false,\n  error = false,\n  clear = false,\n  onChange,\n}) {\n  const inputId = useInputId(id);\n  let [value, setValue] = useWritableProp(propertyValue);\n  const [popup, setPopup] = useState(false);\n\n  function handlePopup() {\n    if (disabled) return false;\n    setPopup(true);\n  }\n\n  function selectColor(ev) {\n    if (ev.input) return;\n\n    setPopup(false);\n    const newValue = ev.value;\n    setValue(newValue);\n    if (onChange) onChange({ value: newValue });\n  }\n\n  function unselectColor(ev) {\n    ev.stopPropagation();\n    setValue('');\n    if (onChange) onChange({ value: '' });\n  }\n\n  return (\n    <div className=\"wx-mmT8WH wx-colorpicker\" onClick={handlePopup}>\n      <input\n        className={\n          'wx-mmT8WH wx-input' +\n          (error ? ' wx-error' : '') +\n          (popup ? ' wx-focus' : '')\n        }\n        title={title}\n        value={value}\n        readOnly\n        id={inputId}\n        placeholder={placeholder}\n        disabled={disabled}\n      />\n      <div className=\"wx-mmT8WH wx-color\" style={{ background: value }}></div>\n\n      {clear && !disabled && value && (\n        <i className=\"wx-mmT8WH wxi-close\" onClick={unselectColor}></i>\n      )}\n\n      {popup && (\n        <Dropdown onCancel={() => setPopup(false)}>\n          <ColorBoard value={value} button=\"true\" onChange={selectColor} />\n        </Dropdown>\n      )}\n    </div>\n  );\n}\n","import { locateID } from '@svar-ui/lib-dom';\n\nexport function getListHandlers() {\n  let navIndex = null;\n  let isVisible = false;\n\n  let list, options, navCallback, selectCallback;\n  const init = (l, o, n, c) => {\n    list = l;\n    options = o;\n    navCallback = n;\n    selectCallback = c;\n  };\n\n  const setNav = (index) => {\n    navIndex = index;\n    isVisible = navIndex !== null;\n    navCallback(navIndex);\n  };\n\n  const scrollTo = (navIndex, ev) => {\n    if (navIndex !== null && list) {\n      const next = list.querySelectorAll(`.wx-list > .wx-item`)[navIndex];\n      if (next) {\n        next.scrollIntoView({ block: 'nearest' });\n        if (ev) ev.preventDefault();\n      }\n    }\n  };\n\n  const navigate = (dir, ev) => {\n    const index =\n      dir === null\n        ? null\n        : Math.max(0, Math.min(navIndex + dir, options.length - 1));\n    if (index === navIndex) return;\n    setNav(index);\n\n    if (list) scrollTo(index, ev);\n    else requestAnimationFrame(() => scrollTo(index, ev));\n  };\n\n  const move = (ev) => {\n    const id = locateID(ev);\n    // if we have id:\"1\", the locateID will return 1 as number\n    // so using non-strict comparison\n    const index = options.findIndex((a) => a.id == id);\n\n    if (index !== navIndex) {\n      setNav(index);\n    }\n  };\n\n  const keydown = (ev, position) => {\n    switch (ev.code) {\n      case 'Enter':\n        if (isVisible) selectCallback();\n        else setNav(0);\n        break;\n\n      case 'Space':\n        if (!isVisible) setNav(0);\n        break;\n\n      case 'Escape':\n        navCallback((navIndex = null));\n        break;\n\n      case 'Tab':\n        navCallback((navIndex = null));\n        break;\n\n      case 'ArrowDown':\n        navigate(isVisible ? 1 : position || 0, ev);\n        break;\n\n      case 'ArrowUp':\n        navigate(isVisible ? -1 : position || 0, ev);\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  return { move, keydown, init, navigate };\n}\n","import { useEffect, useState, useRef, useCallback } from 'react';\nimport { useContext } from 'react';\nimport { snippet } from '@svar-ui/lib-react';\nimport { getListHandlers } from './listnav';\nimport Dropdown from '../Dropdown.jsx';\nimport { i18n } from '../../context.js';\nimport './SuggestDropdown.css';\nimport { defaultLocale } from './locale.js';\n\nexport default function SuggestDropdown({\n  items = [],\n  children,\n  onSelect,\n  onReady,\n}) {\n  const list = useRef();\n  const helpers = useRef(getListHandlers());\n\n  const [navIndex, setNavIndex] = useState(null);\n  const navIndexRef = useRef(navIndex);\n\n  const _ = (useContext(i18n) || defaultLocale()).getGroup('core');\n\n  const selectItem = (ev) => {\n    if (ev) ev.stopPropagation();\n    onSelect && onSelect({ id: items[navIndexRef.current]?.id });\n  };\n\n  useEffect(() => {\n    helpers.current.init(\n      list.current,\n      items,\n      (i) => {\n        setNavIndex(i);\n        navIndexRef.current = i;\n      },\n      selectItem,\n    );\n  }, [items, list.current]);\n\n  useEffect(() => {\n    onReady && onReady(helpers.current);\n  }, []);\n\n  const onCancel = useCallback(() => {\n    helpers.current.navigate(null);\n  }, [helpers]);\n\n  if (navIndex === null) return null;\n\n  return (\n    <Dropdown onCancel={onCancel}>\n      <div\n        className=\"wx-233fr7 wx-list\"\n        ref={list}\n        onClick={selectItem}\n        onMouseMove={helpers.current.move}\n      >\n        {items.length ? (\n          items.map((data, index) => (\n            <div\n              key={data.id}\n              className={`wx-233fr7 wx-item ${index === navIndex ? 'wx-focus' : ''}`}\n              data-id={data.id}\n            >\n              {children ? snippet(children, { option: data }) : data.label}\n            </div>\n          ))\n        ) : (\n          <div className=\"wx-233fr7 wx-no-data\">{_('No data')}</div>\n        )}\n      </div>\n    </Dropdown>\n  );\n}\n","import { useState, useRef, useMemo, useCallback } from 'react';\nimport List from './helpers/SuggestDropdown.jsx';\nimport { useWritableProp } from '@svar-ui/lib-react';\nimport { useInputId } from './helpers/getInputId.js';\nimport './Combo.css';\n\nexport default function Combo({\n  value: valueProp = '',\n  id,\n  options = [],\n  textOptions = null,\n  textField = 'label',\n  placeholder = '',\n  title = '',\n  disabled = false,\n  error = false,\n  clear = false,\n  children: kids,\n  onChange,\n}) {\n  const inputId = useInputId(id);\n  const navigate = useRef(null);\n  const keydown = useRef(null);\n\n  const [value, setValue] = useWritableProp(valueProp);\n  const [filterActive, setFilterActive] = useState(false);\n  const [textInput, setTextInput] = useState('');\n\n  const inputElement = useRef(null);\n  const hasFocus = useRef(false);\n\n  // calculate the derived values\n  const text = useMemo(() => {\n    if (filterActive) return textInput;\n    if (value || value === 0) {\n      const option = (textOptions || options).find((a) => a.id === value);\n      if (option) return option[textField];\n    }\n    return '';\n  }, [filterActive, textInput, value, textOptions, options, textField]);\n\n  const filteredOptions = useMemo(() => {\n    if (!text || !filterActive) return options;\n\n    return options.filter((i) =>\n      i[textField].toLowerCase().includes(text.toLowerCase()),\n    );\n  }, [text, filterActive, options, textField]);\n\n  const index = useCallback(\n    () => filteredOptions.findIndex((a) => a.id === value),\n    [filteredOptions, value],\n  );\n\n  const ready = useCallback((ev) => {\n    navigate.current = ev.navigate;\n    keydown.current = ev.keydown;\n  }, []);\n\n  const doSelect = useCallback(\n    (id, effects) => {\n      if (id || id === 0) {\n        let selected = options.find((a) => a.id === id);\n        setFilterActive(false);\n\n        if (effects) navigate.current(null);\n\n        if (selected && value !== selected.id) {\n          const newValue = selected.id;\n          setValue(newValue);\n          onChange && onChange({ value: newValue });\n        }\n      }\n\n      if (!hasFocus.current && effects) inputElement.current.focus();\n    },\n    [options, value, onChange],\n  );\n\n  const selectByEvent = useCallback(\n    ({ id }) => {\n      doSelect(id, true);\n    },\n    [doSelect],\n  );\n\n  const doUnselect = useCallback(\n    (ev) => {\n      if (ev) ev.stopPropagation();\n\n      setValue('');\n      setFilterActive(false);\n      onChange && onChange({ value: '' });\n    },\n    [onChange],\n  );\n\n  const selectByText = useCallback(\n    (chunk) => {\n      if (!options.length) return;\n      if (chunk === '' && clear) {\n        doUnselect();\n        return;\n      }\n\n      let res = options.find((i) => i[textField] === chunk);\n      if (!res) {\n        res = options.find((i) =>\n          i[textField].toLowerCase().includes(chunk.toLowerCase()),\n        );\n      }\n\n      const id = res ? res.id : value || options[0].id;\n      doSelect(id, false);\n    },\n    [options, textField, clear, value, doSelect, doUnselect],\n  );\n\n  const handleInput = useCallback(() => {\n    setTextInput(inputElement.current.value);\n    setFilterActive(true);\n\n    if (filteredOptions.length) navigate.current(0);\n    else navigate.current(null);\n  }, [filteredOptions.length, navigate]);\n\n  const handleFocus = useCallback(() => {\n    hasFocus.current = true;\n  }, []);\n\n  const handleBlur = useCallback(() => {\n    hasFocus.current = false;\n    setTimeout(() => {\n      if (!hasFocus.current) selectByText(text);\n    }, 200);\n  }, [selectByText, text]);\n\n  return (\n    <div\n      className=\"wx-1j11Jk wx-combo\"\n      onClick={() => navigate.current(index())}\n      onKeyDown={(ev) => keydown.current(ev, index())}\n      title={title}\n    >\n      <input\n        className={'wx-1j11Jk wx-input ' + (error ? 'wx-error' : '')}\n        id={inputId}\n        ref={inputElement}\n        value={text}\n        disabled={disabled}\n        placeholder={placeholder}\n        onFocus={handleFocus}\n        onBlur={handleBlur}\n        onInput={handleInput}\n      />\n\n      {clear && !disabled && value ? (\n        <i className=\"wx-1j11Jk wx-icon wxi-close\" onClick={doUnselect}></i>\n      ) : (\n        <i className=\"wx-1j11Jk wx-icon wxi-angle-down\"></i>\n      )}\n\n      {!disabled && (\n        <List items={filteredOptions} onReady={ready} onSelect={selectByEvent}>\n          {({ option }) => <>{kids ? kids({ option }) : option[textField]}</>}\n        </List>\n      )}\n    </div>\n  );\n}\n","import { useCallback, useEffect, useRef, useMemo } from 'react';\nimport { useWritableProp } from '@svar-ui/lib-react';\nimport { useInputId } from './helpers/getInputId.js';\nimport './Text.css';\n\nexport default function Text({\n  value: propsValue = '',\n  id,\n  readonly = false,\n  focus = false,\n  select = false,\n  type = 'text',\n  placeholder = '',\n  disabled = false,\n  error = false,\n  inputStyle = {},\n  title = '',\n  css = '',\n  icon = '',\n  clear = false,\n  onChange,\n}) {\n  const inputId = useInputId(id);\n  const [value, setValue] = useWritableProp(propsValue);\n  const inputRef = useRef(null);\n\n  const cssString = useMemo(\n    () =>\n      icon && css.indexOf('wx-icon-left') === -1 ? 'wx-icon-right ' + css : css,\n    [icon, css],\n  );\n\n  const hasLeftIcon = useMemo(\n    () => icon && css.indexOf('wx-icon-left') !== -1,\n    [icon, css],\n  );\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      if (focus && inputRef.current) inputRef.current.focus();\n      if (select && inputRef.current) inputRef.current.select();\n    }, 1);\n\n    return () => clearTimeout(timer);\n  }, [focus, select]);\n\n  const oninput = useCallback(\n    (e) => {\n      const newValue = e.target.value;\n      setValue(newValue);\n      onChange && onChange({ value: newValue, input: true });\n    },\n    [onChange],\n  );\n\n  const ontextchange = useCallback(\n    (ev) => onChange && onChange({ value: ev.target.value }),\n    [onChange],\n  );\n\n  function clearValue(ev) {\n    ev.stopPropagation();\n    setValue('');\n    onChange && onChange({ value: '' });\n  }\n\n  let inputType = type;\n  if (type !== 'password' && type !== 'number') {\n    inputType = 'text';\n  }\n\n  // MK :: EXTRACT\n  useEffect(() => {\n    const handler = ontextchange;\n    const node = inputRef.current;\n    node.addEventListener('change', handler);\n    return () => {\n      if (node) {\n        node.removeEventListener('change', handler);\n      }\n    };\n  }, [ontextchange]);\n\n  return (\n    <div\n      className={`wx-hQ64J4 wx-text ${cssString} ${error ? 'wx-error' : ''} ${\n        disabled ? 'wx-disabled' : ''\n      } ${clear ? 'wx-clear' : ''}`}\n    >\n      <input\n        className=\"wx-hQ64J4 wx-input\"\n        ref={inputRef}\n        id={inputId}\n        readOnly={readonly}\n        disabled={disabled}\n        placeholder={placeholder}\n        type={inputType}\n        style={inputStyle}\n        title={title}\n        value={value}\n        onInput={oninput}\n      />\n\n      {clear && !disabled && value ? (\n        <>\n          <i className=\"wx-hQ64J4 wx-icon wxi-close\" onClick={clearValue}></i>\n          {hasLeftIcon && <i className={`wx-hQ64J4 wx-icon ${icon}`}></i>}\n        </>\n      ) : icon ? (\n        <i className={`wx-hQ64J4 wx-icon ${icon}`}></i>\n      ) : null}\n    </div>\n  );\n}\n","import { useContext, useMemo } from 'react';\nimport { dateToString, getDuodecade } from '@svar-ui/lib-dom';\nimport { i18n } from '../../context.js';\n\nfunction Header({ date, type, part, onShift }) {\n  const { calendar, formats } = useContext(i18n).getRaw();\n\n  const year = date.getFullYear();\n\n  const label = useMemo(() => {\n    switch (type) {\n      case 'month':\n        return dateToString(formats.monthYearFormat, calendar)(date);\n      case 'year':\n        return dateToString(formats.yearFormat, calendar)(date);\n      case 'duodecade': {\n        const { start, end } = getDuodecade(year);\n        const yearFormat = dateToString(formats.yearFormat, calendar);\n        return `${yearFormat(new Date(start, 0, 1))} - ${yearFormat(new Date(end, 11, 31))}`;\n      }\n      default:\n        return '';\n    }\n  }, [date, type, year, calendar, formats]);\n\n  function changeType() {\n    onShift && onShift({ diff: 0, type });\n  }\n\n  return (\n    <div className=\"wx-8HQVQV wx-header\">\n      {part !== 'right' ? (\n        <i\n          className=\"wx-8HQVQV wx-pager wxi-angle-left\"\n          onClick={() => onShift && onShift({ diff: -1, type })}\n        />\n      ) : (\n        <span className=\"wx-8HQVQV wx-spacer\" />\n      )}\n\n      <span className=\"wx-8HQVQV wx-label\" onClick={changeType}>\n        {label}\n      </span>\n\n      {part !== 'left' ? (\n        <i\n          className=\"wx-8HQVQV wx-pager wxi-angle-right\"\n          onClick={() => onShift && onShift({ diff: 1, type })}\n        />\n      ) : (\n        <span className=\"wx-8HQVQV wx-spacer\" />\n      )}\n    </div>\n  );\n}\n\nimport './Header.css';\n\nexport default Header;\n","import './Button.css';\n\nexport default function Button({ onClick, children }) {\n  return (\n    <button className=\"wx-3s8W4d wx-button\" onClick={onClick}>\n      {children}\n    </button>\n  );\n}\n","import { useContext, useMemo, useEffect, useRef } from 'react';\nimport { delegateClick } from '@svar-ui/lib-dom';\nimport { i18n } from '../../context.js';\nimport './Month.css';\nimport { defaultLocale } from '../helpers/locale.js';\n\nexport default function Month({\n  value,\n  current,\n  part = '',\n  markers = null,\n  onCancel,\n  onChange,\n}) {\n  const locale = (useContext(i18n) || defaultLocale()).getRaw().calendar;\n  const weekStart = (locale.weekStart || 7) % 7;\n  const weekdays = locale.dayShort\n    .slice(weekStart)\n    .concat(locale.dayShort.slice(0, weekStart));\n\n  const dv = (d, dm, dd) =>\n    new Date(\n      d.getFullYear(),\n      d.getMonth() + (dm || 0),\n      d.getDate() + (dd || 0),\n    );\n  let ranges = part !== 'normal';\n\n  function isWeekEnd(date) {\n    const d = date.getDay();\n    return d === 0 || d === 6;\n  }\n\n  function getStart() {\n    const start = dv(current, 0, 1 - current.getDate());\n    start.setDate(start.getDate() - ((start.getDay() - (weekStart - 7)) % 7));\n    return start;\n  }\n  function getEnd() {\n    const end = dv(current, 1, -current.getDate());\n    end.setDate(end.getDate() + ((6 - end.getDay() + weekStart) % 7));\n    return end;\n  }\n\n  //MK : HACK\n  const lastTime = useRef(0);\n  function selectDate(date, e) {\n    if (e.timeStamp === lastTime.current) return;\n    lastTime.current = e.timeStamp;\n\n    e.stopPropagation();\n    if (onChange) onChange(new Date(new Date(date)));\n    if (onCancel) onCancel();\n  }\n\n  const date = useMemo(() => {\n    if (part == 'normal') return [value ? dv(value).valueOf() : 0];\n    return value\n      ? [\n          value.start ? dv(value.start).valueOf() : 0,\n          value.end ? dv(value.end).valueOf() : 0,\n        ]\n      : [0, 0];\n  }, [part, value]);\n\n  const days = useMemo(() => {\n    const start = getStart();\n    const end = getEnd();\n    const curMonth = current.getMonth();\n\n    let days = [];\n    for (let d = start; d <= end; d.setDate(d.getDate() + 1)) {\n      const day = {\n        day: d.getDate(),\n        in: d.getMonth() === curMonth,\n        date: d.valueOf(),\n      };\n\n      let css = '';\n      css += !day.in ? ' wx-inactive' : '';\n      css += date.indexOf(day.date) > -1 ? ' wx-selected' : '';\n\n      if (ranges) {\n        const s = day.date == date[0];\n        const e = day.date == date[1];\n        if (s && !e) css += ' wx-left';\n        else if (e && !s) css += ' wx-right';\n\n        if (day.date > date[0] && day.date < date[1]) css += ' wx-inrange';\n      }\n\n      css += isWeekEnd(d) ? ' wx-weekend' : '';\n      if (markers) {\n        const mark = markers(d);\n        if (mark) css += ' ' + mark;\n      }\n\n      days.push({ ...day, css });\n    }\n    return days;\n  }, [current, date, ranges, markers]);\n\n  const delegateRef = useRef(null);\n  let delegateHandler = useRef({});\n  delegateHandler.current.click = selectDate;\n\n  useEffect(() => {\n    delegateClick(delegateRef.current, delegateHandler.current);\n  }, []);\n\n  return (\n    <div>\n      <div className=\"wx-398RBS wx-weekdays\">\n        {weekdays.map((day) => (\n          <div key={day} className=\"wx-398RBS wx-weekday\">\n            {day}\n          </div>\n        ))}\n      </div>\n      <div className=\"wx-398RBS wx-days\" ref={delegateRef}>\n        {days.map((day) => (\n          <div\n            key={day.date}\n            className={`wx-398RBS wx-day ${day.css} ${!day.in ? 'wx-out' : ''}`}\n            data-id={day.date}\n          >\n            {day.day}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n","import { useContext, useMemo, useCallback } from 'react';\nimport Button from './Button.jsx';\nimport { getPartValue } from './helpers';\nimport { i18n } from '../../context.js';\nimport './Year.css';\nimport { useWritableProp } from '@svar-ui/lib-react';\n\nexport default function Year({\n  value: valueProp,\n  current: currentProp,\n  part,\n  onCancel,\n  onChange,\n  onShift,\n}) {\n  const [value, setValue] = useWritableProp(valueProp || new Date());\n  const [current, setCurrent] = useWritableProp(currentProp || new Date());\n\n  const locale = useContext(i18n).getRaw().calendar;\n  const months = locale.monthShort || [];\n\n  const monthNum = useMemo(() => {\n    return current.getMonth();\n  }, [current]);\n\n  const selectMonth = useCallback(\n    (month, e) => {\n      if (month !== null && month !== undefined) {\n        e.stopPropagation();\n        const newCurrent = new Date(current);\n        newCurrent.setMonth(month);\n        setCurrent(newCurrent);\n\n        onShift && onShift({ current: newCurrent });\n      }\n\n      if (part === 'normal') setValue(new Date(current));\n\n      onCancel && onCancel();\n    },\n    [current, part, onShift, onCancel],\n  );\n\n  const done = useCallback(() => {\n    const date = new Date(getPartValue(value, part) || current);\n\n    date.setMonth(current.getMonth());\n    date.setFullYear(current.getFullYear());\n\n    onChange && onChange(date);\n  }, [value, current, part, onChange]);\n\n  const handleMonthClick = useCallback(\n    (e) => {\n      const target = e.target.closest('[data-id]');\n      if (target) {\n        const month = parseInt(target.getAttribute('data-id'), 10);\n        selectMonth(month, e);\n      }\n    },\n    [selectMonth],\n  );\n\n  return (\n    <>\n      <div className={'wx-34U8T8 wx-months'} onClick={handleMonthClick}>\n        {months.map((month, i) => (\n          <div\n            key={i}\n            className={\n              'wx-34U8T8 wx-month' + (monthNum === i ? ' wx-current' : '')\n            }\n            data-id={i}\n          >\n            {month}\n          </div>\n        ))}\n      </div>\n      <div className={'wx-34U8T8 wx-buttons'}>\n        <Button onClick={done}>{locale.done}</Button>\n      </div>\n    </>\n  );\n}\n","import { useContext, useMemo, useRef, useEffect } from 'react';\nimport { useWritableProp } from '@svar-ui/lib-react';\nimport { delegateClick, getDuodecade } from '@svar-ui/lib-dom';\nimport Button from './Button.jsx';\nimport { getPartValue } from './helpers';\nimport { i18n } from '../../context.js';\nimport './Duodecade.css';\n\nconst cssScope = 'wx-1XEF33';\n\nconst Duodecade = ({ value, current, onCancel, onChange, onShift, part }) => {\n  const _ = useContext(i18n).getRaw().calendar;\n\n  const [currentState, setCurrent] = useWritableProp(current);\n  const [valueState, setValue] = useWritableProp(value);\n\n  const year = useMemo(() => currentState.getFullYear(), [currentState]);\n\n  const years = useMemo(() => {\n    const { start, end } = getDuodecade(year);\n    const years = [];\n    for (let y = start; y <= end; ++y) {\n      years.push(y);\n    }\n    return years;\n  }, [year]);\n\n  const selectYears = {\n    click: selectYear,\n  };\n\n  function selectYear(yearVal, e) {\n    if (yearVal) {\n      e.stopPropagation();\n      const newCurrent = new Date(currentState);\n      newCurrent.setFullYear(yearVal);\n      setCurrent(newCurrent);\n\n      onShift && onShift({ current: newCurrent });\n    }\n\n    if (part === 'normal') {\n      setValue(new Date(currentState));\n    }\n\n    onCancel && onCancel();\n  }\n\n  function done() {\n    const date = new Date(getPartValue(valueState, part) || currentState);\n\n    date.setFullYear(currentState.getFullYear());\n\n    onChange && onChange(date);\n  }\n\n  const containerRef = useRef(null);\n\n  useEffect(() => {\n    if (containerRef.current) {\n      delegateClick(containerRef.current, selectYears);\n    }\n  }, []);\n\n  return (\n    <>\n      <div className={cssScope + ' wx-years'} ref={containerRef}>\n        {years.map((y, i) => (\n          <div\n            key={i}\n            className={\n              cssScope +\n              ` wx-year ${year == y ? 'wx-current' : ''} ${i === 0 ? 'wx-prev-decade' : ''} ${i === 11 ? 'wx-next-decade' : ''}`\n            }\n            data-id={y}\n          >\n            {y}\n          </div>\n        ))}\n      </div>\n      <div className={cssScope + ' wx-buttons'}>\n        <Button onClick={done}>{_.done}</Button>\n      </div>\n    </>\n  );\n};\n\nexport default Duodecade;\n","import Month from './Month.jsx';\nimport Year from './Year.jsx';\nimport Duodecade from './Duodecade.jsx';\n\nexport const configs = {\n  month: {\n    component: Month,\n    next: nextMonth,\n    prev: prevMonth,\n  },\n  year: {\n    component: Year,\n    next: nextYear,\n    prev: prevYear,\n  },\n  duodecade: {\n    component: Duodecade,\n    next: nextDuodecade,\n    prev: prevDuodecade,\n  },\n};\n\nfunction prevMonth(current) {\n  current = new Date(current);\n  current.setMonth(current.getMonth() - 1);\n  return current;\n}\nfunction nextMonth(current) {\n  current = new Date(current);\n  current.setMonth(current.getMonth() + 1);\n  return current;\n}\nfunction prevYear(current) {\n  current = new Date(current);\n  current.setFullYear(current.getFullYear() - 1);\n  return current;\n}\nfunction nextYear(current) {\n  current = new Date(current);\n  current.setFullYear(current.getFullYear() + 1);\n  return current;\n}\nfunction prevDuodecade(current) {\n  current = new Date(current);\n  current.setFullYear(current.getFullYear() - 10);\n  return current;\n}\nfunction nextDuodecade(current) {\n  current = new Date(current);\n  current.setFullYear(current.getFullYear() + 10);\n  return current;\n}\n\nexport function getPartValue(value, part) {\n  let date;\n  if (part === 'normal') date = value;\n  else {\n    const { start, end } = value;\n    if (part === 'left') date = start;\n    else if (part == 'right') date = end;\n    else date = start ? end : start;\n  }\n\n  return date;\n}\n","import { useContext, useState, useMemo } from 'react';\nimport Header from './Header.jsx';\nimport Button from './Button.jsx';\nimport { configs } from './helpers';\nimport { i18n } from '../../context.js';\nimport './Panel.css';\n\nconst defaultButtons = ['clear', 'today'];\n\nfunction getButtonValue(btn) {\n  if (btn === 'done') return -1;\n  if (btn === 'clear') return null;\n  if (btn === 'today') return new Date();\n}\n\nfunction Panel({\n  value,\n  current,\n  onCurrentChange,\n  part = 'normal',\n  markers = null,\n  buttons,\n  onShift,\n  onChange,\n}) {\n  const _ = useContext(i18n).getGroup('calendar');\n\n  const [type, setType] = useState('month');\n\n  const buttonsList = Array.isArray(buttons)\n    ? buttons\n    : buttons\n      ? defaultButtons\n      : [];\n\n  const selectDate = (ev, date) => {\n    ev.preventDefault();\n    onChange && onChange({ value: date });\n  };\n\n  const oncancel = () => {\n    if (type === 'duodecade') setType('year');\n    else if (type === 'year') setType('month');\n  };\n\n  const onShiftLocal = (ev) => {\n    const { diff, current: newCurrent } = ev;\n\n    if (diff === 0) {\n      if (type === 'month') setType('year');\n      else if (type === 'year') setType('duodecade');\n      return;\n    }\n    if (diff) {\n      const obj = configs[type];\n      onCurrentChange(diff > 0 ? obj.next(current) : obj.prev(current));\n    } else if (newCurrent) {\n      onCurrentChange(newCurrent);\n    }\n\n    onShift && onShift();\n  };\n\n  const onChangeLocal = (value) => {\n    setType('month');\n    onChange && onChange({ select: true, value });\n  };\n\n  const CalendarView = useMemo(() => configs[type].component, [type]);\n\n  return (\n    <div\n      className={`wx-2Gr4AS wx-calendar ${part !== 'normal' && part !== 'both' ? 'wx-part' : ''}`}\n    >\n      <div className=\"wx-2Gr4AS wx-wrap\">\n        <Header date={current} part={part} type={type} onShift={onShiftLocal} />\n        <div>\n          <CalendarView\n            value={value}\n            current={current}\n            onCurrentChange={onCurrentChange}\n            part={part}\n            markers={markers}\n            onCancel={oncancel}\n            onChange={onChangeLocal}\n            onShift={onShiftLocal}\n          />\n          {type === 'month' && buttonsList.length > 0 && (\n            <div className=\"wx-2Gr4AS wx-buttons\">\n              {buttonsList.map((button) => (\n                <div key={button} className=\"wx-2Gr4AS wx-button-item\">\n                  <Button\n                    onClick={(e) => selectDate(e, getButtonValue(button))}\n                  >\n                    {_(button)}\n                  </Button>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Panel;\n","import { useContext, useMemo } from 'react';\nimport { i18n } from './context';\nimport { locale } from '@svar-ui/lib-dom';\nimport { en } from '@svar-ui/core-locales';\n\nexport default function Component(props) {\n  let { words = null, optional = false, children } = props;\n\n  let l = useContext(i18n);\n  const v = useMemo(() => {\n    let t = l;\n    if (!t || !t.extend) t = locale(en);\n    if (words !== null) t = t.extend(words, optional);\n    return t;\n  }, [words, optional, l]);\n\n  return <i18n.Provider value={v}>{children}</i18n.Provider>;\n}\n","import { useEffect, useCallback } from 'react';\nimport Panel from './calendar/Panel.jsx';\nimport { useWritableProp } from '@svar-ui/lib-react';\nimport Locale from '../Locale.jsx';\n\nfunction fixCurrent(current, value, setCurrent, force) {\n  if (!current || force) {\n    const newCurrent = value ? new Date(value) : new Date();\n    newCurrent.setDate(1);\n    setCurrent(newCurrent);\n  } else {\n    if (current.getDate() !== 1) {\n      const newCurrent = new Date(current);\n      newCurrent.setDate(1);\n      setCurrent(newCurrent);\n    }\n  }\n}\n\nconst defaultButtons = ['clear', 'today'];\n\nexport default function Calendar({\n  value: valueProp,\n  current: currentProp,\n  markers = null,\n  buttons = defaultButtons,\n  onChange,\n}) {\n  const [value, setValue] = useWritableProp(valueProp);\n  const [current, setCurrent] = useWritableProp(currentProp);\n\n  useEffect(() => {\n    fixCurrent(current, value, setCurrent, false);\n  }, [value, current]);\n\n  const onChangeLocal = useCallback(\n    (v) => {\n      const x = v.value;\n      if (x) {\n        setValue(new Date(x));\n        fixCurrent(current, new Date(x), setCurrent, true);\n      } else {\n        setValue(null);\n      }\n\n      onChange && onChange({ value: x ? new Date(x) : null });\n    },\n    [onChange, current],\n  );\n\n  const onCurrentChangeLocal = useCallback(\n    (v) => {\n      setCurrent(v);\n    },\n    [setCurrent],\n  );\n\n  if (!current) return null;\n\n  return (\n    <Locale>\n      <Panel\n        value={value}\n        current={current}\n        markers={markers}\n        buttons={buttons}\n        onChange={onChangeLocal}\n        onCurrentChange={onCurrentChangeLocal}\n      />\n    </Locale>\n  );\n}\n","import { useState, useEffect, useMemo, useContext } from 'react';\nimport { dateToString } from '@svar-ui/lib-dom';\nimport { i18n } from '../context.js';\n\nimport Text from './Text.jsx';\nimport Dropdown from './Dropdown.jsx';\nimport Calendar from './Calendar.jsx';\nimport './DatePicker.css';\nimport { defaultLocale } from './helpers/locale.js';\n\nconst defaultButtons = ['clear', 'today'];\n\nexport default function DatePicker({\n  value: propValue,\n  id,\n  disabled = false,\n  error = false,\n  width = 'unset',\n  align = 'start',\n  placeholder = '',\n  format = '',\n  buttons = defaultButtons,\n  css = '',\n  title = '',\n  editable = false,\n  clear = false,\n  onChange,\n}) {\n  const { calendar: calendarLocale, formats } = (\n    useContext(i18n) || defaultLocale()\n  ).getRaw();\n  const f = format || formats?.dateFormat;\n  let dateFormat =\n    typeof f === 'function' ? f : dateToString(f, calendarLocale);\n\n  const [value, setValue] = useState(propValue);\n  const [popup, setPopup] = useState(false);\n\n  // Update local value when prop value changes\n  useEffect(() => {\n    setValue(propValue);\n  }, [propValue]);\n\n  function oncancel() {\n    setPopup(false);\n  }\n\n  function doChange(v) {\n    // skip \"select\" event if the same value\n    // or different objects with the same value\n    // or different objects with the same value\n    const skipEvent =\n      v === value ||\n      (v && value && v.valueOf() === value.valueOf()) ||\n      (!v && !value);\n\n    setValue(v);\n    if (!skipEvent) {\n      onChange && onChange({ value: v });\n    }\n\n    // fire after on-click finished\n    setTimeout(oncancel, 1);\n  }\n\n  const formattedValue = useMemo(\n    () => (value ? dateFormat(value) : ''),\n    [value, dateFormat],\n  );\n\n  function onchangeHandler({ value: v, input }) {\n    if (!editable && !clear) return;\n    if (input) return;\n\n    // convert to date, but ignore empty string input\n    let date =\n      typeof editable === 'function' ? editable(v) : v ? new Date(v) : null;\n\n    // if date is invalid ( incorrect text input ) then use old value\n    // else use the entered date\n    // in any case fallback to null, to prevent undefined as value\n    date = isNaN(date) ? value || null : date || null;\n    doChange(date);\n  }\n\n  // Handle scroll event on window\n  useEffect(() => {\n    const handleScroll = oncancel;\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  return (\n    <div className=\"wx-1lKOFG wx-datepicker\" onClick={() => setPopup(true)}>\n      <Text\n        css={css}\n        title={title}\n        value={formattedValue}\n        id={id}\n        readonly={!editable}\n        disabled={disabled}\n        error={error}\n        placeholder={placeholder}\n        onInput={oncancel}\n        onChange={onchangeHandler}\n        icon=\"wxi-calendar\"\n        inputStyle={{\n          cursor: 'pointer',\n          width: '100%',\n          paddingRight:\n            'calc(var(--wx-input-icon-size) + var(--wx-input-icon-indent) * 2)',\n        }}\n        clear={clear}\n      />\n\n      {popup && !disabled && (\n        <Dropdown\n          onCancel={oncancel}\n          width={width}\n          align={align}\n          autoFit={!!align}\n        >\n          <Calendar\n            buttons={buttons}\n            value={value}\n            onChange={(e) => doChange(e.value)}\n          />\n        </Dropdown>\n      )}\n    </div>\n  );\n}\n","import { useState, useEffect, useCallback } from 'react';\nimport Panel from './calendar/Panel';\nimport { useWritableProp } from '@svar-ui/lib-react';\nimport './RangeCalendar.css';\nimport Locale from '../Locale.jsx';\n\nconst defaultButtons = ['clear', 'today'];\n\nconst RangeCalendar = ({\n  start: startProp,\n  end: endProp,\n  current,\n  months = 2,\n  markers = null,\n  buttons = defaultButtons,\n  onChange,\n}) => {\n  const [start, setStart] = useWritableProp(startProp);\n  const [end, setEnd] = useWritableProp(endProp);\n  const [leftCurrent, setLeftCurrent] = useState();\n  const [rightCurrent, setRightCurrent] = useState();\n\n  const addMonth = useCallback((l, diff, rPrev) => {\n    const r = new Date(l);\n    r.setMonth(r.getMonth() + diff);\n    if (rPrev && r.valueOf() === rPrev.valueOf()) return rPrev;\n    return r;\n  }, []);\n\n  const onLeft = useCallback(\n    (v) => {\n      setLeftCurrent(() => {\n        const newLeft = new Date(v);\n        newLeft.setDate(1);\n        setRightCurrent(addMonth(newLeft, 1));\n        return newLeft;\n      });\n    },\n    [addMonth],\n  );\n\n  const onRight = useCallback(\n    (v) => {\n      setRightCurrent(() => {\n        const newRight = new Date(v);\n        newRight.setDate(1);\n        setLeftCurrent(addMonth(newRight, -1));\n        return newRight;\n      });\n    },\n    [addMonth],\n  );\n\n  // Effect for initializing leftCurrent based on start/current\n  useEffect(() => {\n    const startVal = start;\n    const currentVal = current;\n\n    if (!leftCurrent) {\n      onLeft(startVal ? new Date(startVal) : currentVal || new Date());\n    }\n  }, [start, current, leftCurrent, onLeft]);\n\n  const selectChange = useCallback(\n    (ev) => {\n      const v = ev.value;\n      let s = start,\n        e = end;\n      const final = v === -1;\n      if (!final) {\n        if (ev.select) {\n          if (!start || end) {\n            setStart((s = v));\n            setEnd((e = null));\n          } else {\n            if (start > v) {\n              setEnd((e = start));\n              setStart((s = v));\n            } else {\n              setEnd((e = v));\n            }\n          }\n        } else {\n          if (!v) {\n            setStart((s = null));\n            setEnd((e = null));\n          } else {\n            setStart((s = new Date(v)));\n            setEnd((e = new Date(v)));\n          }\n        }\n      }\n\n      if (final || !buttons.includes('done'))\n        onChange && onChange({ start: s, end: e });\n      return [s, e];\n    },\n    [start, end, buttons, onChange],\n  );\n\n  const doChangeStart = useCallback(\n    (v) => {\n      const [s] = selectChange(v);\n      if (s) onLeft(new Date(s));\n    },\n    [onLeft, start, end],\n  );\n\n  const doChangeEnd = useCallback(\n    (v) => {\n      const [, e] = selectChange(v);\n      if (e) onRight(new Date(e));\n    },\n    [onRight, start, end],\n  );\n\n  if (!leftCurrent || !rightCurrent) return null;\n\n  if (months === 1) {\n    return (\n      <Locale>\n        <Panel\n          value={{ start, end }}\n          current={leftCurrent}\n          setCurrent={onLeft}\n          markers={markers}\n          buttons={buttons}\n          part=\"both\"\n          onChange={doChangeStart}\n        />\n      </Locale>\n    );\n  } else {\n    return (\n      <Locale>\n        <div className=\"wx-p2jCaW wx-rangecalendar\">\n          <div className=\"wx-p2jCaW wx-half\">\n            <Panel\n              value={{ start, end }}\n              current={leftCurrent}\n              setCurrent={onLeft}\n              markers={markers}\n              buttons={false}\n              part=\"left\"\n              onChange={doChangeStart}\n              onCurrentChange={(v) => onLeft(v)}\n            />\n          </div>\n          <div className=\"wx-p2jCaW wx-half\">\n            <Panel\n              value={{ start, end }}\n              current={rightCurrent}\n              setCurrent={onRight}\n              markers={markers}\n              buttons={buttons}\n              part=\"right\"\n              onChange={doChangeEnd}\n              onCurrentChange={(v) => onRight(v)}\n            />\n          </div>\n        </div>\n      </Locale>\n    );\n  }\n};\n\nexport default RangeCalendar;\n","import { useState, useEffect, useMemo, useContext, useCallback } from 'react';\nimport { dateToString } from '@svar-ui/lib-dom';\nimport { useWritableProp } from '@svar-ui/lib-react';\nimport { i18n } from '../context.js';\n\nimport Text from './Text.jsx';\nimport Dropdown from './Dropdown.jsx';\nimport RangeCalendar from './RangeCalendar.jsx';\nimport { defaultLocale } from './helpers/locale.js';\n\nconst defaultButtons = ['clear', 'today'];\n\nconst DateRangePicker = ({\n  value: valueProp,\n  onChange,\n  id,\n  disabled = false,\n  error = false,\n  width = 'unset',\n  align = 'start',\n  placeholder = '',\n  css = '',\n  title = '',\n  format = '',\n  months = 2,\n  buttons = defaultButtons,\n  editable = false,\n  clear = false,\n}) => {\n  const [value, setValue] = useWritableProp(valueProp);\n  const { calendar: calendarLocale, formats } = (\n    useContext(i18n) || defaultLocale()\n  ).getRaw();\n\n  const f = format || formats?.dateFormat;\n  const dateFormat =\n    typeof f === 'function' ? f : dateToString(f, calendarLocale);\n\n  const [popup, setPopup] = useState(false);\n\n  const onCancel = useCallback(() => {\n    setPopup(false);\n  }, []);\n\n  const formattedValue = useMemo(() => {\n    return value\n      ? value.start\n        ? dateFormat(value.start) +\n          (value.end ? ` - ${dateFormat(value.end)}` : '')\n        : dateFormat(value)\n      : '';\n  }, [value, dateFormat]);\n\n  const start = useMemo(() => {\n    return value ? value.start || null : null;\n  }, [value]);\n\n  const end = useMemo(() => {\n    return value ? value.end || null : null;\n  }, [value]);\n\n  const doChange = useCallback(\n    (d) => {\n      const newValue = d.start || d.end ? { start: d.start, end: d.end } : null;\n\n      // Handle both cases: either external setValue or onChange prop\n      if (setValue) {\n        setValue(newValue);\n      } else {\n        // Parent must handle value prop update via onChange\n      }\n\n      // fire after on-click finished\n      if ((d.start && d.end) || (!d.start && !d.end)) {\n        // FIXME - select event will trigger even if the same value\n        if (onChange) {\n          onChange({ value: newValue });\n        }\n        setTimeout(onCancel, 1);\n      }\n    },\n    [onChange, onCancel, setValue],\n  );\n\n  const doInputChange = useCallback(\n    (ev) => {\n      if (!editable && !clear) return;\n\n      const { value: v, input } = ev;\n      if (input) return;\n\n      const [s, e] = v.split(' -').map((a, i) => {\n        const av = a.trim();\n        let date =\n          typeof editable === 'function'\n            ? editable(av)\n            : av\n              ? new Date(av)\n              : null;\n\n        // if date is invalid ( incorrect text input ) then use old value\n        // else use the entered date\n        // in any case fallback to null, to prevent undefined as value\n        let val = i === 0 ? start : end;\n        return isNaN(date) ? (val ? val : null) : date || null;\n      });\n\n      doChange({ start: s, end: e });\n    },\n    [editable, clear, start, end, doChange],\n  );\n\n  useEffect(() => {\n    const handleScroll = () => {\n      onCancel();\n    };\n\n    window.addEventListener('scroll', handleScroll);\n    return () => {\n      window.removeEventListener('scroll', handleScroll);\n    };\n  }, [onCancel]);\n\n  return (\n    <div\n      className={`wx-1b0WDQ wx-daterangepicker ${disabled ? 'wx-disabled' : ''} ${error ? 'wx-error' : ''}`}\n      onClick={() => setPopup(true)}\n    >\n      <Text\n        css={css}\n        title={title}\n        value={formattedValue}\n        id={id}\n        readonly={!editable}\n        disabled={disabled}\n        placeholder={placeholder}\n        error={error}\n        onChange={doInputChange}\n        icon=\"wxi-calendar\"\n        inputStyle={{\n          cursor: 'pointer',\n          width: '100%',\n          paddingRight:\n            'calc(var(--wx-input-icon-size) + var(--wx-input-icon-indent) * 2)',\n        }}\n        clear={clear}\n      />\n\n      {popup && !disabled && (\n        <Dropdown\n          onCancel={onCancel}\n          width={width}\n          align={align}\n          autoFit={!!align}\n        >\n          <RangeCalendar\n            onCancel={onCancel}\n            buttons={buttons}\n            start={start}\n            end={end}\n            months={months}\n            onChange={doChange}\n          />\n        </Dropdown>\n      )}\n    </div>\n  );\n};\n\nexport default DateRangePicker;\n\nimport './DateRangePicker.css';\n","import { useEffect, useRef, useState, useMemo } from 'react';\nimport { useHotkeys } from '@svar-ui/lib-react';\nimport Button from './Button.jsx';\nimport './Fullscreen.css';\n\nexport default function Fullscreen({\n  hotkey = null,\n  toggleButton,\n  children,\n}) {\n  const nodeRef = useRef(null);\n  const [inFullscreen, setInFullscreen] = useState(false);\n\n  const icon = useMemo(\n    () => `wxi-${inFullscreen ? 'collapse' : 'expand'}`,\n    [inFullscreen],\n  );\n\n  const toggleFullscreen = useRef(null);\n  toggleFullscreen.current = () => {\n    const node = nodeRef.current;\n    if (!inFullscreen && node) {\n      node.requestFullscreen();\n    } else if (inFullscreen) {\n      document.exitFullscreen();\n    }\n    setInFullscreen((prev) => !prev);\n  };\n\n  useHotkeys({ [hotkey]: () => toggleFullscreen.current() }, nodeRef);\n\n  useEffect(() => {\n    const setFullscreenState = () => {\n      setInFullscreen(document.fullscreenElement === nodeRef.current);\n    };\n\n    document.addEventListener('fullscreenchange', setFullscreenState);\n    return () => {\n      document.removeEventListener('fullscreenchange', setFullscreenState);\n    };\n  }, []);\n\n  return (\n    <div className=\"wx-13aa5W wx-fullscreen\" ref={nodeRef} tabIndex={-1}>\n      {children}\n      {toggleButton ? (\n        toggleButton(toggleFullscreen.current, inFullscreen)\n      ) : (\n        <Button css=\"wx-13aa5W wx-fullscreen-button\" onClick={toggleFullscreen.current}>\n          <i className={`wx-13aa5W ${icon} wx-fullscreen-icon`}> </i>\n        </Button>\n      )}\n    </div>\n  );\n}\n","import './Icon.css';\n\nexport default function Icon({ css = '', title = '', children, onClick }) {\n  if (children) {\n    return (\n      <i\n        title={title}\n        role=\"img\"\n        className={`wx-mdnST1 wx-icon ${css}`}\n        onClick={onClick}\n      >\n        {children}\n      </i>\n    );\n  } else {\n    return (\n      <i\n        title={title}\n        className={`wx-mdnST1 wx-icon ${css}`}\n        onClick={onClick}\n      />\n    );\n  }\n}\n","import { useState, useMemo, useRef, useCallback } from 'react';\nimport { useWritableProp, snippet } from '@svar-ui/lib-react';\nimport { useInputId } from './helpers/getInputId.js';\nimport List from './helpers/SuggestDropdown.jsx';\nimport Checkbox from './Checkbox.jsx';\nimport './MultiCombo.css';\n\nconst defaultValue = [];\n\nexport default function MultiCombo({\n  id,\n  value: valueProp = defaultValue,\n  options = [],\n  textOptions = null,\n  textField = 'label',\n  placeholder = '',\n  title = '',\n  disabled = false,\n  error = false,\n  checkboxes = false,\n  onChange,\n  children,\n}) {\n  const inputId = useInputId(id);\n  const navigate = useRef(null);\n  const keydown = useRef(null);\n\n  const [value, setValue] = useWritableProp(valueProp);\n\n  const [text, setText] = useState('');\n  const [focus, setFocus] = useState(false);\n  const inputElement = useRef(null);\n\n  const selected = useMemo(() => {\n    return value\n      ? (textOptions || options).filter((i) => value.includes(i.id))\n      : [];\n  }, [value, textOptions, options]);\n\n  const filterOptions = useMemo(() => {\n    const o = options;\n    return text\n      ? o.filter((i) => i[textField].toLowerCase().includes(text.toLowerCase()))\n      : o;\n  }, [text, options, textField]);\n\n  const onready = useCallback((ev) => {\n    navigate.current = ev.navigate;\n    keydown.current = ev.keydown;\n  }, []);\n\n  const input = useCallback(() => {\n    if (filterOptions.length) navigate.current(0);\n    else navigate.current(null);\n  }, [filterOptions]);\n\n  const onselect = useCallback(\n    (ev) => {\n      const { id } = ev;\n\n      if (id) {\n        let next;\n        if (value) {\n          if (value.includes(id)) {\n            next = value.filter((i) => i !== id);\n          } else {\n            next = [...value, id];\n          }\n        } else {\n          next = [id];\n        }\n\n        setValue(next);\n        onChange && onChange({ value: next });\n\n        inputElement.current.focus();\n      }\n    },\n    [value, onChange],\n  );\n\n  const remove = useCallback(\n    (id, ev) => {\n      if (ev) ev.stopPropagation();\n\n      const next = value.filter((i) => i !== id);\n      setValue(next);\n      onChange && onChange({ value: next });\n    },\n    [value, onChange],\n  );\n\n  const index = useCallback(\n    () =>\n      value && value.length\n        ? filterOptions.findIndex((i) => i.id === value[0])\n        : 0,\n    [value, filterOptions],\n  );\n\n  const onClickHandler = useCallback(() => {\n    if (!disabled) {\n      inputElement.current.focus();\n      navigate.current(index());\n    }\n  }, [disabled, index]);\n\n  return (\n    <div\n      title={title}\n      className={\n        'wx-12Wj21 wx-multicombo ' +\n        `${error ? 'wx-error' : ''} ${disabled ? 'wx-disabled' : ''} ${selected.length ? 'wx-not-empty' : ''} ${focus && !disabled ? 'wx-focus' : ''}`\n      }\n      onClick={onClickHandler}\n      onKeyDown={(ev) => keydown.current(ev, index())}\n    >\n      <div className=\"wx-12Wj21 wx-wrapper\">\n        <div className=\"wx-12Wj21 wx-tags\">\n          {selected.map((tag) => (\n            <div key={tag.id} className=\"wx-12Wj21 wx-tag\">\n              {children ? snippet(children, { option: tag }) : tag[textField]}\n              {!disabled && (\n                <i\n                  className=\"wx-12Wj21 wx-icon wxi-close\"\n                  onClick={(ev) => remove(tag.id, ev)}\n                ></i>\n              )}\n            </div>\n          ))}\n        </div>\n        <div className=\"wx-12Wj21 wx-select\">\n          <input\n            className=\"wx-12Wj21 wx-input\"\n            id={inputId}\n            type=\"text\"\n            value={text}\n            onChange={(ev) => setText(ev.target.value)}\n            onInput={input}\n            placeholder={placeholder}\n            disabled={disabled}\n            onFocus={() => setFocus(true)}\n            onBlur={() => setFocus(false)}\n            ref={inputElement}\n          />\n          <i className=\"wx-12Wj21 wx-icon wxi-angle-down\"></i>\n        </div>\n      </div>\n\n      {!disabled && (\n        <List items={filterOptions} onReady={onready} onSelect={onselect}>\n          {({ option }) => (\n            <>\n              {checkboxes && (\n                <Checkbox\n                  style={{ marginRight: '8px', pointerEvents: 'none' }}\n                  name={option.id}\n                  value={value && value.includes(option.id)}\n                />\n              )}\n              {children ? snippet(children, { option }) : option[textField]}\n            </>\n          )}\n        </List>\n      )}\n    </div>\n  );\n}\n","import { useState, useEffect, useRef, useCallback } from 'react';\nimport { clickOutside, calculatePosition } from '@svar-ui/lib-dom';\nimport './Popup.css';\n\nexport function Popup({\n  left = 0,\n  top = 0,\n  at = 'bottom',\n  parent = null,\n  onCancel,\n  children,\n}) {\n  const [x, setX] = useState(0);\n  const [y, setY] = useState(0);\n  const [width, setWidth] = useState('auto');\n  const [visible, setVisible] = useState(false);\n\n  const self = useRef(null);\n\n  const updatePosition = useCallback(() => {\n    if (!self.current) return;\n\n    const result = calculatePosition(self.current, parent, at, left, top);\n    if (result) {\n      setX(result.x);\n      setY(result.y);\n      setWidth(result.width);\n      setVisible(true);\n    }\n  }, [self, parent, at, left, top]);\n\n  useEffect(() => {\n    requestAnimationFrame(updatePosition);\n  }, []);\n\n  useEffect(() => {\n    updatePosition(parent);\n  }, [parent, at, left, top]);\n\n  useEffect(() => {\n    const down = (e) => {\n      onCancel && onCancel(e);\n    };\n    if (self.current) {\n      return clickOutside(self.current, down).destroy;\n    }\n  }, [onCancel]);\n\n  return (\n    <div\n      ref={self}\n      className=\"wx-37M6Fj wx-popup\"\n      style={{\n        position: 'absolute',\n        visibility: visible ? 'visible' : 'hidden',\n        top: y + 'px',\n        left: x + 'px',\n        width: width,\n      }}\n    >\n      {children}\n    </div>\n  );\n}\n\nexport default Popup;\n","import { useContext } from 'react';\nimport { useWritableProp } from '@svar-ui/lib-react';\nimport { i18n } from '../context.js';\nimport './Pager.css';\nimport { defaultLocale } from './helpers/locale.js';\n\nconst Pager = ({\n  total = 0,\n  pageSize: initialPageSize = 20,\n  value: initialValue = 1,\n  onChange,\n}) => {\n  const [pageSize, setPageSize] = useWritableProp(initialPageSize);\n  const [value, setValue] = useWritableProp(initialValue);\n\n  const _ = (useContext(i18n) || defaultLocale()).getGroup('core');\n\n  const pageCount = Math.ceil(total / pageSize);\n  const from = (value - 1) * pageSize;\n  const to = Math.min(value * pageSize, total);\n\n  const setInnerValue = (v, final) => {\n    if (Number.isNaN(v)) return;\n\n    if (!final) setValue(v);\n    v = Math.max(1, Math.min(v, pageCount));\n    if (final) setValue(v);\n\n    if (v === value) return;\n    setTimeout(() => {\n      onChange &&\n        onChange({\n          value: v,\n          from: (v - 1) * pageSize,\n          to: Math.min(v * pageSize, total),\n          pageSize: pageSize,\n        });\n    });\n  };\n\n  function setActivePage(id) {\n    switch (id) {\n      case 'first':\n        setInnerValue(1);\n        break;\n\n      case 'prev':\n        setInnerValue(value - 1);\n        break;\n\n      case 'next':\n        setInnerValue(value + 1);\n        break;\n\n      case 'last':\n        setInnerValue(pageCount);\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  const onPageSizeInput = (e) => {\n    const newValue = e.target.value * 1;\n    if (Number.isNaN(newValue)) {\n      return;\n    }\n\n    setPageSize(newValue);\n    onChange && onChange({ value, from, to, pageSize: newValue });\n  };\n\n  return (\n    <div className=\"wx-35Np0p wx-pager\">\n      <div className=\"wx-35Np0p wx-left\">\n        <span>{_('Rows per page')}: </span>\n        <input\n          type=\"number\"\n          min={1}\n          className=\"wx-35Np0p wx-input\"\n          value={pageSize}\n          onChange={onPageSizeInput}\n        />\n      </div>\n\n      <div className=\"wx-35Np0p wx-center\">\n        <i\n          className={\n            'wx-35Np0p wx-icon wxi-angle-dbl-left' +\n            (value === 1 ? ' wx-disabled' : '')\n          }\n          onClick={() => setActivePage('first')}\n        ></i>\n        <i\n          className={\n            'wx-35Np0p wx-icon wxi-angle-left' +\n            (value === 1 ? ' wx-disabled' : '')\n          }\n          onClick={() => setActivePage('prev')}\n        ></i>\n        <input\n          type=\"text\"\n          value={value}\n          className=\"wx-35Np0p wx-input\"\n          onChange={(e) => setInnerValue(e.target.value * 1)}\n          onBlur={(e) => setInnerValue(e.target.value * 1, true)}\n        />\n        <i\n          className={\n            'wx-35Np0p wx-icon wxi-angle-right' +\n            (value === pageCount ? ' wx-disabled' : '')\n          }\n          onClick={() => setActivePage('next')}\n        ></i>\n        <i\n          className={\n            'wx-35Np0p wx-icon wxi-angle-dbl-right' +\n            (value === pageCount ? ' wx-disabled' : '')\n          }\n          onClick={() => setActivePage('last')}\n        ></i>\n      </div>\n\n      <div className=\"wx-35Np0p wx-right\">\n        {_('Total pages')}: {pageCount}\n      </div>\n    </div>\n  );\n};\n\nexport default Pager;\n","import { useState } from 'react';\nimport { useInputId } from './helpers/getInputId.js';\nimport { useId } from 'react';\nimport './RadioButton.css';\n\nexport default function RadioButton({\n  id,\n  label = '',\n  value: externalValue,\n  name = '',\n  inputValue = '',\n  disabled = false,\n  onChange,\n}) {\n  const fallbackId = useId();\n  const inputId = useInputId(id) || fallbackId;\n  // Internal state for uncontrolled behavior\n  const [internalValue, setInternalValue] = useState(false);\n\n  // Determine which value to use (controlled vs uncontrolled)\n  // For React, we need to handle both cases\n  const isControlled = externalValue !== undefined;\n  const currentValue = isControlled ? externalValue : internalValue;\n\n  function handlerChange(ev) {\n    const newValue = ev.target.checked;\n\n    if (!isControlled) {\n      setInternalValue(newValue);\n    }\n\n    if (newValue && onChange) {\n      onChange({ value: true, inputValue });\n    }\n  }\n\n  return (\n    <div className=\"wx-3lDF1s wx-radio\">\n      <input\n        type=\"radio\"\n        className=\"wx-3lDF1s wx-input\"\n        id={inputId}\n        disabled={disabled}\n        name={name}\n        value={inputValue}\n        checked={currentValue}\n        onChange={handlerChange}\n      />\n      <label htmlFor={inputId} className=\"wx-3lDF1s wx-label\">\n        <span className=\"wx-3lDF1s wx-circle\"></span>\n        {label && <span className=\"wx-3lDF1s wx-radio-text\">{label}</span>}\n      </label>\n    </div>\n  );\n}\n","import { uid } from '@svar-ui/lib-dom';\nimport { useState, useEffect } from 'react';\nimport RadioButton from './RadioButton.jsx';\nimport { fieldId } from \"../context\";\nimport './RadioButtonGroup.css';\n\n\nexport default function RadioButtonGroup({\n  options = [{}],\n  value = '',\n  onChange,\n  type = '',\n}) {\n  const name = uid();\n\n  const [currentValue, setCurrentValue] = useState(value);\n\n  useEffect(() => {\n    setCurrentValue(value);\n  }, [value]);\n\n  function handleChange(ev) {\n    const newValue = ev.inputValue;\n    setCurrentValue(newValue);\n    if (onChange) {\n      onChange({ value: newValue });\n    }\n  }\n\n  return (\n    <fieldId.Provider value={null}>\n      <div className={`wx-38w70j wx-radiogroup ${type && `wx-${type}`}`}>\n        {options.map((option) => (\n          <div key={option.id} className=\"wx-38w70j wx-item\">\n            <RadioButton\n              label={option.label}\n              inputValue={option.id}\n              value={currentValue === option.id}\n              name={name}\n              onChange={handleChange}\n            />\n          </div>\n        ))}\n      </div>\n    </fieldId.Provider>\n  );\n}\n","import { useRef, useCallback, useMemo } from 'react';\nimport List from './helpers/SuggestDropdown.jsx';\nimport { useWritableProp } from '@svar-ui/lib-react';\nimport './RichSelect.css';\n\nexport default function RichSelect({\n  value: propertyValue = '',\n  options = [],\n  textOptions = null,\n  placeholder = '',\n  disabled = false,\n  error = false,\n  title = '',\n  textField = 'label',\n  clear = false,\n  children: kids,\n  onChange,\n}) {\n  const navigate = useRef(null);\n  const keydown = useRef(null);\n  let [value, setValue] = useWritableProp(propertyValue);\n\n  function ready(ev) {\n    navigate.current = ev.navigate;\n    keydown.current = ev.keydown;\n  }\n\n  const selected = useMemo(() => {\n    return value || value === 0\n      ? (textOptions || options).find((a) => a.id === value)\n      : null;\n  }, [value, textOptions, options]);\n\n  const select = useCallback(\n    ({ id }) => {\n      if (id || id === 0) {\n        setValue(id);\n        navigate.current(null);\n        onChange && onChange({ value: id });\n      }\n    },\n    [setValue, onChange],\n  );\n\n  const unselect = useCallback(\n    (ev) => {\n      ev.stopPropagation();\n      setValue('');\n      onChange && onChange({ value: '' });\n    },\n    [setValue, onChange],\n  );\n\n  const index = useCallback(() => {\n    return options.findIndex((a) => a.id === value);\n  }, [options, value]);\n\n  return (\n    <div\n      className={`wx-2YgblL wx-richselect ${error ? 'wx-2YgblL wx-error' : ''} ${disabled ? 'wx-2YgblL wx-disabled' : ''} ${!kids ? 'wx-2YgblL wx-nowrap' : ''}`}\n      title={title}\n      onClick={() => navigate.current(index())}\n      onKeyDown={(ev) => keydown.current(ev, index())}\n      tabIndex={0}\n    >\n      <div className=\"wx-2YgblL wx-label\">\n        {selected ? (\n          kids ? (\n            kids(selected)\n          ) : (\n            selected[textField]\n          )\n        ) : placeholder ? (\n          <span className=\"wx-2YgblL wx-placeholder\">{placeholder}</span>\n        ) : (\n          '\\u00A0'\n        )}\n      </div>\n\n      {clear && !disabled && value ? (\n        <i className=\"wx-2YgblL wx-icon wxi-close\" onClick={unselect} />\n      ) : (\n        <i className=\"wx-2YgblL wx-icon wxi-angle-down\" />\n      )}\n\n      {!disabled && (\n        <List items={options} onReady={ready} onSelect={select}>\n          {({ option }) => (kids ? kids(option) : option[textField])}\n        </List>\n      )}\n    </div>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { snippet } from '@svar-ui/lib-react';\nimport './Segmented.css';\n\nconst Segmented = ({\n  options = [],\n  value = '',\n  css = '',\n  children,\n  onChange,\n}) => {\n  // Note: Using additional state for controlled/uncontrolled handling since React doesn't allow direct prop mutation\n  const [internalValue, setInternalValue] = useState(value);\n\n  const handleClick = (id) => {\n    setInternalValue(id);\n    if (onChange) {\n      onChange({ value: id });\n    }\n  };\n\n  // Ensure internal value stays in sync with external value changes\n  useEffect(() => {\n    setInternalValue(value);\n  }, [value]);\n\n  return (\n    <div className={'wx-0hMO7P' + ` wx-segmented ${css}`}>\n      {options.map((option) => (\n        <button\n          key={option.id}\n          className={\n            'wx-0hMO7P' +\n            ` wx-segment ${option.css} ${option.id === internalValue ? 'wx-selected' : ''}`\n          }\n          title={option.title}\n          onClick={() => handleClick(option.id)}\n        >\n          {children ? (\n            snippet(children, { option })\n          ) : (\n            <>\n              {option.icon && (\n                <i\n                  className={\n                    'wx-0hMO7P' +\n                    ` wx-icon ${option.icon} ${!option.label ? 'wx-only' : ''}`\n                  }\n                ></i>\n              )}\n              {option.label && (\n                <span className=\"wx-0hMO7P wx-label\">{option.label}</span>\n              )}\n            </>\n          )}\n        </button>\n      ))}\n    </div>\n  );\n};\n\nexport default Segmented;\n","import { useState, useCallback } from 'react';\nimport { useInputId } from './helpers/getInputId.js';\nimport './Select.css';\n\nexport default function Select({\n  value: valueProp,\n  options = [],\n  placeholder = '',\n  title = '',\n  disabled = false,\n  error = false,\n  textField = 'label',\n  clear = false,\n  id,\n  onChange,\n}) {\n  const inputId = useInputId(id);\n  const [value, setValue] = useState(valueProp || '');\n\n  const handleChange = useCallback(\n    (event) => {\n      const newValue = event.target.value;\n      setValue(newValue);\n      if (onChange) onChange({ value: newValue });\n    },\n    [onChange],\n  );\n\n  const unselect = useCallback(() => {\n    setValue('');\n    if (onChange) onChange({ value: '' });\n  }, [onChange]);\n\n  return (\n    <div className=\"wx-2yx1Fo wx-select-box\">\n      <select\n        id={inputId}\n        value={value}\n        disabled={disabled}\n        className={`wx-2yx1Fo wx-select ${error ? 'wx-2yx1Fo wx-error' : ''}`}\n        title={title}\n        onChange={handleChange}\n      >\n        <option value=\"\">{placeholder}</option>\n        {options.map((option) => (\n          <option key={option.id} value={option.id}>\n            {option[textField]}\n          </option>\n        ))}\n      </select>\n\n      {clear && !disabled && value ? (\n        <i className=\"wx-2yx1Fo wx-icon wxi-close\" onClick={unselect}></i>\n      ) : (\n        <i className=\"wx-2yx1Fo wx-icon wxi-angle-down\"></i>\n      )}\n    </div>\n  );\n}\n","import { useEffect, useMemo, useRef } from 'react';\nimport { useWritableProp } from '@svar-ui/lib-react';\nimport { useInputId } from './helpers/getInputId.js';\nimport './Slider.css';\n\nexport default function Slider({\n  id,\n  label = '',\n  css = '',\n  min = 0,\n  max = 100,\n  value: initialValue = 0,\n  step = 1,\n  title = '',\n  disabled = false,\n  onChange,\n}) {\n  const inputId = useInputId(id);\n  const [value, setValue] = useWritableProp(initialValue);\n  const previous = useRef({ value: value, input: value });\n\n  const progress = useMemo(\n    () => ((value - min) / (max - min)) * 100 + '%',\n    [value, min, max],\n  );\n\n  const bgStyle = useMemo(() => {\n    return disabled\n      ? ''\n      : `linear-gradient(90deg, var(--wx-slider-primary) 0% ${progress}, var(--wx-slider-background) ${progress} 100%)`;\n  }, [disabled, progress]);\n\n  function oninput({ target }) {\n    const newValue = target.value * 1;\n    setValue(newValue);\n    onChange &&\n      onChange({\n        value: newValue,\n        previous: previous.current.input,\n        input: true,\n      });\n    previous.current.input = newValue;\n  }\n\n  function onslider({ target }) {\n    const newValue = target.value * 1;\n    setValue(newValue);\n    onChange && onChange({ value: newValue, previous: previous.current.value });\n    previous.current.value = newValue;\n  }\n\n  // Sync if props.value changes externally\n  useEffect(() => {\n    setValue(initialValue);\n  }, [initialValue]);\n\n  const inputRef = useRef(null);\n  useEffect(() => {\n    if (inputRef.current) {\n      inputRef.current.addEventListener('change', onslider);\n      return () => {\n        if (inputRef.current) {\n          inputRef.current.removeEventListener('change', onslider);\n        }\n      };\n    }\n  }, [inputRef, onslider]);\n\n  return (\n    <div className={`wx-2EDJ8G wx-slider ${css}`} title={title}>\n      {label && (\n        <label className=\"wx-2EDJ8G wx-label\" htmlFor={inputId}>\n          {label}\n        </label>\n      )}\n      <div className=\"wx-2EDJ8G wx-inner\">\n        <input\n          id={inputId}\n          className=\"wx-2EDJ8G wx-input\"\n          type=\"range\"\n          min={min}\n          max={max}\n          step={step}\n          disabled={disabled}\n          value={value}\n          onInput={oninput}\n          style={{ background: bgStyle }}\n          ref={inputRef}\n        />\n      </div>\n    </div>\n  );\n}\n","import { useCallback } from 'react';\nimport { useWritableProp } from '@svar-ui/lib-react';\nimport { useInputId } from './helpers/getInputId.js';\nimport './Switch.css';\n\nexport default function Switch({\n  id,\n  value: initialValue = false,\n  disabled = false,\n  onChange,\n}) {\n  const inputId = useInputId(id);\n  const [value, setValue] = useWritableProp(initialValue);\n\n  const handleChange = useCallback(\n    (event) => {\n      const newValue = event.target.checked;\n      setValue(newValue);\n      onChange && onChange({ value: newValue });\n    },\n    [onChange],\n  );\n\n  return (\n    <label className=\"wx-2dAR5c wx-switch\">\n      <input\n        className=\"wx-2dAR5c wx-input\"\n        type=\"checkbox\"\n        checked={value}\n        onChange={handleChange}\n        disabled={disabled}\n        id={inputId}\n      />\n      <span className=\"wx-2dAR5c wx-box\" />\n    </label>\n  );\n}\n","import { useWritableProp } from '@svar-ui/lib-react';\nimport './Tabs.css';\n\nconst Tabs = ({\n  options = [],\n  value: propValue = '',\n  type = 'top',\n  css = '',\n  onChange,\n}) => {\n  const [value, setValue] = useWritableProp(propValue);\n\n  const handleClick = (optionId) => {\n    setValue(optionId);\n    if (onChange) {\n      onChange({ value: optionId });\n    }\n  };\n\n  return (\n    <div className={'wx-138fWJ ' + `wx-tabs wx-${type} ${css}`}>\n      {options.map((option) => (\n        <button\n          key={option.id}\n          className={\n            'wx-138fWJ ' +\n            `wx-tab ${option.css} ${option.id === value ? 'wx-active' : ''}`\n          }\n          title={option.title}\n          onClick={() => handleClick(option.id)}\n        >\n          {option.icon && (\n            <i\n              className={\n                'wx-138fWJ ' +\n                `wx-icon ${option.icon} ${!option.label ? 'wx-only' : ''}`\n              }\n            ></i>\n          )}\n          {option.label && (\n            <span className=\"wx-138fWJ wx-label\">{option.label}</span>\n          )}\n        </button>\n      ))}\n    </div>\n  );\n};\n\nexport default Tabs;\n","import { useCallback } from 'react';\nimport { useWritableProp } from '@svar-ui/lib-react';\nimport { useInputId } from './helpers/getInputId.js';\nimport './Counter.css';\n\nconst Counter = ({\n  id,\n  value: initialValue = 0,\n  step = 1,\n  min = 0,\n  max = Infinity,\n  error = false,\n  disabled = false,\n  readonly = false,\n  onChange,\n}) => {\n  const inputId = useInputId(id);\n  const [value, setValue] = useWritableProp(initialValue);\n\n  const dec = useCallback(() => {\n    if (readonly || value <= min) return;\n    const newValue = value - step;\n    setValue(newValue);\n    onChange && onChange({ value: newValue });\n  }, [value, readonly, min, step, onChange]);\n\n  const inc = useCallback(() => {\n    if (readonly || value >= max) return;\n    const newValue = value + step;\n    setValue(newValue);\n    onChange && onChange({ value: newValue });\n  }, [value, readonly, max, step, onChange]);\n\n  const blur = useCallback(() => {\n    if (!readonly) {\n      const tValue =\n        Math.round(Math.min(max, Math.max(value, min)) / step) * step;\n      const newValue = isNaN(tValue) ? Math.max(min, 0) : tValue;\n      setValue(newValue);\n      onChange && onChange({ value: newValue });\n    }\n  }, [readonly, value, max, min, step, onChange]);\n\n  const input = useCallback(\n    (e) => {\n      const newValue = e.target.value * 1;\n      setValue(newValue);\n      onChange && onChange({ value: newValue, input: true });\n    },\n    [onChange],\n  );\n\n  return (\n    <div\n      className={\n        'wx-22t21n ' +\n        `wx-counter ${disabled ? 'wx-disabled' : ''} ${readonly ? 'wx-readonly' : ''} ${error ? 'wx-error' : ''}`\n      }\n    >\n      <button\n        aria-label=\"-\"\n        className={'wx-22t21n ' + 'wx-btn wx-btn-dec'}\n        disabled={disabled}\n        onClick={dec}\n      >\n        <svg\n          className={'wx-22t21n ' + 'wx-dec'}\n          width=\"12\"\n          height=\"2\"\n          viewBox=\"0 0 12 2\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <path d=\"M11.2501 1.74994H0.750092V0.249939H11.2501V1.74994Z\" />\n        </svg>\n      </button>\n      <input\n        id={inputId}\n        type=\"text\"\n        className={'wx-22t21n ' + 'wx-input'}\n        disabled={disabled}\n        readOnly={readonly}\n        required\n        value={value}\n        onBlur={blur}\n        onInput={input}\n      />\n      <button\n        aria-label=\"-\"\n        className={'wx-22t21n ' + 'wx-btn wx-btn-inc'}\n        disabled={disabled}\n        onClick={inc}\n      >\n        <svg\n          className={'wx-22t21n ' + 'wx-inc'}\n          width=\"12\"\n          height=\"12\"\n          viewBox=\"0 0 12 12\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <path\n            d=\"M11.2501\n\t\t\t\t\t\t\t\t6.74994H6.75009V11.2499H5.25009V6.74994H0.750092V5.24994H5.25009V0.749939H6.75009V5.24994H11.2501V6.74994Z\"\n          />\n        </svg>\n      </button>\n    </div>\n  );\n};\n\nexport default Counter;\n","import './Notice.css';\n\nexport default function Notice({ notice = {} }) {\n  function onRemove() {\n    if (notice.remove) notice.remove();\n  }\n\n  return (\n    <div\n      className={`wx-11sNg5 wx-notice wx-${notice.type ? notice.type : ''}`}\n      role=\"status\"\n      aria-live=\"polite\"\n    >\n      <div className=\"wx-11sNg5 wx-text\">{notice.text}</div>\n      <div className=\"wx-11sNg5 wx-button\">\n        <i className=\"wx-11sNg5 wxi-close\" onClick={onRemove} />\n      </div>\n    </div>\n  );\n}\n","import Notice from './Notice.jsx';\nimport './Notices.css';\n\nexport default function Notices({ data = [] }) {\n  return (\n    <div className=\"wx-3nwoO9 wx-notices\">\n      {data.map((notice) => (\n        <Notice key={notice.id} notice={notice} />\n      ))}\n    </div>\n  );\n}\n","import { useRef, useEffect, useContext } from 'react';\nimport Button from './Button.jsx';\nimport { i18n } from '../context.js';\nimport './Modal.css';\nimport { defaultLocale } from './helpers/locale.js';\n\nexport default function Modal({\n  title = '',\n  buttons = ['cancel', 'ok'],\n  header,\n  children,\n  footer,\n  onConfirm,\n  onCancel,\n}) {\n  const _ = (useContext(i18n) || defaultLocale()).getGroup('core');\n  const modal = useRef(null);\n\n  useEffect(() => {\n    modal.current?.focus();\n  }, []);\n\n  function keydown(ev) {\n    switch (ev.code) {\n      case 'Enter': {\n        const from = ev.target.tagName;\n        if (from === 'TEXTAREA' || from === 'BUTTON') return;\n        onConfirm && onConfirm({ event: ev });\n        break;\n      }\n      case 'Escape':\n        onCancel && onCancel({ event: ev });\n        break;\n    }\n  }\n\n  function onclick(ev, button) {\n    const pack = { event: ev, button };\n    if (button === 'cancel') {\n      onCancel && onCancel(pack);\n    } else {\n      onConfirm && onConfirm(pack);\n    }\n  }\n\n  return (\n    <div\n      className=\"wx-1FxkZa wx-modal\"\n      ref={modal}\n      tabIndex={0}\n      onKeyDown={keydown}\n    >\n      <div className=\"wx-1FxkZa wx-window\">\n        {header ? (\n          header\n        ) : title ? (\n          <div className=\"wx-1FxkZa wx-header\">{title}</div>\n        ) : null}\n\n        <div>{children}</div>\n\n        {footer\n          ? footer\n          : buttons && (\n              <div className=\"wx-1FxkZa wx-buttons\">\n                {buttons.map((button) => (\n                  <div key={button} className=\"wx-1FxkZa wx-button\">\n                    <Button\n                      type={`block ${button === 'ok' ? 'primary' : 'secondary'}`}\n                      onClick={(ev) => onclick(ev, button)}\n                    >\n                      {_(button)}\n                    </Button>\n                  </div>\n                ))}\n              </div>\n            )}\n      </div>\n    </div>\n  );\n}\n","import { useState, useImperativeHandle, forwardRef } from 'react';\nimport Notices from './Notices.jsx';\nimport Modal from './Modal.jsx';\n\nimport { uid } from '@svar-ui/lib-dom';\n\nfunction Globals({ children }, apiRef) {\n  const [modal, setModal] = useState(null);\n  const [notices, setNotices] = useState([]);\n\n  useImperativeHandle(\n    apiRef,\n    () => ({\n      showModal: (msg) => {\n        const modalObj = { ...msg };\n        setModal(modalObj);\n        return new Promise((res, rej) => {\n          modalObj.resolve = (v) => {\n            setModal(null);\n            res(v);\n          };\n          modalObj.reject = (v) => {\n            setModal(null);\n            rej(v);\n          };\n        });\n      },\n      showNotice: (msg) => {\n        msg = { ...msg };\n        msg.id = msg.id || uid();\n        msg.remove = () =>\n          setNotices((prev) => prev.filter((a) => a.id !== msg.id));\n\n        if (msg.expire != -1) {\n          setTimeout(msg.remove, msg.expire || 5100);\n        }\n        setNotices((prev) => [...prev, msg]);\n      },\n    }),\n    [],\n  );\n\n  return (\n    <>\n      {children}\n      {modal && (\n        <Modal\n          title={modal.title}\n          buttons={modal.buttons}\n          onConfirm={modal.resolve}\n          onCancel={modal.reject}\n        >\n          {modal.message}\n        </Modal>\n      )}\n      <Notices data={notices} />\n    </>\n  );\n}\n\nconst GlobalsComponentWithRef = forwardRef(Globals);\nexport default GlobalsComponentWithRef;\n","import { useMemo, useRef } from 'react';\nimport { helpers } from './context';\nimport Globals from './components/Globals.jsx';\n\nexport default function Component(props) {\n  let { children } = props;\n  let api = useRef();\n\n  const l = useMemo(() => {\n    return {\n      showNotice: (msg) => api.current.showNotice(msg),\n      showModal: (msg) => api.current.showModal(msg),\n    };\n  }, []);\n\n  return (\n    <helpers.Provider value={l}>\n      <Globals ref={api}>{children}</Globals>\n    </helpers.Provider>\n  );\n}\n","import { useCallback, useRef } from 'react';\nimport { uid } from '@svar-ui/lib-dom';\nimport { fieldId } from \"../context\";\nimport './Field.css';\n\nexport default function Field({\n  label = '',\n  position = '',\n  css = '',\n  error = false,\n  type = '',\n  required = false,\n  children,\n}) {\n  const firstInputId = useRef(null);\n  const registerInput = useCallback(() => {\n    if (firstInputId.current) return firstInputId.current;\n    const id = uid();\n    firstInputId.current = id;\n    return id;\n  }, []);\n\n  return (\n    <fieldId.Provider value={registerInput}>\n      <div\n        className={`wx-2oVUvC wx-field wx-${position} ${css} ${error ? 'wx-error' : ''} ${required ? 'wx-required' : ''}`.trim()}\n      >\n        {label && (\n          <label className=\"wx-2oVUvC wx-label\" htmlFor={firstInputId.current}>\n            {label}\n          </label>\n        )}\n        <div className={`wx-2oVUvC wx-field-control wx-${type}`}>\n          {children}\n        </div>\n      </div>\n    </fieldId.Provider>\n  );\n}\n","import { useCallback, useMemo } from 'react';\nimport { snippet, useWritableProp } from '@svar-ui/lib-react';\nimport Button from './Button.jsx';\n\nconst TwoState = ({\n  value: initialValue = false,\n  type = '',\n  icon = '',\n  disabled = false,\n  iconActive = '',\n  onClick,\n  title = '',\n  css = '',\n  text = '',\n  textActive = '',\n  children,\n  active,\n  onChange,\n}) => {\n  const [value, setValue] = useWritableProp(initialValue);\n\n  const typeStr = useMemo(() => {\n    return (value ? 'pressed' : '') + (type ? ' ' + type : '');\n  }, [value, type]);\n\n  const handleClick = useCallback(\n    (ev) => {\n      let next = !value;\n      if (onClick) onClick(ev);\n      if (!ev.defaultPrevented) {\n        setValue(next);\n        onChange && onChange({ value: next });\n      }\n    },\n    [value, onClick, onChange],\n  );\n\n  if (value && active) {\n    return (\n      <Button\n        title={title}\n        text={(value && textActive) || text}\n        css={css}\n        type={typeStr}\n        icon={(value && iconActive) || icon}\n        onClick={handleClick}\n        disabled={disabled}\n      >\n        {snippet(active, { value })}\n      </Button>\n    );\n  } else if (children) {\n    return (\n      <Button\n        title={title}\n        text={(value && textActive) || text}\n        css={css}\n        type={typeStr}\n        icon={(value && iconActive) || icon}\n        onClick={handleClick}\n        disabled={disabled}\n      >\n        {children}\n      </Button>\n    );\n  } else {\n    return (\n      <Button\n        title={title}\n        text={(value && textActive) || text}\n        css={css}\n        type={typeStr}\n        icon={(value && iconActive) || icon}\n        onClick={handleClick}\n        disabled={disabled}\n      />\n    );\n  }\n};\n\nexport default TwoState;\n","import { useState, useMemo, useContext, useCallback } from 'react';\nimport Field from './Field.jsx';\nimport Text from './Text.jsx';\nimport Dropdown from './Dropdown.jsx';\nimport Slider from './Slider.jsx';\nimport TwoState from './TwoState.jsx';\nimport { i18n } from '../context.js';\nimport { useWritableProp } from '@svar-ui/lib-react';\nimport { dateToString } from '@svar-ui/lib-dom';\nimport './TimePicker.css';\nimport { defaultLocale } from './helpers/locale.js';\n\nconst defValue = new Date(0, 0, 0, 0, 0);\n\nexport default function TimePicker({\n  value: propertyValue = defValue,\n  id,\n  title = '',\n  css = '',\n  disabled = false,\n  error = false,\n  format = '',\n  onChange,\n}) {\n  let [value, setValue] = useWritableProp(propertyValue);\n\n  const { calendar: calendarLocale, formats } = (\n    useContext(i18n) || defaultLocale()\n  ).getRaw();\n  const h12 = calendarLocale.clockFormat == 12;\n\n  const maxH = 23;\n  const maxM = 59;\n\n  const timeFormat = useMemo(() => {\n    const f = format || formats?.timeFormat;\n    return typeof f === 'function' ? f : dateToString(f, calendarLocale);\n  }, [format, formats, calendarLocale]);\n\n  const zeroBased = useMemo(() => {\n    return timeFormat(new Date(0, 0, 0, 1)).indexOf('01') != -1;\n  }, [timeFormat]);\n\n  const formatTime = (v, zeroBased) => {\n    return (v < 10 && zeroBased ? `0${v}` : `${v}`).slice(-2);\n  };\n\n  const formatM = (v) => {\n    return formatTime(v, true);\n  };\n\n  const getNumber = (v) => {\n    return `${v}`.replace(/[^\\d]/g, '') || 0;\n  };\n  const formatH = (v) => {\n    if (h12) {\n      v = v % 12;\n      if (v === 0) return '12';\n    }\n    return formatTime(v, zeroBased);\n  };\n\n  const update = useCallback((v, max) => {\n    v = getNumber(v);\n    return Math.min(v, max);\n  }, []);\n\n  const [popup, setPopup] = useState(null);\n\n  const safeValue = value || defValue;\n\n  const h = update(safeValue.getHours(), maxH);\n  const m = update(safeValue.getMinutes(), maxM);\n\n  const pm = h > 12;\n\n  const hText = formatH(h);\n  const mText = formatM(m);\n  const textValue = useMemo(\n    () => timeFormat(new Date(0, 0, 0, h, m)),\n    [h, m, timeFormat],\n  );\n\n  const click = useCallback(() => {\n    setPopup(true);\n  }, []);\n\n  const togglePM = useCallback(() => {\n    const next = new Date(safeValue);\n    next.setHours(next.getHours() + (pm ? -12 : 12));\n    setValue(next);\n    if (onChange) onChange({ value: next });\n  }, [safeValue, pm, onChange]);\n\n  const setHours = useCallback(\n    ({ value: v }) => {\n      if (safeValue.getHours() === v) return;\n\n      const next = new Date(safeValue);\n      next.setHours(v);\n      setValue(next);\n      if (onChange) onChange({ value: next });\n    },\n    [safeValue, onChange],\n  );\n\n  const setMinutes = useCallback(\n    ({ value: v }) => {\n      if (safeValue.getMinutes() === v) return;\n\n      const next = new Date(safeValue);\n      next.setMinutes(v);\n      setValue(next);\n      if (onChange) onChange({ value: next });\n    },\n    [safeValue, onChange],\n  );\n\n  const updateH = useCallback(\n    (v) => {\n      v = update(v, maxH);\n      if (h12) {\n        v = v * 1;\n        if (v === 12) v = 0;\n        if (pm) v += 12;\n      }\n      return v;\n    },\n    [update, h12, pm],\n  );\n\n  const oncancel = useCallback(() => {\n    setPopup(null);\n  }, []);\n\n  return (\n    <div\n      className={`wx-7f497i wx-timepicker ${error ? 'wx-7f497i wx-error' : ''} ${disabled ? 'wx-7f497i wx-disabled' : ''}`}\n      onClick={disabled ? undefined : click}\n      style={{ cursor: disabled ? 'default' : 'pointer' }}\n    >\n      <Text\n        id={id}\n        css={css}\n        title={title}\n        value={textValue}\n        readonly={true}\n        disabled={disabled}\n        error={error}\n        icon=\"wxi-clock\"\n        inputStyle={{\n          cursor: 'pointer',\n          width: '100%',\n          paddingRight:\n            'calc(var(--wx-input-icon-size) + var(--wx-input-icon-indent) * 2)',\n        }}\n      />\n\n      {popup && !disabled && (\n        <Dropdown onCancel={oncancel} width=\"unset\">\n          <div className=\"wx-7f497i wx-wrapper\">\n            <div className=\"wx-7f497i wx-timer\">\n              <input\n                className=\"wx-7f497i wx-digit\"\n                value={hText}\n                onChange={(ev) => {\n                  const val = updateH(ev.target.value);\n                  setHours({ value: val });\n                }}\n              />\n              <div className=\"wx-7f497i wx-separator\">:</div>\n              <input\n                className=\"wx-7f497i wx-digit\"\n                value={mText}\n                onChange={(ev) => {\n                  const val = update(ev.target.value, maxM);\n                  setMinutes({ value: val });\n                }}\n              />\n              {h12 && (\n                <TwoState\n                  value={pm}\n                  onClick={togglePM}\n                  active={() => <span>pm</span>}\n                >\n                  <span>am</span>\n                </TwoState>\n              )}\n            </div>\n            <Field width=\"unset\">\n              <Slider\n                label={calendarLocale.hours}\n                value={h}\n                onChange={setHours}\n                max={maxH}\n              />\n            </Field>\n            <Field width=\"unset\">\n              <Slider\n                label={calendarLocale.minutes}\n                value={m}\n                onChange={setMinutes}\n                max={maxM}\n              />\n            </Field>\n          </div>\n        </Dropdown>\n      )}\n    </div>\n  );\n}\n","import './ModalArea.css';\n\nexport default function ModalArea({ children }) {\n  return (\n    <div className=\"wx-KgpO9N wx-modal\">\n      <div className=\"wx-KgpO9N wx-window\">{children}</div>\n    </div>\n  );\n}\n","import { useRef, useEffect } from 'react';\nimport { clickOutside } from '@svar-ui/lib-dom';\nimport './SideArea.css';\n\nexport default function SideArea({ position = 'right', children, onCancel }) {\n  const divRef = useRef(null);\n\n  useEffect(() => {\n    return clickOutside(divRef.current, onCancel).destroy;\n  }, []);\n\n  return (\n    <div ref={divRef} className={`wx-2L733M wx-sidearea wx-pos-${position}`}>\n      {children}\n    </div>\n  );\n}\n","import { useContext, useRef, useEffect, useState } from 'react';\nimport { theme as themeContext } from '../context.js';\nimport { env } from '@svar-ui/lib-dom';\nimport { createPortal } from 'react-dom';\n\nfunction Portal({ theme: initialTheme = '', target, children }) {\n  const portalRef = useRef(null);\n  const componentRef = useRef(null);\n  const [targetRef, setTargetRef] = useState(null);\n\n  if (!portalRef.current) {\n    portalRef.current = document.createElement('div');\n  }\n\n  const contextTheme = useContext(themeContext);\n\n  useEffect(() => {\n    setTargetRef(\n      target ||\n        getParentRoot(componentRef.current) ||\n        env.getTopNode(componentRef.current),\n    );\n  }, [componentRef.current]);\n\n  return (\n    <>\n      <span ref={componentRef} style={{ display: 'none' }} />\n      {componentRef.current && targetRef\n        ? createPortal(\n            <div\n              className={`wx-3ZWsT0 wx-${initialTheme || contextTheme}-theme`}\n            >\n              {children}\n            </div>,\n            targetRef,\n          )\n        : null}\n    </>\n  );\n}\n\nexport default Portal;\n\nfunction getParentRoot(p) {\n  const root = env.getTopNode(p);\n  while (p && p !== root && !p.getAttribute('data-wx-portal-root')) {\n    p = p.parentNode;\n  }\n  return p;\n}\n","import './FonttRoboto.css';\nexport default function render() {\n  return <></>;\n}\n","import { theme } from '../context';\nimport RobotoFont from './FonttRoboto';\nimport './Material.css';\nexport default function render(props) {\n  const { fonts = true, children } = props;\n\n  return (\n    <theme.Provider value=\"material\">\n      <>\n        {children && <div className=\"wx-theme wx-material-theme\">{children}</div>}\n\n        {fonts && (\n          <>\n            <link\n              rel=\"preconnect\"\n              href=\"https://cdn.svar.dev\"\n              crossOrigin=\"true\"\n            />\n            <RobotoFont />\n            <link\n              rel=\"stylesheet\"\n              href=\"https://cdn.svar.dev/fonts/wxi/wx-icons.css\"\n            />\n          </>\n        )}\n      </>\n    </theme.Provider>\n  );\n}\n","import './FontOpenSans.css';\nexport default function render() {\n  return <></>;\n}\n","import { theme } from '../context';\nimport FontOpenSans from './FontOpenSans';\nimport './Willow.css';\nexport default function render(props) {\n  const { fonts = true, children } = props;\n\n  return (\n    <theme.Provider value=\"willow\">\n      <>\n        {children && children && (\n          <div className=\"wx-theme wx-willow-theme\">{children}</div>\n        )}\n\n        {fonts && (\n          <>\n            <link\n              rel=\"preconnect\"\n              href=\"https://cdn.svar.dev\"\n              crossOrigin=\"true\"\n            />\n            <FontOpenSans />\n            <link\n              rel=\"stylesheet\"\n              href=\"https://cdn.svar.dev/fonts/wxi/wx-icons.css\"\n            />\n          </>\n        )}\n      </>\n    </theme.Provider>\n  );\n}\n","import { theme } from '../context';\nimport FontOpenSans from './FontOpenSans';\nimport './WillowDark.css';\nexport default function render(props) {\n  const { fonts = true, children } = props;\n\n  return (\n    <theme.Provider value=\"willow-dark\">\n      <>\n        {children && children && (\n          <div className=\"wx-theme wx-willow-dark-theme\">{children}</div>\n        )}\n\n        {fonts && (\n          <>\n            <link\n              rel=\"preconnect\"\n              href=\"https://cdn.svar.dev\"\n              crossOrigin=\"true\"\n            />\n            <FontOpenSans />\n            <link\n              rel=\"stylesheet\"\n              href=\"https://cdn.svar.dev/fonts/wxi/wx-icons.css\"\n            />\n          </>\n        )}\n      </>\n    </theme.Provider>\n  );\n}\n","import { uid } from '@svar-ui/lib-dom';\n\nexport function popupContainer(node) {\n  const id = uid();\n  node.setAttribute('data-wx-portal-root', id);\n}\n","export { default as TextArea } from './components/TextArea.jsx';\nexport { default as Button } from './components/Button.jsx';\nexport { default as Checkbox } from './components/Checkbox.jsx';\nexport { default as CheckboxGroup } from './components/CheckboxGroup.jsx';\nexport { default as ColorSelect } from './components/ColorSelect.jsx';\nexport { default as ColorBoard } from './components/ColorBoard.jsx';\nexport { default as ColorPicker } from './components/ColorPicker.jsx';\nexport { default as Combo } from './components/Combo.jsx';\nexport { default as DatePicker } from './components/DatePicker.jsx';\nexport { default as DateRangePicker } from './components/DateRangePicker.jsx';\nexport { default as Fullscreen } from './components/Fullscreen.jsx';\nexport { default as Icon } from './components/Icon.jsx';\nexport { default as MultiCombo } from './components/MultiCombo.jsx';\nexport { default as Popup } from './components/Popup.jsx';\nexport { default as Dropdown } from './components/Dropdown.jsx';\nexport { default as Pager } from './components/Pager.jsx';\nexport { default as RadioButton } from './components/RadioButton.jsx';\nexport { default as RadioButtonGroup } from './components/RadioButtonGroup.jsx';\nexport { default as RichSelect } from './components/RichSelect.jsx';\nexport { default as Segmented } from './components/Segmented.jsx';\nexport { default as Select } from './components/Select.jsx';\nexport { default as Slider } from './components/Slider.jsx';\nexport { default as Switch } from './components/Switch.jsx';\nexport { default as Tabs } from './components/Tabs.jsx';\nexport { default as Text } from './components/Text.jsx';\nexport { default as Counter } from './components/Counter.jsx';\nexport { default as Globals } from './Globals.jsx';\nexport { default as Field } from './components/Field.jsx';\nexport { default as Calendar } from './components/Calendar.jsx';\nexport { default as Month } from './components/calendar/Month.jsx';\nexport { default as RangeCalendar } from './components/RangeCalendar.jsx';\nexport { default as TimePicker } from './components/TimePicker.jsx';\nexport { default as TwoState } from './components/TwoState.jsx';\nexport { default as Modal } from './components/Modal.jsx';\nexport { default as ModalArea } from './components/ModalArea.jsx';\nexport { default as SideArea } from './components/SideArea.jsx';\nexport { default as Portal } from './components/Portal.jsx';\n\nexport { default as Material } from './themes/Material.jsx';\nexport { default as Willow } from './themes/Willow.jsx';\nexport { default as WillowDark } from './themes/WillowDark.jsx';\n\nexport { default as Locale } from './Locale.jsx';\nexport { locale } from '@svar-ui/lib-dom';\n\nexport { popupContainer } from './components/helpers/popup';\nexport { default as SuggestDropdown } from './components/helpers/SuggestDropdown.jsx';\n\nexport { en } from '@svar-ui/core-locales';\nexport * as context from './context.js';\n\nimport { env, setEnv } from '@svar-ui/lib-dom';\nsetEnv(env);\n"],"names":["theme","createContext","helpers","i18n","fieldId","useInputId","id","register","useContext","inputId","useState","uid","TextArea","propValue","placeholder","title","disabled","error","readonly","onChange","value","setValue","useWritableProp","handleInput","useCallback","e","newValue","ontextchange","inputRef","useRef","useEffect","handler","node","jsx","Button","type","css","icon","text","children","onClick","buttonCss","useMemo","cssType","a","x","handleClick","ev","jsxs","Checkbox","label","inputValue","valueProp","target","CheckboxGroup","options","handleChange","obj","option","Dropdown","position","align","autoFit","onCancel","width","nodeRef","positionState","setPosition","alignState","setAlign","nodeCoords","bodyCoords","env","down","clickOutside","defaultColors","ColorSelect","colors","clear","currentValue","setCurrentValue","popup","setPopup","selectColor","color","unselectColor","handlePopup","index","sliderMove","config","slider","moveBlockSlider","moveLineSlider","move","up","y","dx","dy","coords","colorTransformator","number","length","str","rgb","arr","v","n","hex","rgbPairs","r","g","b","h","s","hi","f","p","q","t","min","max","hexValidation","parseColor","defaultLocale","locale","en","BLOCK","LINE","ColorBoard","propertyValue","button","_","blockRef","colorLineRef","blockTop","setBlockTop","blockLeft","setBlockLeft","hueColor","setHueColor","lineLeft","setLineLeft","blockColor","height","_sValue","_vValue","pxX","pxY","newHue","setSlidersPosition","newColor","handleSelect","keydown","isSliderBlock","isSliderLine","left","top","code","cssScope","ColorPicker","getListHandlers","navIndex","isVisible","list","navCallback","selectCallback","init","l","o","c","setNav","scrollTo","next","navigate","dir","locateID","SuggestDropdown","items","onSelect","onReady","setNavIndex","navIndexRef","selectItem","i","data","snippet","Combo","textOptions","textField","kids","filterActive","setFilterActive","textInput","setTextInput","inputElement","hasFocus","filteredOptions","ready","doSelect","effects","selected","selectByEvent","doUnselect","selectByText","chunk","res","handleFocus","handleBlur","List","Fragment","Text","propsValue","focus","select","inputStyle","cssString","hasLeftIcon","timer","oninput","clearValue","inputType","Header","date","part","onShift","calendar","formats","year","dateToString","start","end","getDuodecade","yearFormat","changeType","Month","current","markers","weekStart","weekdays","dv","d","dm","dd","ranges","isWeekEnd","getStart","getEnd","lastTime","selectDate","days","curMonth","day","mark","delegateRef","delegateHandler","delegateClick","Year","currentProp","setCurrent","months","monthNum","selectMonth","month","newCurrent","done","getPartValue","handleMonthClick","Duodecade","currentState","valueState","years","selectYears","selectYear","yearVal","containerRef","configs","nextMonth","prevMonth","nextYear","prevYear","nextDuodecade","prevDuodecade","defaultButtons","getButtonValue","btn","Panel","onCurrentChange","buttons","setType","buttonsList","oncancel","onShiftLocal","diff","onChangeLocal","CalendarView","Component","props","words","optional","fixCurrent","force","Calendar","onCurrentChangeLocal","Locale","DatePicker","format","editable","calendarLocale","dateFormat","doChange","skipEvent","formattedValue","onchangeHandler","input","handleScroll","RangeCalendar","startProp","endProp","setStart","setEnd","leftCurrent","setLeftCurrent","rightCurrent","setRightCurrent","addMonth","rPrev","onLeft","newLeft","onRight","newRight","startVal","selectChange","final","doChangeStart","doChangeEnd","DateRangePicker","doInputChange","av","val","Fullscreen","hotkey","toggleButton","inFullscreen","setInFullscreen","toggleFullscreen","prev","useHotkeys","setFullscreenState","Icon","defaultValue","MultiCombo","checkboxes","setText","setFocus","filterOptions","onready","onselect","remove","onClickHandler","tag","Popup","at","parent","setX","setY","setWidth","visible","setVisible","self","updatePosition","result","calculatePosition","Pager","total","initialPageSize","initialValue","pageSize","setPageSize","pageCount","from","to","setInnerValue","setActivePage","onPageSizeInput","RadioButton","externalValue","name","fallbackId","useId","internalValue","setInternalValue","isControlled","handlerChange","RadioButtonGroup","RichSelect","unselect","Segmented","Select","event","Slider","step","previous","progress","bgStyle","onslider","Switch","Tabs","optionId","Counter","dec","inc","blur","tValue","Notice","notice","onRemove","Notices","Modal","header","footer","onConfirm","modal","onclick","pack","Globals","apiRef","setModal","notices","setNotices","useImperativeHandle","msg","modalObj","rej","GlobalsComponentWithRef","forwardRef","api","Field","required","firstInputId","registerInput","TwoState","iconActive","textActive","active","typeStr","defValue","TimePicker","h12","maxH","maxM","timeFormat","zeroBased","formatTime","formatM","getNumber","formatH","update","safeValue","m","pm","hText","mText","textValue","click","togglePM","setHours","setMinutes","updateH","ModalArea","SideArea","divRef","Portal","initialTheme","portalRef","componentRef","targetRef","setTargetRef","contextTheme","themeContext","getParentRoot","createPortal","root","render","fonts","RobotoFont","FontOpenSans","popupContainer","setEnv"],"mappings":"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"}},
    {"offset": {"line": 4595, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/gantt-locales/locales/en.js"],"sourcesContent":["export default {\n\tgantt: {\n\t\t// Header / sidebar\n\t\t\"Task name\": \"Task name\",\n\t\t\"Start date\": \"Start date\",\n\t\t\"Add task\": \"Add task\",\n\t\tDuration: \"Duration\",\n\t\tTask: \"Task\",\n\t\tMilestone: \"Milestone\",\n\t\t\"Summary task\": \"Summary task\",\n\n\t\t// Sidebar\n\t\tSave: \"Save\",\n\t\tDelete: \"Delete\",\n\t\tName: \"Name\",\n\t\tDescription: \"Description\",\n\t\t\"Select type\": \"Select type\",\n\t\tType: \"Type\",\n\t\t\"End date\": \"End date\",\n\t\tProgress: \"Progress\",\n\t\tPredecessors: \"Predecessors\",\n\t\tSuccessors: \"Successors\",\n\t\t\"Add task name\": \"Add task name\",\n\t\t\"Add description\": \"Add description\",\n\t\t\"Select link type\": \"Select link type\",\n\t\t\"End-to-start\": \"End-to-start\",\n\t\t\"Start-to-start\": \"Start-to-start\",\n\t\t\"End-to-end\": \"End-to-end\",\n\t\t\"Start-to-end\": \"Start-to-end\",\n\n\t\t// Context menu / toolbar\n\t\tAdd: \"Add\",\n\t\t\"Child task\": \"Child task\",\n\t\t\"Task above\": \"Task above\",\n\t\t\"Task below\": \"Task below\",\n\t\t\"Convert to\": \"Convert to\",\n\t\tEdit: \"Edit\",\n\t\tCut: \"Cut\",\n\t\tCopy: \"Copy\",\n\t\tPaste: \"Paste\",\n\t\tMove: \"Move\",\n\t\tUp: \"Up\",\n\t\tDown: \"Down\",\n\t\tIndent: \"Indent\",\n\t\tOutdent: \"Outdent\",\n\t\t\"Split task\": \"Split task\",\n\t\tSegment: \"Segment\",\n\n\t\t// Toolbar\n\t\t\"New task\": \"New task\",\n\t\t\"Move up\": \"Move up\",\n\t\t\"Move down\": \"Move down\",\n\t\tUndo: \"Undo\",\n\t\tRedo: \"Redo\",\n\n\t\t// Formats\n\t\tWeek: \"Week\",\n\t\tQ: \"Quarter\",\n\t},\n};\n"],"names":[],"mappings":";;;;uCAAe;IACd,OAAO;QACN,mBAAmB;QACnB,aAAa;QACb,cAAc;QACd,YAAY;QACZ,UAAU;QACV,MAAM;QACN,WAAW;QACX,gBAAgB;QAEhB,UAAU;QACV,MAAM;QACN,QAAQ;QACR,MAAM;QACN,aAAa;QACb,eAAe;QACf,MAAM;QACN,YAAY;QACZ,UAAU;QACV,cAAc;QACd,YAAY;QACZ,iBAAiB;QACjB,mBAAmB;QACnB,oBAAoB;QACpB,gBAAgB;QAChB,kBAAkB;QAClB,cAAc;QACd,gBAAgB;QAEhB,yBAAyB;QACzB,KAAK;QACL,cAAc;QACd,cAAc;QACd,cAAc;QACd,cAAc;QACd,MAAM;QACN,KAAK;QACL,MAAM;QACN,OAAO;QACP,MAAM;QACN,IAAI;QACJ,MAAM;QACN,QAAQ;QACR,SAAS;QACT,cAAc;QACd,SAAS;QAET,UAAU;QACV,YAAY;QACZ,WAAW;QACX,aAAa;QACb,MAAM;QACN,MAAM;QAEN,UAAU;QACV,MAAM;QACN,GAAG;IACJ;AACD","ignoreList":[0]}},
    {"offset": {"line": 4659, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/gantt-locales/locales/cn.js"],"sourcesContent":["export default {\n\tgantt: {\n\t\t// Header / sidebar\n\t\t\"Task name\": \"\",\n\t\t\"Start date\": \"\",\n\t\t\"Add task\": \"\",\n\t\tDuration: \"\",\n\t\tTask: \"\",\n\t\tMilestone: \"\",\n\t\t\"Summary task\": \"\",\n\n\t\t// Sidebar\n\t\tSave: \"\",\n\t\tDelete: \"\",\n\t\tName: \"\",\n\t\tDescription: \"\",\n\t\t\"Select type\": \"\",\n\t\tType: \"\",\n\t\t\"End date\": \"\",\n\t\tProgress: \"\",\n\t\tPredecessors: \"\",\n\t\tSuccessors: \"\",\n\t\t\"Add task name\": \"\",\n\t\t\"Add description\": \"\",\n\t\t\"Select link type\": \"\",\n\t\t\"End-to-start\": \"\",\n\t\t\"Start-to-start\": \"\",\n\t\t\"End-to-end\": \"\",\n\t\t\"Start-to-end\": \"\",\n\n\t\t// Context menu / toolbar\n\t\tAdd: \"\",\n\t\t\"Child task\": \"\",\n\t\t\"Task above\": \"\",\n\t\t\"Task below\": \"\",\n\t\t\"Convert to\": \"\",\n\t\tEdit: \"\",\n\t\tCut: \"\",\n\t\tCopy: \"\",\n\t\tPaste: \"\",\n\t\tMove: \"\",\n\t\tUp: \"\",\n\t\tDown: \"\",\n\t\tIndent: \"\",\n\t\tOutdent: \"\",\n\t\t\"Split task\": \"\",\n\t\tSegment: \"\",\n\n\t\t// Toolbar\n\t\t\"New task\": \"\",\n\t\t\"Move up\": \"\",\n\t\t\"Move down\": \"\",\n\t\tUndo: \"\",\n\t\tRedo: \"\",\n\n\t\t// Formats\n\t\tWeek: \"\",\n\t\tQ: \"\",\n\t},\n};\n"],"names":[],"mappings":";;;;uCAAe;IACd,OAAO;QACN,mBAAmB;QACnB,aAAa;QACb,cAAc;QACd,YAAY;QACZ,UAAU;QACV,MAAM;QACN,WAAW;QACX,gBAAgB;QAEhB,UAAU;QACV,MAAM;QACN,QAAQ;QACR,MAAM;QACN,aAAa;QACb,eAAe;QACf,MAAM;QACN,YAAY;QACZ,UAAU;QACV,cAAc;QACd,YAAY;QACZ,iBAAiB;QACjB,mBAAmB;QACnB,oBAAoB;QACpB,gBAAgB;QAChB,kBAAkB;QAClB,cAAc;QACd,gBAAgB;QAEhB,yBAAyB;QACzB,KAAK;QACL,cAAc;QACd,cAAc;QACd,cAAc;QACd,cAAc;QACd,MAAM;QACN,KAAK;QACL,MAAM;QACN,OAAO;QACP,MAAM;QACN,IAAI;QACJ,MAAM;QACN,QAAQ;QACR,SAAS;QACT,cAAc;QACd,SAAS;QAET,UAAU;QACV,YAAY;QACZ,WAAW;QACX,aAAa;QACb,MAAM;QACN,MAAM;QAEN,UAAU;QACV,MAAM;QACN,GAAG;IACJ;AACD","ignoreList":[0]}},
    {"offset": {"line": 4723, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/gantt-locales/index.js"],"sourcesContent":["export { default as en } from \"./locales/en.js\";\nexport { default as cn } from \"./locales/cn.js\";\n"],"names":[],"mappings":";AAAA;AACA","ignoreList":[0]}},
    {"offset": {"line": 4741, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@svar-ui/lib-state/dist/index.js","sources":["file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/lib-state/src/helpers.ts","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/lib-state/src/DataArray.ts","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/lib-state/src/DataTree.ts","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/lib-state/src/Store.ts","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/lib-state/src/DataRouter.ts","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/lib-state/src/EventBus.ts","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/lib-state/src/EventResolver.ts","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/lib-state/src/EventBusRouter.ts"],"sourcesContent":["let iid = new Date().valueOf();\nexport const uid = ():number => iid++;\n\nexport function tempID(): string {\n\treturn \"temp://\" + iid++;\n}\n\nexport function isTempID(v: string | number): boolean {\n\treturn (\n\t\ttypeof v === \"string\" && v.length === 20 && parseInt(v.substr(7)) > 1e12\n\t);\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction isSameObject(left: any, right: any): boolean {\n\tif (Object.keys(left).length !== Object.keys(right).length) return false;\n\t\n\tfor (const key in right) {\n\t\tconst v = left[key];\n\t\tconst nv = right[key];\n\n\t\tif (!isSame(v, nv)) return false;\n\t}\n\treturn true;\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\nexport function isSame(v: any, nv: any): boolean {\n\tconst primitiveValue =\n\t\ttypeof v === \"number\" ||\n\t\ttypeof v === \"string\" ||\n\t\ttypeof v === \"boolean\" ||\n\t\tv === null;\n\tif (primitiveValue) return v === nv;\n\n\t// different types of data\n\tif (typeof v !== typeof nv) return false;\n\t// data vs null\n\tif ((v === null || nv === null) && v !== nv) return false;\n\t// dates\n\tif (v instanceof Date && nv instanceof Date && v.getTime() !== nv.getTime())\n\t\treturn false;\n\t// arrays and objects\n\tif (typeof v === \"object\") {\n\t\tif (Array.isArray(v) && Array.isArray(nv)) {\n\t\t\tif (v.length !== nv.length) return false;\n\t\t\tfor (let i = v.length - 1; i >= 0; i--) {\n\t\t\t\tif (!isSame(v[i], nv[i])) return false;\n\t\t\t}\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn isSameObject(v, nv);\n\t\t}\n\t}\n\n\treturn v === nv;\n}\n\nexport function deepCopy<T>(obj: T): T {\n\tif (typeof obj !== \"object\") return obj;\n\tif (obj === null) return obj;\n\tif (obj instanceof Date) return new Date(obj) as T;\n\tif (obj instanceof Array) return obj.map(deepCopy) as T;\n\n\tconst out: T = {} as T;\n\tfor (const key in obj) {\n\t\tout[key] = deepCopy(obj[key]);\n\t}\n\treturn out;\n}\n","import { uid } from \"./helpers\";\nimport type { IHasID, TID } from \"./types\";\n\nexport default class _DataArray<T extends IHasID> {\n\tprivate _pool: Map<TID, T>;\n\tprivate _data: T[];\n\tconstructor(raw: T[]) {\n\t\tthis._data = raw;\n\t\tthis._pool = new Map();\n\t\tfor (let i = 0; i < raw.length; i++) {\n\t\t\tconst obj = raw[i];\n\t\t\tthis._pool.set(obj.id, obj);\n\t\t}\n\t}\n\tadd(raw: T):void {\n\t\traw = { id: uid(), ...raw };\n\t\tthis._data.push(raw);\n\t\tthis._pool.set(raw.id, raw);\n\t}\n\tupdate(id: TID, raw: T):void {\n\t\tconst index = this._data.findIndex(link => link.id == id);\n\t\tconst old = this._data[index];\n\t\tconst updated = { ...old, ...raw };\n\t\tthis._data[index] = updated;\n\t\tthis._pool.set(updated.id, updated);\n\t}\n\tremove(id: TID):void {\n\t\tthis._data = this._data.filter(a => a.id != id);\n\t\tthis._pool.delete(id);\n\t}\n\tfilter(cb: (value: T) => boolean): void {\n\t\tthis._data = this._data.filter(x => {\n\t\t\tconst check = cb(x);\n\t\t\tif (!check) this._pool.delete(x.id);\n\t\t\treturn check;\n\t\t});\n\t}\n\tbyId(id: TID): T {\n\t\treturn this._pool.get(id);\n\t}\n\tmap<D>(cb: (value: T, index: number, array: T[]) => D): D[] {\n\t\treturn this._data.map(cb);\n\t}\n\tforEach(cb: (value: T, index: number, array: T[]) => void): void {\n\t\tthis._data.forEach(cb);\n\t}\n}\n","import type { IHasIDAndParent, TID } from \"./types\";\n\nexport default class DataTree<T extends IHasIDAndParent> {\n\tpublic _pool: Map<TID, T>;\n\n\tconstructor(raw?: T[]) {\n\t\tconst top: IHasIDAndParent = {\n\t\t\tid: 0,\n\t\t\t$level: 0,\n\t\t\tdata: [],\n\t\t\tparent: null,\n\t\t};\n\t\tconst items: Map<TID, T> = new Map();\n\t\titems.set(0, top as T);\n\t\tthis._pool = items;\n\n\t\tif (raw && raw.length) this.parse(raw, 0);\n\t}\n\tparse(raw: T[], parent: TID): void {\n\t\tconst items = this._pool;\n\n\t\tfor (let i = 0; i < raw.length; i++) {\n\t\t\tconst obj = raw[i];\n\t\t\tobj.parent = obj.parent || parent;\n\t\t\tobj.data = null;\n\t\t\titems.set(obj.id, obj);\n\t\t}\n\n\t\tfor (let i = 0; i < raw.length; i++) {\n\t\t\tconst obj = raw[i];\n\t\t\tconst temp = items.get(obj.parent);\n\t\t\tif (temp) {\n\t\t\t\tif (!temp.data) temp.data = [];\n\t\t\t\t// we are not recreating the array, as setLevel will do it anyway\n\t\t\t\ttemp.data.push(obj);\n\t\t\t}\n\t\t}\n\n\t\tconst top = items.get(parent);\n\t\tthis.setLevel(top, top.$level + 1, false);\n\t}\n\tadd(raw: T, index: number): void {\n\t\tconst parent = this._pool.get(raw.parent || 0);\n\t\traw.$level = parent.$level + 1;\n\t\tthis._pool.set(raw.id, raw);\n\n\t\tif (parent.data) {\n\t\t\tif (index === -1) parent.data = [...parent.data, raw];\n\t\t\telse insertElement(parent, index, raw);\n\t\t} else parent.data = [raw];\n\t}\n\taddAfter(raw: T, after: TID): void {\n\t\tif (!after) {\n\t\t\treturn this.add(raw, -1);\n\t\t}\n\n\t\tconst node = this.byId(after);\n\t\tconst parent = this.byId(node.parent);\n\t\tconst index = indexById(parent, node.id) + 1;\n\n\t\traw.parent = parent.id;\n\t\traw.$level = parent.$level + 1;\n\t\tthis.add(raw, index);\n\t}\n\tremove(id: TID): void {\n\t\tconst obj = this._pool.get(id);\n\t\tthis._remove(obj);\n\t\tconst parent = this._pool.get(obj.parent);\n\t\tparent.data = parent.data.filter(a => a.id != id);\n\t\tthis._clearBranch(parent);\n\t}\n\t_remove(obj: T): void {\n\t\tif (obj.data) {\n\t\t\tobj.data.forEach(i => this._remove(i as T));\n\t\t}\n\t\tthis._pool.delete(obj.id);\n\t}\n\tupdate<Data>(id: TID, values: Data): void {\n\t\tlet obj = this._pool.get(id);\n\t\tconst branch = this._pool.get(obj.parent);\n\t\tconst index = indexById(branch, obj.id);\n\n\t\tobj = { ...obj, ...values };\n\n\t\tif (branch && index >= 0) {\n\t\t\tbranch.data[index] = obj;\n\t\t\tbranch.data = [...branch.data];\n\t\t}\n\t\tthis._pool.set(obj.id, obj);\n\t}\n\tmove(id: TID, mode: string, target: TID): void {\n\t\tconst now = this._pool.get(id);\n\t\tconst dropChild = mode === \"child\";\n\t\tconst tobj = this._pool.get(target);\n\t\tconst tLevel = tobj.$level + (dropChild ? 1 : 0);\n\t\tif (!now || !tobj) return;\n\n\t\tconst parent = this._pool.get(now.parent);\n\t\tconst newParent = dropChild ? tobj : this._pool.get(tobj.parent);\n\t\tif (!newParent.data) newParent.data = [];\n\n\t\tconst index = indexById(parent, now.id);\n\t\tdeleteElement(parent, index);\n\t\tconst newIndex = dropChild\n\t\t\t? newParent.data.length\n\t\t\t: indexById(newParent, tobj.id) + (mode === \"after\" ? 1 : 0);\n\t\tinsertElement(newParent, newIndex, now);\n\n\t\tif (parent.id === newParent.id && index === newIndex) return null;\n\n\t\tnow.parent = newParent.id;\n\n\t\tif (now.$level !== tLevel) {\n\t\t\tnow.$level = tLevel;\n\t\t\tthis.setLevel(now, tLevel + 1, true);\n\t\t}\n\n\t\tthis.update(now.id, now);\n\t\tthis._clearBranch(parent);\n\t}\n\n\tprivate _clearBranch(obj: T): void {\n\t\tif (obj.data && !obj.data.length) {\n\t\t\tif (obj.open) delete obj.open;\n\t\t\tthis.update(obj.id, { data: null });\n\t\t}\n\t}\n\n\ttoArray(): T[] {\n\t\tconst out: T[] = [];\n\t\tconst kids = this._pool.get(0).data;\n\t\tif (kids) toArray(kids, out);\n\t\treturn out;\n\t}\n\tbyId(id: TID): T {\n\t\treturn this._pool.get(id);\n\t}\n\n\tgetBranch(id: TID): T[] {\n\t\treturn this._pool.get(id).data as T[];\n\t}\n\n\tforEach(cb: (value: T) => void): void {\n\t\tthis._pool.forEach((value, key) => {\n\t\t\tif (key !== 0) cb(value);\n\t\t});\n\t}\n\n\teachChild(cb: (value: T, index: number) => void, parent: TID): void {\n\t\tconst p = this.byId(parent);\n\t\tif (!p || !p.data) return;\n\t\tp.data.forEach((child, index) => {\n\t\t\tcb(this.byId(child.id), index);\n\t\t\tthis.eachChild(cb, child.id);\n\t\t});\n\t}\n\n\tsetLevel(root: IHasIDAndParent, level: number, copy: boolean): void {\n\t\tif (!root.data) return;\n\n\t\troot.data = root.data.map(child => {\n\t\t\tif (copy) {\n\t\t\t\tchild = { ...child };\n\t\t\t\tthis._pool.set(child.id, child as T);\n\t\t\t}\n\t\t\tchild.$level = level;\n\t\t\tif (child.data) this.setLevel(child, level + 1, copy);\n\t\t\treturn child;\n\t\t});\n\t}\n}\n\nfunction toArray<T extends IHasIDAndParent>(line: T[], out: T[]): void {\n\tline.forEach(a => {\n\t\tout.push(a);\n\t\tif (a.open === true) {\n\t\t\ttoArray(a.data, out);\n\t\t}\n\t});\n}\n\nfunction deleteElement(obj: IHasIDAndParent, index: number) {\n\tconst newData = [...obj.data];\n\tnewData.splice(index, 1);\n\tobj.data = newData;\n}\n\nfunction insertElement(\n\tobj: IHasIDAndParent,\n\tindex: number,\n\titem: IHasIDAndParent\n) {\n\tconst newData = [...obj.data];\n\tnewData.splice(index, 0, item);\n\tobj.data = newData;\n}\n\nfunction indexById(parentNode: IHasIDAndParent, id: TID) {\n\treturn parentNode?.data.findIndex(\n\t\t(child: IHasIDAndParent) => child.id === id\n\t);\n}\n","import type {\n\tDataHash,\n\tIPublicWritable,\n\tTAsyncSignals,\n\tTStateMode,\n\tTDataConfig,\n\tTWritableCreator,\n} from \"./types\";\n\n// export const STORE_SET_DEFAULT:TStateMode = 1;\nexport const STORE_SET_SILENT: TStateMode = 2;\n\ntype TState<Type> = {\n\t[Property in keyof Type]: IPublicWritable<Type[Property]>;\n};\n\ntype StoreConfig = {\n\twritable: TWritableCreator;\n\tasync: boolean;\n}\n\nexport default class Store<T extends DataHash> {\n\tprivate _state: TState<T>;\n\tprivate _values: T;\n\tprivate _writable: TWritableCreator;\n\tprivate _async: boolean;\n\n\tconstructor(config: StoreConfig) {\n\t\tif (config) {\n\t\t\tthis._writable = config.writable;\n\t\t\tthis._async = config.async;\n\t\t}\n\n\t\tthis._values = {} as T;\n\t\tthis._state = {} as TState<T>;\n\t}\n\tsetState(\n\t\tdata: Partial<T>,\n\t\tmode: TStateMode | TDataConfig = 0\n\t): TAsyncSignals {\n\t\tconst signals = {} as TAsyncSignals;\n\t\tthis._wrapProperties(\n\t\t\tdata,\n\t\t\tthis._state,\n\t\t\tthis._values,\n\t\t\t\"\",\n\t\t\tsignals,\n\t\t\tmode as TStateMode\n\t\t);\n\t\treturn signals;\n\t}\n\tgetState(): T {\n\t\treturn this._values;\n\t}\n\tgetReactive(): TState<T> {\n\t\treturn this._state;\n\t}\n\tprivate _wrapProperties(\n\t\tdata: any, // eslint-disable-line @typescript-eslint/no-explicit-any\n\t\tstate: any, // eslint-disable-line @typescript-eslint/no-explicit-any\n\t\tvalues: any, // eslint-disable-line @typescript-eslint/no-explicit-any\n\t\tparent: string,\n\t\tsignals: TAsyncSignals,\n\t\tmode: TStateMode\n\t) {\n\t\tfor (const key in data) {\n\t\t\tconst os = state[key];\n\t\t\tconst ov = values[key];\n\t\t\tconst nv = data[key];\n\n\t\t\tif (os) {\n\t\t\t\t// same value\n\t\t\t\tif (ov === nv && typeof nv !== \"object\") continue;\n\t\t\t\t// so maybe we have two dates\n\t\t\t\tif (nv instanceof Date) {\n\t\t\t\t\tif (ov instanceof Date && ov.getTime() === nv.getTime()) continue;\n\t\t\t\t} else {\n\t\t\t\t\t// we have two pointers to the same array of or same object\n\t\t\t\t\t// assume that they are different\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst fullKey = parent + (parent ? \".\" : \"\") + key;\n\n\t\t\tif (os) {\n\t\t\t\tif (os.__parse(nv, fullKey, signals, mode)) values[key] = nv;\n\n\t\t\t\t// eslint-disable-next-line no-bitwise\n\t\t\t\tif (mode & STORE_SET_SILENT) signals[fullKey] = os.__trigger;\n\t\t\t\telse os.__trigger();\n\t\t\t} else {\n\t\t\t\tif (nv && nv.__reactive) {\n\t\t\t\t\tstate[key] = this._wrapNested(nv, nv, fullKey, signals);\n\t\t\t\t} else {\n\t\t\t\t\tstate[key] = this._wrapWritable(nv);\n\t\t\t\t}\n\t\t\t\tvalues[key] = nv;\n\t\t\t}\n\t\t\tsignals[fullKey] = signals[fullKey] || null;\n\t\t}\n\t}\n\tprivate _wrapNested(\n\t\tdata: any, // eslint-disable-line @typescript-eslint/no-explicit-any\n\t\tvalues: any, // eslint-disable-line @typescript-eslint/no-explicit-any\n\t\tfullKey: string,\n\t\tsignals: TAsyncSignals\n\t) {\n\t\tconst state = this._wrapWritable(data);\n\t\tthis._wrapProperties(data, state, values, fullKey, signals, 0);\n\n\t\tstate.__parse = (\n\t\t\tv: any, // eslint-disable-line @typescript-eslint/no-explicit-any\n\t\t\tfullKey: string,\n\t\t\tsignals: TAsyncSignals,\n\t\t\tmode: TStateMode\n\t\t) => {\n\t\t\tthis._wrapProperties(v, state, values, fullKey, signals, mode);\n\t\t\treturn false;\n\t\t};\n\t\treturn state;\n\t}\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\tprivate _wrapWritable(val: any): IPublicWritable<any> {\n\t\tconst ss = [] as ((v: typeof val) => void)[];\n\n\t\tconst __triggerSync = function () {\n\t\t\tfor (let i = 0; i < ss.length; i++) {\n\t\t\t\tss[i](val);\n\t\t\t}\n\t\t};\n\t\tconst __trigger = () => {\n\t\t\tif (ss.length) {\n\t\t\t\tif (this._async) setTimeout(__triggerSync, 1);\n\t\t\t\telse __triggerSync();\n\t\t\t}\n\t\t};\n\t\tconst subscribe = (fn: (v: typeof val) => void) => {\n\t\t\tss.push(fn);\n\n\t\t\tif (this._async) setTimeout(fn, 1, val);\n\t\t\telse fn(val);\n\n\t\t\treturn () => {\n\t\t\t\tconst i = ss.indexOf(fn);\n\t\t\t\tif (i >= 0) ss.splice(i, 1);\n\t\t\t};\n\t\t};\n\t\tconst __parse = function (v: typeof val) {\n\t\t\tval = v;\n\t\t\treturn true;\n\t\t};\n\n\t\treturn {\n\t\t\tsubscribe,\n\t\t\t__trigger,\n\t\t\t__parse,\n\t\t};\n\t}\n}\n\nexport function markReactive<T>(t: T, nested?: boolean): T {\n\tObject.defineProperty(t, \"__reactive\", {\n\t\tvalue: true,\n\t\tenumerable: false,\n\t\twritable: false,\n\t});\n\tif (nested === true) {\n\t\tfor (const key in t) {\n\t\t\tconst sub = t[key];\n\t\t\tif (typeof sub === \"object\" && sub !== null) {\n\t\t\t\tmarkReactive(sub, true);\n\t\t\t}\n\t\t}\n\t}\n\treturn t;\n}\n","import type {\n\tTDataConfig,\n\tTDataBlock,\n\tTParserHash,\n\tIStringHash,\n\tTAsyncSignals,\n\tTStateMode,\n} from \"./types\";\nimport type EventBus from \"./EventBus\";\nimport { STORE_SET_SILENT } from \"./Store\";\n\ntype TSetter<T> = (data: Partial<T>, mode?: TStateMode) => TAsyncSignals;\ntype TStoreLike<T> = {\n\tsetState: TSetter<T>;\n};\n\ntype AsyncUpdate = {\n\ttimer: number;\n\tsignals: TAsyncSignals;\n};\n\nexport default class DataRouter<T, D, E> {\n\tprivate _setter: TSetter<T>;\n\tprivate _routes: TDataConfig;\n\tprivate _triggers: Map<string, TDataBlock[]>;\n\tprivate _sources: Map<string, IStringHash<boolean>>;\n\tprivate _prev: Partial<D>;\n\tprivate _parsers: TParserHash;\n\tprivate _bus: EventBus<E, keyof E> | undefined;\n\tprivate _async: AsyncUpdate | null;\n\n\tconstructor(\n\t\ts: TSetter<T> | TStoreLike<T>,\n\t\tr: TDataConfig,\n\t\tp: TParserHash,\n\t\tb?: EventBus<E, keyof E>\n\t) {\n\t\tif (typeof s === \"function\") this._setter = s;\n\t\telse this._setter = s.setState.bind(s);\n\n\t\tthis._routes = r;\n\t\tthis._parsers = p;\n\t\tthis._prev = {};\n\n\t\tthis._triggers = new Map();\n\t\tthis._sources = new Map();\n\t\tthis._routes.forEach(a => {\n\t\t\ta.in.forEach(k => {\n\t\t\t\tconst arr = this._triggers.get(k) || [];\n\t\t\t\tarr.push(a);\n\t\t\t\tthis._triggers.set(k, arr);\n\t\t\t});\n\t\t\ta.out.forEach(k => {\n\t\t\t\tconst h: IStringHash<boolean> = this._sources.get(k) || {};\n\t\t\t\ta.in.forEach(i => (h[i] = true));\n\t\t\t\tthis._sources.set(k, h);\n\t\t\t});\n\t\t});\n\n\t\tthis._routes.forEach(a => {\n\t\t\ta.length = Math.max(\n\t\t\t\t...a.in.map(key => _calckSize(key, this._sources, 1))\n\t\t\t);\n\t\t});\n\n\t\tthis._bus = b;\n\t}\n\tinit(cfg: Partial<D>):void {\n\t\tconst next: Partial<T> = {};\n\t\tfor (const key in cfg) {\n\t\t\tif (this._prev[key] !== cfg[key]) {\n\t\t\t\tconst parser = this._parsers[key];\n\t\t\t\tnext[key as unknown as keyof T] = parser ? parser(cfg[key]) : cfg[key];\n\t\t\t}\n\t\t}\n\n\t\tthis._prev = this._prev ? { ...this._prev, ...cfg } : { ...cfg };\n\t\tthis.setState(next);\n\n\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\t\tif (this._bus) this._bus.exec(\"init-state\" as any, next as any);\n\t}\n\tsetStateAsync(updates: Partial<T>): TAsyncSignals {\n\t\tconst signals = this._setter(updates, STORE_SET_SILENT);\n\t\tif (this._async) {\n\t\t\tObject.assign(this._async.signals, signals);\n\t\t} else {\n\t\t\tthis._async = {\n\t\t\t\tsignals,\n\t\t\t\ttimer: setTimeout(this._applyState.bind(this), 1) as unknown as number,\n\t\t\t};\n\t\t}\n\n\t\treturn signals;\n\t}\n\t_applyState():void {\n\t\tconst obj = this._async;\n\t\tif (!obj) return;\n\t\tthis._async = null;\n\n\t\t// trigger dynamic values calculation\n\t\tthis._triggerUpdates(obj.signals, []);\n\t\t// trigger external subscription\n\t\tfor (const key in obj.signals) {\n\t\t\tconst h = obj.signals[key];\n\t\t\tif (h) h();\n\t\t}\n\t}\n\tsetState(updates: Partial<T>, ctx: TDataConfig = []): TAsyncSignals {\n\t\tconst signals = this._setter(updates);\n\t\tthis._triggerUpdates(signals, ctx);\n\t\treturn signals;\n\t}\n\tprivate _triggerUpdates(signals: TAsyncSignals, ctx: TDataConfig) {\n\t\tconst keys = Object.keys(signals);\n\t\tconst needExec = !ctx.length;\n\t\tctx = ctx || [];\n\n\t\tfor (let i = 0; i < keys.length; i++) {\n\t\t\tconst key = keys[i];\n\t\t\tconst trgs = this._triggers.get(key);\n\t\t\tif (trgs) {\n\t\t\t\ttrgs.forEach(a => {\n\t\t\t\t\tif (ctx.indexOf(a) == -1) {\n\t\t\t\t\t\tctx.push(a);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tif (needExec) {\n\t\t\tthis._execNext(ctx);\n\t\t}\n\t}\n\tprivate _execNext(ctx: TDataConfig) {\n\t\twhile (ctx.length) {\n\t\t\tctx.sort((a, b) => (a.length! < b.length! ? 1 : -1));\n\n\t\t\tconst next = ctx[ctx.length - 1];\n\t\t\tctx.splice(ctx.length - 1);\n\t\t\tnext.exec(ctx);\n\t\t}\n\t}\n}\n\nfunction _calckSize(\n\tkey: string,\n\tsources: Map<string, IStringHash<boolean>>,\n\tprev: number\n): number {\n\tconst next = sources.get(key);\n\tif (!next) return prev;\n\n\tconst sizes = Object.keys(next).map(a => _calckSize(a, sources, prev + 1));\n\treturn Math.max(...sizes);\n}\n","import type { IEventConfig, IEventBus } from \"./types\";\n\nexport default class EventBus<T, A extends keyof T> {\n\tprivate _handlers: {\n\t\t[key in A]: { (v: T[A]): void | boolean | Promise<boolean> }[];\n\t};\n\tprotected _nextHandler: IEventBus<T>;\n\tprotected _tag: WeakMap<\n\t\t{ (v: T[A]): void | boolean | Promise<boolean> },\n\t\tnumber | string | symbol\n\t>;\n\n\tconstructor() {\n\t\tthis._nextHandler = null;\n\t\tthis._handlers = {} as {\n\t\t\t[key in A]: { (v: T[A]): void | boolean | Promise<boolean> }[];\n\t\t};\n\t\tthis._tag = new WeakMap();\n\n\t\tthis.exec = this.exec.bind(this);\n\t}\n\ton(\n\t\tname: A,\n\t\thandler: (v: T[A]) => void | boolean | Promise<boolean>,\n\t\tconfig?: IEventConfig\n\t):void {\n\t\tlet prev = this._handlers[name];\n\t\tif (!prev) {\n\t\t\tprev = this._handlers[name] = [handler];\n\t\t} else {\n\t\t\tif (config && config.intercept) prev.unshift(handler);\n\t\t\telse prev.push(handler);\n\t\t}\n\n\t\tif (config && config.tag) this._tag.set(handler, config.tag);\n\t}\n\tintercept(\n\t\tname: A,\n\t\thandler: (v: T[A]) => void | boolean | Promise<boolean>,\n\t\tconfig?: IEventConfig\n\t):void {\n\t\tthis.on(name, handler, { ...config, intercept: true });\n\t}\n\tdetach(tag: number | string | symbol):void {\n\t\tfor (const key in this._handlers) {\n\t\t\tconst stack = this._handlers[key];\n\t\t\tfor (let i = stack.length - 1; i >= 0; i--) {\n\t\t\t\tif (this._tag.get(stack[i]) === tag) {\n\t\t\t\t\tstack.splice(i, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tasync exec(name: A, ev: T[A]): Promise<T[A]> {\n\t\tconst stack = this._handlers[name];\n\t\tif (stack) {\n\t\t\tfor (let i = 0; i < stack.length; i++) {\n\t\t\t\tconst res = stack[i](ev);\n\t\t\t\tif (res === false) return;\n\t\t\t\tif (res && (res as Promise<boolean>).then) {\n\t\t\t\t\tconst res2 = await (res as Promise<boolean>);\n\t\t\t\t\tif (res2 === false) return;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (this._nextHandler) await this._nextHandler.exec(name, ev);\n\n\t\treturn ev;\n\t}\n\tsetNext(next: IEventBus<T>): IEventBus<T> {\n\t\treturn (this._nextHandler = next);\n\t}\n}\n","import type { IEventBus, CommonEvent } from \"./types\";\n\nexport default class EventResolver<T> implements IEventBus<T> {\n\tprivate _key: string;\n\tprotected _nextHandler: IEventBus<T>;\n\n\tconstructor(key: string) {\n\t\tthis._key = key;\n\t\tthis._nextHandler = null;\n\n\t\tthis.exec = this.exec.bind(this);\n\t}\n\tasync exec(name: keyof T, ev: CommonEvent): Promise<T[keyof T]> {\n\t\tif (ev && ev[this._key]) await ev[this._key](ev);\n\t\tif (this._nextHandler) {\n\t\t\tawait this._nextHandler.exec(name, ev as T[keyof T]);\n\t\t}\n\n\t\treturn ev as T[keyof T];\n\t}\n\tsetNext(next: IEventBus<T>): IEventBus<T> {\n\t\treturn (this._nextHandler = next);\n\t}\n}\n","import type { IEventBus, TDispatch, CommonEvent } from \"./types\";\n\nexport default class EventBusRouter<T> implements IEventBus<T> {\n\tprivate _dispatch: TDispatch<T>;\n\tprotected _nextHandler: IEventBus<T>;\n\n\tconstructor(dispatch: TDispatch<T>) {\n\t\tthis._nextHandler = null;\n\t\tthis._dispatch = dispatch;\n\t\tthis.exec = this.exec.bind(this);\n\t}\n\tasync exec(name: keyof T, ev: CommonEvent): Promise<T[keyof T]> {\n\t\tthis._dispatch(name, ev as T[keyof T]);\n\t\tif (this._nextHandler) await this._nextHandler.exec(name, ev as T[keyof T]);\n\t\treturn ev as T[keyof T];\n\t}\n\tsetNext(next: IEventBus<T>): IEventBus<T> {\n\t\treturn (this._nextHandler = next);\n\t}\n}\n"],"names":["fullKey","signals"],"mappings":"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"}},
    {"offset": {"line": 5357, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/gantt-store/dist/index.js"],"sourcesContent":["var Tt=new Date().valueOf(),ve=()=>Tt++;function nt(){return\"temp://\"+Tt++}var Wt=class{constructor(t){this._data=t,this._pool=new Map;for(let e=0;e<t.length;e++){const n=t[e];this._pool.set(n.id,n)}}add(t){t={id:ve(),...t},this._data.push(t),this._pool.set(t.id,t)}update(t,e){const n=this._data.findIndex(s=>s.id==t),a={...this._data[n],...e};this._data[n]=a,this._pool.set(a.id,a)}remove(t){this._data=this._data.filter(e=>e.id!=t),this._pool.delete(t)}filter(t){this._data=this._data.filter(e=>{const n=t(e);return n||this._pool.delete(e.id),n})}byId(t){return this._pool.get(t)}map(t){return this._data.map(t)}forEach(t){this._data.forEach(t)}},Se=class{constructor(t){const e={id:0,$level:0,data:[],parent:null},n=new Map;n.set(0,e),this._pool=n,t&&t.length&&this.parse(t,0)}parse(t,e){const n=this._pool;for(let s=0;s<t.length;s++){const r=t[s];r.parent=r.parent||e,r.data=null,n.set(r.id,r)}for(let s=0;s<t.length;s++){const r=t[s],i=n.get(r.parent);i&&(i.data||(i.data=[]),i.data.push(r))}const a=n.get(e);this.setLevel(a,a.$level+1,!1)}add(t,e){const n=this._pool.get(t.parent||0);t.$level=n.$level+1,this._pool.set(t.id,t),n.data?e===-1?n.data=[...n.data,t]:It(n,e,t):n.data=[t]}addAfter(t,e){if(!e)return this.add(t,-1);const n=this.byId(e),a=this.byId(n.parent),s=G(a,n.id)+1;t.parent=a.id,t.$level=a.$level+1,this.add(t,s)}remove(t){const e=this._pool.get(t);this._remove(e);const n=this._pool.get(e.parent);n.data=n.data.filter(a=>a.id!=t),this._clearBranch(n)}_remove(t){t.data&&t.data.forEach(e=>this._remove(e)),this._pool.delete(t.id)}update(t,e){let n=this._pool.get(t);const a=this._pool.get(n.parent),s=G(a,n.id);n={...n,...e},a&&s>=0&&(a.data[s]=n,a.data=[...a.data]),this._pool.set(n.id,n)}move(t,e,n){const a=this._pool.get(t),s=e===\"child\",r=this._pool.get(n),i=r.$level+(s?1:0);if(!a||!r)return;const o=this._pool.get(a.parent),c=s?r:this._pool.get(r.parent);c.data||(c.data=[]);const d=G(o,a.id);Me(o,d);const u=s?c.data.length:G(c,r.id)+(e===\"after\"?1:0);if(It(c,u,a),o.id===c.id&&d===u)return null;a.parent=c.id,a.$level!==i&&(a.$level=i,this.setLevel(a,i+1,!0)),this.update(a.id,a),this._clearBranch(o)}_clearBranch(t){t.data&&!t.data.length&&(t.open&&delete t.open,this.update(t.id,{data:null}))}toArray(){const t=[],e=this._pool.get(0).data;return e&&$t(e,t),t}byId(t){return this._pool.get(t)}getBranch(t){return this._pool.get(t).data}forEach(t){this._pool.forEach((e,n)=>{n!==0&&t(e)})}eachChild(t,e){const n=this.byId(e);!n||!n.data||n.data.forEach((a,s)=>{t(this.byId(a.id),s),this.eachChild(t,a.id)})}setLevel(t,e,n){t.data&&(t.data=t.data.map(a=>(n&&(a={...a},this._pool.set(a.id,a)),a.$level=e,a.data&&this.setLevel(a,e+1,n),a)))}};function $t(t,e){t.forEach(n=>{e.push(n),n.open===!0&&$t(n.data,e)})}function Me(t,e){const n=[...t.data];n.splice(e,1),t.data=n}function It(t,e,n){const a=[...t.data];a.splice(e,0,n),t.data=a}function G(t,e){return t?.data.findIndex(n=>n.id===e)}var Pt=2,De=class{constructor(t){t&&(this._writable=t.writable,this._async=t.async),this._values={},this._state={}}setState(t,e=0){const n={};return this._wrapProperties(t,this._state,this._values,\"\",n,e),n}getState(){return this._values}getReactive(){return this._state}_wrapProperties(t,e,n,a,s,r){for(const i in t){const o=e[i],c=n[i],d=t[i];if(o&&(c===d&&typeof d!=\"object\"||d instanceof Date&&c instanceof Date&&c.getTime()===d.getTime()))continue;const u=a+(a?\".\":\"\")+i;o?(o.__parse(d,u,s,r)&&(n[i]=d),r&Pt?s[u]=o.__trigger:o.__trigger()):(d&&d.__reactive?e[i]=this._wrapNested(d,d,u,s):e[i]=this._wrapWritable(d),n[i]=d),s[u]=s[u]||null}}_wrapNested(t,e,n,a){const s=this._wrapWritable(t);return this._wrapProperties(t,s,e,n,a,0),s.__parse=(r,i,o,c)=>(this._wrapProperties(r,s,e,i,o,c),!1),s}_wrapWritable(t){const e=[],n=function(){for(let a=0;a<e.length;a++)e[a](t)};return{subscribe:a=>(e.push(a),this._async?setTimeout(a,1,t):a(t),()=>{const s=e.indexOf(a);s>=0&&e.splice(s,1)}),__trigger:()=>{e.length&&(this._async?setTimeout(n,1):n())},__parse:function(a){return t=a,!0}}}},Te=class{constructor(t,e,n,a){typeof t==\"function\"?this._setter=t:this._setter=t.setState.bind(t),this._routes=e,this._parsers=n,this._prev={},this._triggers=new Map,this._sources=new Map,this._routes.forEach(s=>{s.in.forEach(r=>{const i=this._triggers.get(r)||[];i.push(s),this._triggers.set(r,i)}),s.out.forEach(r=>{const i=this._sources.get(r)||{};s.in.forEach(o=>i[o]=!0),this._sources.set(r,i)})}),this._routes.forEach(s=>{s.length=Math.max(...s.in.map(r=>Ct(r,this._sources,1)))}),this._bus=a}init(t){const e={};for(const n in t)if(this._prev[n]!==t[n]){const a=this._parsers[n];e[n]=a?a(t[n]):t[n]}this._prev=this._prev?{...this._prev,...t}:{...t},this.setState(e),this._bus&&this._bus.exec(\"init-state\",e)}setStateAsync(t){const e=this._setter(t,Pt);return this._async?Object.assign(this._async.signals,e):this._async={signals:e,timer:setTimeout(this._applyState.bind(this),1)},e}_applyState(){const t=this._async;if(t){this._async=null,this._triggerUpdates(t.signals,[]);for(const e in t.signals){const n=t.signals[e];n&&n()}}}setState(t,e=[]){const n=this._setter(t);return this._triggerUpdates(n,e),n}_triggerUpdates(t,e){const n=Object.keys(t),a=!e.length;e=e||[];for(let s=0;s<n.length;s++){const r=n[s],i=this._triggers.get(r);i&&i.forEach(o=>{e.indexOf(o)==-1&&e.push(o)})}a&&this._execNext(e)}_execNext(t){for(;t.length;){t.sort((n,a)=>n.length<a.length?1:-1);const e=t[t.length-1];t.splice(t.length-1),e.exec(t)}}};function Ct(t,e,n){const a=e.get(t);if(!a)return n;const s=Object.keys(a).map(r=>Ct(r,e,n+1));return Math.max(...s)}var We=class{constructor(){this._nextHandler=null,this._handlers={},this._tag=new WeakMap,this.exec=this.exec.bind(this)}on(t,e,n){let a=this._handlers[t];a?n&&n.intercept?a.unshift(e):a.push(e):a=this._handlers[t]=[e],n&&n.tag&&this._tag.set(e,n.tag)}intercept(t,e,n){this.on(t,e,{...n,intercept:!0})}detach(t){for(const e in this._handlers){const n=this._handlers[e];for(let a=n.length-1;a>=0;a--)this._tag.get(n[a])===t&&n.splice(a,1)}}async exec(t,e){const n=this._handlers[t];if(n)for(let a=0;a<n.length;a++){const s=n[a](e);if(s===!1||s&&s.then&&await s===!1)return}return this._nextHandler&&await this._nextHandler.exec(t,e),e}setNext(t){return this._nextHandler=t}};function $e(t,e){return typeof t==\"string\"?t.localeCompare(e,void 0,{numeric:!0}):typeof t==\"object\"?t.getTime()-e.getTime():(t??0)-(e??0)}function Ie(t,e){return typeof t==\"string\"?-t.localeCompare(e,void 0,{numeric:!0}):typeof e==\"object\"?e.getTime()-t.getTime():(e??0)-(t??0)}function Pe({key:t,order:e}){const n=e===\"asc\"?$e:Ie;return(a,s)=>n(a[t],s[t])}function Ce(t){if(!t||!t.length)return;const e=t.map(n=>Pe(n));return t.length===1?e[0]:function(n,a){for(let s=0;s<e.length;s++){const r=e[s](n,a);if(r!==0)return r}return 0}}function Ee(t,e){return t.sort(Ce(e))}class Oe extends Se{_sort;constructor(e){super(),this.parse(e,0)}parse(e,n){if(!e||!e.length)return;const a=e.map(s=>this.normalizeTask(s));super.parse(a,n),this._sort&&this.sortBranch(this._sort,n)}getBranch(e){const n=this._pool.get(e);return this._pool.get(n.parent||0).data}contains(e,n){const a=this._pool.get(e).data;let s=!1;if(a)for(let r=0;r<a.length;r++){if(a[r].id===n){s=!0;break}if(a[r].data&&(s=this.contains(a[r].id,n),s))break}return s}getIndexById(e){return this.getBranch(e).findIndex(n=>n.id===e)}add(e,n){const a=this.normalizeTask(e);return super.add(a,n),a}copy(e,n,a){const s=this.add({...e,id:null,data:null,parent:n},a);let r=[[e.id,s.id]];return e.data?.forEach((i,o)=>{const c=this.copy(i,s.id,o);r=r.concat(c)}),r}normalizeTask(e){const n=e.id||nt(),a=e.parent||0,s=e.text||\"\",r=e.type||\"task\",i=e.progress||0,o=e.details||\"\",c={...e,id:n,text:s,parent:a,progress:i,type:r,details:o};return e.segments&&(c.segments=e.segments.map(d=>({...d}))),e.segments&&(c.segments=e.segments.map(d=>({...d}))),c}getSummaryId(e,n=!1){const a=this._pool.get(e);if(!a.parent)return null;const s=this._pool.get(a.parent);if(n){let r=e,i=this.getSummaryId(r);const o=[];for(;i;)r=i,o.push(i),i=this.getSummaryId(r);return o}return s.type===\"summary\"?s.id:this.getSummaryId(s.id)}sort(e){this._sort=e,e&&this.sortBranch(e,0)}sortBranch(e,n){const a=this._pool.get(n||0).data;a&&(Ee(a,e),a.forEach(s=>{this.sortBranch(e,s.id)}))}serialize(){const e=[],n=this._pool.get(0).data;return n&&Et(n,e),e}clear(){this.forEach(e=>{this.remove(e.id)})}}function Et(t,e){t.forEach(n=>{e.push(n),n.data&&Et(n.data,e)})}function b(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t==\"object\"&&e===\"[object Date]\"?new t.constructor(+t):typeof t==\"number\"||e===\"[object Number]\"||typeof t==\"string\"||e===\"[object String]\"?new Date(t):new Date(NaN)}function D(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function R(t,e){const n=b(t);return isNaN(e)?D(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function at(t,e){const n=b(t);if(isNaN(e))return D(t,NaN);if(!e)return n;const a=n.getDate(),s=D(t,n.getTime());s.setMonth(n.getMonth()+e+1,0);const r=s.getDate();return a>=r?s:(n.setFullYear(s.getFullYear(),s.getMonth(),a),n)}function Ot(t,e){const n=+b(t);return D(t,n+e)}const J=6048e5,He=864e5,Ht=6e4,Nt=36e5;function Ne(t,e){return Ot(t,e*Nt)}let Ye={};function F(){return Ye}function I(t,e){const n=F(),a=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=b(t),r=s.getDay(),i=(r<a?7:0)+r-a;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function N(t){return I(t,{weekStartsOn:1})}function Yt(t){const e=b(t),n=e.getFullYear(),a=D(t,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const s=N(a),r=D(t,0);r.setFullYear(n,0,4),r.setHours(0,0,0,0);const i=N(r);return e.getTime()>=s.getTime()?n+1:e.getTime()>=i.getTime()?n:n-1}function C(t){const e=b(t);return e.setHours(0,0,0,0),e}function V(t){const e=b(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function st(t,e){const n=C(t),a=C(e),s=+n-V(n),r=+a-V(a);return Math.round((s-r)/He)}function rt(t){const e=Yt(t),n=D(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),N(n)}function ze(t,e){return Ot(t,e*Ht)}function Ae(t,e){const n=e*3;return at(t,n)}function zt(t,e){const n=e*7;return R(t,n)}function Be(t,e){return at(t,e*12)}function q(t,e){const n=b(t),a=b(e),s=n.getTime()-a.getTime();return s<0?-1:s>0?1:s}function Fe(t,e){const n=C(t),a=C(e);return+n==+a}function qe(t){return t instanceof Date||typeof t==\"object\"&&Object.prototype.toString.call(t)===\"[object Date]\"}function Ue(t){if(!qe(t)&&typeof t!=\"number\")return!1;const e=b(t);return!isNaN(Number(e))}function it(t,e){const n=N(t),a=N(e),s=+n-V(n),r=+a-V(a);return Math.round((s-r)/J)}function je(t,e){const n=b(t),a=b(e),s=n.getFullYear()-a.getFullYear(),r=n.getMonth()-a.getMonth();return s*12+r}function Le(t,e){const n=b(t),a=b(e);return n.getFullYear()-a.getFullYear()}function ot(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function At(t,e){return+b(t)-+b(e)}function Xe(t,e,n){const a=At(t,e)/Nt;return ot(n?.roundingMethod)(a)}function Qe(t,e,n){const a=At(t,e)/Ht;return ot(n?.roundingMethod)(a)}function Bt(t){const e=b(t);return e.setHours(23,59,59,999),e}function ct(t){const e=b(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Ge(t){const e=b(t);return+Bt(e)==+ct(e)}function Ft(t,e){const n=b(t),a=b(e),s=q(n,a),r=Math.abs(je(n,a));let i;if(r<1)i=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*r);let o=q(n,a)===-s;Ge(b(t))&&r===1&&q(t,a)===1&&(o=!1),i=s*(r-Number(o))}return i===0?0:i}function Re(t,e,n){const a=Ft(t,e)/3;return ot(n?.roundingMethod)(a)}function Je(t,e){const n=b(t),a=b(e),s=q(n,a),r=Math.abs(Le(n,a));n.setFullYear(1584),a.setFullYear(1584);const i=q(n,a)===-s,o=s*(r-+i);return o===0?0:o}function U(t){const e=b(t),n=e.getMonth(),a=n-n%3;return e.setMonth(a,1),e.setHours(0,0,0,0),e}function qt(t){const e=b(t);return e.setDate(1),e.setHours(0,0,0,0),e}function Ve(t){const e=b(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function Ut(t){const e=b(t),n=D(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Ke(t){const e=b(t);return e.setMinutes(59,59,999),e}function Ze(t,e){const n=F(),a=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=b(t),r=s.getDay(),i=(r<a?-7:0)+6-(r-a);return s.setDate(s.getDate()+i),s.setHours(23,59,59,999),s}function dt(t){const e=b(t),n=e.getMonth(),a=n-n%3+3;return e.setMonth(a,0),e.setHours(23,59,59,999),e}const tn={lessThanXSeconds:{one:\"less than a second\",other:\"less than {{count}} seconds\"},xSeconds:{one:\"1 second\",other:\"{{count}} seconds\"},halfAMinute:\"half a minute\",lessThanXMinutes:{one:\"less than a minute\",other:\"less than {{count}} minutes\"},xMinutes:{one:\"1 minute\",other:\"{{count}} minutes\"},aboutXHours:{one:\"about 1 hour\",other:\"about {{count}} hours\"},xHours:{one:\"1 hour\",other:\"{{count}} hours\"},xDays:{one:\"1 day\",other:\"{{count}} days\"},aboutXWeeks:{one:\"about 1 week\",other:\"about {{count}} weeks\"},xWeeks:{one:\"1 week\",other:\"{{count}} weeks\"},aboutXMonths:{one:\"about 1 month\",other:\"about {{count}} months\"},xMonths:{one:\"1 month\",other:\"{{count}} months\"},aboutXYears:{one:\"about 1 year\",other:\"about {{count}} years\"},xYears:{one:\"1 year\",other:\"{{count}} years\"},overXYears:{one:\"over 1 year\",other:\"over {{count}} years\"},almostXYears:{one:\"almost 1 year\",other:\"almost {{count}} years\"}},en=(t,e,n)=>{let a;const s=tn[t];return typeof s==\"string\"?a=s:e===1?a=s.one:a=s.other.replace(\"{{count}}\",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?\"in \"+a:a+\" ago\":a};function ut(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const nn={full:\"EEEE, MMMM do, y\",long:\"MMMM do, y\",medium:\"MMM d, y\",short:\"MM/dd/yyyy\"},an={full:\"h:mm:ss a zzzz\",long:\"h:mm:ss a z\",medium:\"h:mm:ss a\",short:\"h:mm a\"},sn={full:\"{{date}} 'at' {{time}}\",long:\"{{date}} 'at' {{time}}\",medium:\"{{date}}, {{time}}\",short:\"{{date}}, {{time}}\"},rn={date:ut({formats:nn,defaultWidth:\"full\"}),time:ut({formats:an,defaultWidth:\"full\"}),dateTime:ut({formats:sn,defaultWidth:\"full\"})},on={lastWeek:\"'last' eeee 'at' p\",yesterday:\"'yesterday at' p\",today:\"'today at' p\",tomorrow:\"'tomorrow at' p\",nextWeek:\"eeee 'at' p\",other:\"P\"},cn=(t,e,n,a)=>on[t];function j(t){return(e,n)=>{const a=n?.context?String(n.context):\"standalone\";let s;if(a===\"formatting\"&&t.formattingValues){const i=t.defaultFormattingWidth||t.defaultWidth,o=n?.width?String(n.width):i;s=t.formattingValues[o]||t.formattingValues[i]}else{const i=t.defaultWidth,o=n?.width?String(n.width):t.defaultWidth;s=t.values[o]||t.values[i]}const r=t.argumentCallback?t.argumentCallback(e):e;return s[r]}}const dn={narrow:[\"B\",\"A\"],abbreviated:[\"BC\",\"AD\"],wide:[\"Before Christ\",\"Anno Domini\"]},un={narrow:[\"1\",\"2\",\"3\",\"4\"],abbreviated:[\"Q1\",\"Q2\",\"Q3\",\"Q4\"],wide:[\"1st quarter\",\"2nd quarter\",\"3rd quarter\",\"4th quarter\"]},ln={narrow:[\"J\",\"F\",\"M\",\"A\",\"M\",\"J\",\"J\",\"A\",\"S\",\"O\",\"N\",\"D\"],abbreviated:[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],wide:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"]},hn={narrow:[\"S\",\"M\",\"T\",\"W\",\"T\",\"F\",\"S\"],short:[\"Su\",\"Mo\",\"Tu\",\"We\",\"Th\",\"Fr\",\"Sa\"],abbreviated:[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],wide:[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]},fn={narrow:{am:\"a\",pm:\"p\",midnight:\"mi\",noon:\"n\",morning:\"morning\",afternoon:\"afternoon\",evening:\"evening\",night:\"night\"},abbreviated:{am:\"AM\",pm:\"PM\",midnight:\"midnight\",noon:\"noon\",morning:\"morning\",afternoon:\"afternoon\",evening:\"evening\",night:\"night\"},wide:{am:\"a.m.\",pm:\"p.m.\",midnight:\"midnight\",noon:\"noon\",morning:\"morning\",afternoon:\"afternoon\",evening:\"evening\",night:\"night\"}},mn={narrow:{am:\"a\",pm:\"p\",midnight:\"mi\",noon:\"n\",morning:\"in the morning\",afternoon:\"in the afternoon\",evening:\"in the evening\",night:\"at night\"},abbreviated:{am:\"AM\",pm:\"PM\",midnight:\"midnight\",noon:\"noon\",morning:\"in the morning\",afternoon:\"in the afternoon\",evening:\"in the evening\",night:\"at night\"},wide:{am:\"a.m.\",pm:\"p.m.\",midnight:\"midnight\",noon:\"noon\",morning:\"in the morning\",afternoon:\"in the afternoon\",evening:\"in the evening\",night:\"at night\"}},gn=(t,e)=>{const n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+\"st\";case 2:return n+\"nd\";case 3:return n+\"rd\"}return n+\"th\"},pn={ordinalNumber:gn,era:j({values:dn,defaultWidth:\"wide\"}),quarter:j({values:un,defaultWidth:\"wide\",argumentCallback:t=>t-1}),month:j({values:ln,defaultWidth:\"wide\"}),day:j({values:hn,defaultWidth:\"wide\"}),dayPeriod:j({values:fn,defaultWidth:\"wide\",formattingValues:mn,defaultFormattingWidth:\"wide\"})};function L(t){return(e,n={})=>{const a=n.width,s=a&&t.matchPatterns[a]||t.matchPatterns[t.defaultMatchWidth],r=e.match(s);if(!r)return null;const i=r[0],o=a&&t.parsePatterns[a]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(o)?kn(o,h=>h.test(i)):yn(o,h=>h.test(i));let d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const u=e.slice(i.length);return{value:d,rest:u}}}function yn(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function kn(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function wn(t){return(e,n={})=>{const a=e.match(t.matchPattern);if(!a)return null;const s=a[0],r=e.match(t.parsePattern);if(!r)return null;let i=t.valueCallback?t.valueCallback(r[0]):r[0];i=n.valueCallback?n.valueCallback(i):i;const o=e.slice(s.length);return{value:i,rest:o}}}const bn=/^(\\d+)(th|st|nd|rd)?/i,xn=/\\d+/i,_n={narrow:/^(b|a)/i,abbreviated:/^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},vn={any:[/^b/i,/^(a|c)/i]},Sn={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Mn={any:[/1/i,/2/i,/3/i,/4/i]},Dn={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Tn={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Wn={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},$n={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},In={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Pn={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Cn={ordinalNumber:wn({matchPattern:bn,parsePattern:xn,valueCallback:t=>parseInt(t,10)}),era:L({matchPatterns:_n,defaultMatchWidth:\"wide\",parsePatterns:vn,defaultParseWidth:\"any\"}),quarter:L({matchPatterns:Sn,defaultMatchWidth:\"wide\",parsePatterns:Mn,defaultParseWidth:\"any\",valueCallback:t=>t+1}),month:L({matchPatterns:Dn,defaultMatchWidth:\"wide\",parsePatterns:Tn,defaultParseWidth:\"any\"}),day:L({matchPatterns:Wn,defaultMatchWidth:\"wide\",parsePatterns:$n,defaultParseWidth:\"any\"}),dayPeriod:L({matchPatterns:In,defaultMatchWidth:\"any\",parsePatterns:Pn,defaultParseWidth:\"any\"})},En={code:\"en-US\",formatDistance:en,formatLong:rn,formatRelative:cn,localize:pn,match:Cn,options:{weekStartsOn:0,firstWeekContainsDate:1}};function On(t){const e=b(t);return st(e,Ut(e))+1}function Hn(t){const e=b(t),n=+N(e)-+rt(e);return Math.round(n/J)+1}function jt(t,e){const n=b(t),a=n.getFullYear(),s=F(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,i=D(t,0);i.setFullYear(a+1,0,r),i.setHours(0,0,0,0);const o=I(i,e),c=D(t,0);c.setFullYear(a,0,r),c.setHours(0,0,0,0);const d=I(c,e);return n.getTime()>=o.getTime()?a+1:n.getTime()>=d.getTime()?a:a-1}function Nn(t,e){const n=F(),a=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,s=jt(t,e),r=D(t,0);return r.setFullYear(s,0,a),r.setHours(0,0,0,0),I(r,e)}function Yn(t,e){const n=b(t),a=+I(n,e)-+Nn(n,e);return Math.round(a/J)+1}function x(t,e){const n=t<0?\"-\":\"\",a=Math.abs(t).toString().padStart(e,\"0\");return n+a}const P={y(t,e){const n=t.getFullYear(),a=n>0?n:1-n;return x(e===\"yy\"?a%100:a,e.length)},M(t,e){const n=t.getMonth();return e===\"M\"?String(n+1):x(n+1,2)},d(t,e){return x(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?\"pm\":\"am\";switch(e){case\"a\":case\"aa\":return n.toUpperCase();case\"aaa\":return n;case\"aaaaa\":return n[0];case\"aaaa\":default:return n===\"am\"?\"a.m.\":\"p.m.\"}},h(t,e){return x(t.getHours()%12||12,e.length)},H(t,e){return x(t.getHours(),e.length)},m(t,e){return x(t.getMinutes(),e.length)},s(t,e){return x(t.getSeconds(),e.length)},S(t,e){const n=e.length,a=t.getMilliseconds(),s=Math.trunc(a*Math.pow(10,n-3));return x(s,e.length)}},Y={midnight:\"midnight\",noon:\"noon\",morning:\"morning\",afternoon:\"afternoon\",evening:\"evening\",night:\"night\"},Lt={G:function(t,e,n){const a=t.getFullYear()>0?1:0;switch(e){case\"G\":case\"GG\":case\"GGG\":return n.era(a,{width:\"abbreviated\"});case\"GGGGG\":return n.era(a,{width:\"narrow\"});case\"GGGG\":default:return n.era(a,{width:\"wide\"})}},y:function(t,e,n){if(e===\"yo\"){const a=t.getFullYear(),s=a>0?a:1-a;return n.ordinalNumber(s,{unit:\"year\"})}return P.y(t,e)},Y:function(t,e,n,a){const s=jt(t,a),r=s>0?s:1-s;if(e===\"YY\"){const i=r%100;return x(i,2)}return e===\"Yo\"?n.ordinalNumber(r,{unit:\"year\"}):x(r,e.length)},R:function(t,e){const n=Yt(t);return x(n,e.length)},u:function(t,e){const n=t.getFullYear();return x(n,e.length)},Q:function(t,e,n){const a=Math.ceil((t.getMonth()+1)/3);switch(e){case\"Q\":return String(a);case\"QQ\":return x(a,2);case\"Qo\":return n.ordinalNumber(a,{unit:\"quarter\"});case\"QQQ\":return n.quarter(a,{width:\"abbreviated\",context:\"formatting\"});case\"QQQQQ\":return n.quarter(a,{width:\"narrow\",context:\"formatting\"});case\"QQQQ\":default:return n.quarter(a,{width:\"wide\",context:\"formatting\"})}},q:function(t,e,n){const a=Math.ceil((t.getMonth()+1)/3);switch(e){case\"q\":return String(a);case\"qq\":return x(a,2);case\"qo\":return n.ordinalNumber(a,{unit:\"quarter\"});case\"qqq\":return n.quarter(a,{width:\"abbreviated\",context:\"standalone\"});case\"qqqqq\":return n.quarter(a,{width:\"narrow\",context:\"standalone\"});case\"qqqq\":default:return n.quarter(a,{width:\"wide\",context:\"standalone\"})}},M:function(t,e,n){const a=t.getMonth();switch(e){case\"M\":case\"MM\":return P.M(t,e);case\"Mo\":return n.ordinalNumber(a+1,{unit:\"month\"});case\"MMM\":return n.month(a,{width:\"abbreviated\",context:\"formatting\"});case\"MMMMM\":return n.month(a,{width:\"narrow\",context:\"formatting\"});case\"MMMM\":default:return n.month(a,{width:\"wide\",context:\"formatting\"})}},L:function(t,e,n){const a=t.getMonth();switch(e){case\"L\":return String(a+1);case\"LL\":return x(a+1,2);case\"Lo\":return n.ordinalNumber(a+1,{unit:\"month\"});case\"LLL\":return n.month(a,{width:\"abbreviated\",context:\"standalone\"});case\"LLLLL\":return n.month(a,{width:\"narrow\",context:\"standalone\"});case\"LLLL\":default:return n.month(a,{width:\"wide\",context:\"standalone\"})}},w:function(t,e,n,a){const s=Yn(t,a);return e===\"wo\"?n.ordinalNumber(s,{unit:\"week\"}):x(s,e.length)},I:function(t,e,n){const a=Hn(t);return e===\"Io\"?n.ordinalNumber(a,{unit:\"week\"}):x(a,e.length)},d:function(t,e,n){return e===\"do\"?n.ordinalNumber(t.getDate(),{unit:\"date\"}):P.d(t,e)},D:function(t,e,n){const a=On(t);return e===\"Do\"?n.ordinalNumber(a,{unit:\"dayOfYear\"}):x(a,e.length)},E:function(t,e,n){const a=t.getDay();switch(e){case\"E\":case\"EE\":case\"EEE\":return n.day(a,{width:\"abbreviated\",context:\"formatting\"});case\"EEEEE\":return n.day(a,{width:\"narrow\",context:\"formatting\"});case\"EEEEEE\":return n.day(a,{width:\"short\",context:\"formatting\"});case\"EEEE\":default:return n.day(a,{width:\"wide\",context:\"formatting\"})}},e:function(t,e,n,a){const s=t.getDay(),r=(s-a.weekStartsOn+8)%7||7;switch(e){case\"e\":return String(r);case\"ee\":return x(r,2);case\"eo\":return n.ordinalNumber(r,{unit:\"day\"});case\"eee\":return n.day(s,{width:\"abbreviated\",context:\"formatting\"});case\"eeeee\":return n.day(s,{width:\"narrow\",context:\"formatting\"});case\"eeeeee\":return n.day(s,{width:\"short\",context:\"formatting\"});case\"eeee\":default:return n.day(s,{width:\"wide\",context:\"formatting\"})}},c:function(t,e,n,a){const s=t.getDay(),r=(s-a.weekStartsOn+8)%7||7;switch(e){case\"c\":return String(r);case\"cc\":return x(r,e.length);case\"co\":return n.ordinalNumber(r,{unit:\"day\"});case\"ccc\":return n.day(s,{width:\"abbreviated\",context:\"standalone\"});case\"ccccc\":return n.day(s,{width:\"narrow\",context:\"standalone\"});case\"cccccc\":return n.day(s,{width:\"short\",context:\"standalone\"});case\"cccc\":default:return n.day(s,{width:\"wide\",context:\"standalone\"})}},i:function(t,e,n){const a=t.getDay(),s=a===0?7:a;switch(e){case\"i\":return String(s);case\"ii\":return x(s,e.length);case\"io\":return n.ordinalNumber(s,{unit:\"day\"});case\"iii\":return n.day(a,{width:\"abbreviated\",context:\"formatting\"});case\"iiiii\":return n.day(a,{width:\"narrow\",context:\"formatting\"});case\"iiiiii\":return n.day(a,{width:\"short\",context:\"formatting\"});case\"iiii\":default:return n.day(a,{width:\"wide\",context:\"formatting\"})}},a:function(t,e,n){const a=t.getHours()/12>=1?\"pm\":\"am\";switch(e){case\"a\":case\"aa\":return n.dayPeriod(a,{width:\"abbreviated\",context:\"formatting\"});case\"aaa\":return n.dayPeriod(a,{width:\"abbreviated\",context:\"formatting\"}).toLowerCase();case\"aaaaa\":return n.dayPeriod(a,{width:\"narrow\",context:\"formatting\"});case\"aaaa\":default:return n.dayPeriod(a,{width:\"wide\",context:\"formatting\"})}},b:function(t,e,n){const a=t.getHours();let s;switch(a===12?s=Y.noon:a===0?s=Y.midnight:s=a/12>=1?\"pm\":\"am\",e){case\"b\":case\"bb\":return n.dayPeriod(s,{width:\"abbreviated\",context:\"formatting\"});case\"bbb\":return n.dayPeriod(s,{width:\"abbreviated\",context:\"formatting\"}).toLowerCase();case\"bbbbb\":return n.dayPeriod(s,{width:\"narrow\",context:\"formatting\"});case\"bbbb\":default:return n.dayPeriod(s,{width:\"wide\",context:\"formatting\"})}},B:function(t,e,n){const a=t.getHours();let s;switch(a>=17?s=Y.evening:a>=12?s=Y.afternoon:a>=4?s=Y.morning:s=Y.night,e){case\"B\":case\"BB\":case\"BBB\":return n.dayPeriod(s,{width:\"abbreviated\",context:\"formatting\"});case\"BBBBB\":return n.dayPeriod(s,{width:\"narrow\",context:\"formatting\"});case\"BBBB\":default:return n.dayPeriod(s,{width:\"wide\",context:\"formatting\"})}},h:function(t,e,n){if(e===\"ho\"){let a=t.getHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:\"hour\"})}return P.h(t,e)},H:function(t,e,n){return e===\"Ho\"?n.ordinalNumber(t.getHours(),{unit:\"hour\"}):P.H(t,e)},K:function(t,e,n){const a=t.getHours()%12;return e===\"Ko\"?n.ordinalNumber(a,{unit:\"hour\"}):x(a,e.length)},k:function(t,e,n){let a=t.getHours();return a===0&&(a=24),e===\"ko\"?n.ordinalNumber(a,{unit:\"hour\"}):x(a,e.length)},m:function(t,e,n){return e===\"mo\"?n.ordinalNumber(t.getMinutes(),{unit:\"minute\"}):P.m(t,e)},s:function(t,e,n){return e===\"so\"?n.ordinalNumber(t.getSeconds(),{unit:\"second\"}):P.s(t,e)},S:function(t,e){return P.S(t,e)},X:function(t,e,n){const a=t.getTimezoneOffset();if(a===0)return\"Z\";switch(e){case\"X\":return Qt(a);case\"XXXX\":case\"XX\":return E(a);case\"XXXXX\":case\"XXX\":default:return E(a,\":\")}},x:function(t,e,n){const a=t.getTimezoneOffset();switch(e){case\"x\":return Qt(a);case\"xxxx\":case\"xx\":return E(a);case\"xxxxx\":case\"xxx\":default:return E(a,\":\")}},O:function(t,e,n){const a=t.getTimezoneOffset();switch(e){case\"O\":case\"OO\":case\"OOO\":return\"GMT\"+Xt(a,\":\");case\"OOOO\":default:return\"GMT\"+E(a,\":\")}},z:function(t,e,n){const a=t.getTimezoneOffset();switch(e){case\"z\":case\"zz\":case\"zzz\":return\"GMT\"+Xt(a,\":\");case\"zzzz\":default:return\"GMT\"+E(a,\":\")}},t:function(t,e,n){const a=Math.trunc(t.getTime()/1e3);return x(a,e.length)},T:function(t,e,n){const a=t.getTime();return x(a,e.length)}};function Xt(t,e=\"\"){const n=t>0?\"-\":\"+\",a=Math.abs(t),s=Math.trunc(a/60),r=a%60;return r===0?n+String(s):n+String(s)+e+x(r,2)}function Qt(t,e){return t%60===0?(t>0?\"-\":\"+\")+x(Math.abs(t)/60,2):E(t,e)}function E(t,e=\"\"){const n=t>0?\"-\":\"+\",a=Math.abs(t),s=x(Math.trunc(a/60),2),r=x(a%60,2);return n+s+e+r}const Gt=(t,e)=>{switch(t){case\"P\":return e.date({width:\"short\"});case\"PP\":return e.date({width:\"medium\"});case\"PPP\":return e.date({width:\"long\"});case\"PPPP\":default:return e.date({width:\"full\"})}},Rt=(t,e)=>{switch(t){case\"p\":return e.time({width:\"short\"});case\"pp\":return e.time({width:\"medium\"});case\"ppp\":return e.time({width:\"long\"});case\"pppp\":default:return e.time({width:\"full\"})}},zn=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],a=n[1],s=n[2];if(!s)return Gt(t,e);let r;switch(a){case\"P\":r=e.dateTime({width:\"short\"});break;case\"PP\":r=e.dateTime({width:\"medium\"});break;case\"PPP\":r=e.dateTime({width:\"long\"});break;case\"PPPP\":default:r=e.dateTime({width:\"full\"});break}return r.replace(\"{{date}}\",Gt(a,e)).replace(\"{{time}}\",Rt(s,e))},An={p:Rt,P:zn},Bn=/^D+$/,Fn=/^Y+$/,qn=[\"D\",\"DD\",\"YY\",\"YYYY\"];function Un(t){return Bn.test(t)}function jn(t){return Fn.test(t)}function Ln(t,e,n){const a=Xn(t,e,n);if(console.warn(a),qn.includes(t))throw new RangeError(a)}function Xn(t,e,n){const a=t[0]===\"Y\"?\"years\":\"days of the month\";return`Use \\`${t.toLowerCase()}\\` instead of \\`${t}\\` (in \\`${e}\\`) for formatting ${a} to the input \\`${n}\\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Qn=/[yYQqMLwIdDecihHKkms]o|(\\w)\\1*|''|'(''|[^'])+('|$)|./g,Gn=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Rn=/^'([^]*?)'?$/,Jn=/''/g,Vn=/[a-zA-Z]/;function Kn(t,e,n){const a=F(),s=n?.locale??a.locale??En,r=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,o=b(t);if(!Ue(o))throw new RangeError(\"Invalid time value\");let c=e.match(Gn).map(u=>{const h=u[0];if(h===\"p\"||h===\"P\"){const l=An[h];return l(u,s.formatLong)}return u}).join(\"\").match(Qn).map(u=>{if(u===\"''\")return{isToken:!1,value:\"'\"};const h=u[0];if(h===\"'\")return{isToken:!1,value:Zn(u)};if(Lt[h])return{isToken:!0,value:u};if(h.match(Vn))throw new RangeError(\"Format string contains an unescaped latin alphabet character `\"+h+\"`\");return{isToken:!1,value:u}});s.localize.preprocessor&&(c=s.localize.preprocessor(o,c));const d={firstWeekContainsDate:r,weekStartsOn:i,locale:s};return c.map(u=>{if(!u.isToken)return u.value;const h=u.value;(!n?.useAdditionalWeekYearTokens&&jn(h)||!n?.useAdditionalDayOfYearTokens&&Un(h))&&Ln(h,e,String(t));const l=Lt[h[0]];return l(o,h,s.localize,d)}).join(\"\")}function Zn(t){const e=t.match(Rn);return e?e[1].replace(Jn,\"'\"):t}function Jt(t){const e=b(t),n=e.getFullYear(),a=e.getMonth(),s=D(t,0);return s.setFullYear(n,a+1,0),s.setHours(0,0,0,0),s.getDate()}function ta(t){const e=b(t).getFullYear();return e%400===0||e%4===0&&e%100!==0}function Vt(t){const e=b(t);return String(new Date(e))===\"Invalid Date\"?NaN:ta(e)?366:365}function ea(t){const e=rt(t),n=+rt(zt(e,60))-+e;return Math.round(n/J)}function z(t,e){const n=b(t),a=b(e);return+n==+a}function na(t){const e=b(t);return e.setMinutes(0,0,0),e}function aa(t,e,n){const a=I(t,n),s=I(e,n);return+a==+s}function sa(t,e){const n=b(t),a=b(e);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function ra(t,e){const n=U(t),a=U(e);return+n==+a}function ia(t,e){const n=b(t),a=b(e);return n.getFullYear()===a.getFullYear()}const lt={year:Je,quarter:Re,month:Ft,week:it,day:st,hour:Xe,minute:Qe},O={year:{quarter:4,month:12,week:ea,day:oa,hour:ca},quarter:{month:3,week:da,day:Kt,hour:ua},month:{week:la,day:ha,hour:fa},week:{day:7,hour:24*7},day:{hour:24},hour:{minute:60}};function oa(t){return t?Vt(t):365}function ca(t){return Vt(t)*24}function da(t){const e=U(t),n=R(C(dt(t)),1);return it(n,e)}function Kt(t){if(t){const e=U(t),n=dt(t);return st(n,e)+1}return 91}function ua(t){return Kt(t)*24}function la(t){if(t){const e=qt(t),n=R(C(ct(t)),1);return it(n,e)}return 5}function ha(t){return t?Jt(t):30}function fa(t){return Jt(t)*24}function K(t,e,n){const a=O[t][e];return a?typeof a==\"number\"?a:a(n):1}function ma(t,e){return t===e||!!(O[t]&&O[t][e])}const Z={year:Be,quarter:Ae,month:at,week:zt,day:R,hour:Ne,minute:ze};function tt(t,e,n){if(e){if(t===\"day\")return(a,s)=>e.getWorkingDays(s,a,!0);if(t===\"hour\")return(a,s)=>e.getWorkingHours(s,a,!0)}return(a,s,r,i)=>{const o=O[t]?.[r];return!o||typeof o==\"number\"||ee(t,a,s,n)?X(t,a,s,r,i,n):ga(a,s,t,r,i,n)}}function X(t,e,n,a,s,r){const i=a||t;let o=n,c=e;if(s&&(o=$(i,n,r),c=$(i,e,r),c<e&&(c=T(i)(c,1))),t!==i){const d=lt[i](c,o),u=K(t,i,n);return d/u}else return lt[i](c,o)}function ga(t,e,n,a,s,r){let i=0;const o=$(n,e,r);if(e>o){const d=Z[n](o,1);i=X(n,d,e,a,void 0,r),e=d}let c=0;return ee(n,e,t,r)||(c=X(n,$(n,t,r),e,void 0,void 0,r),e=Z[n](e,c)),c+=i+X(n,t,e,a,void 0,r),!c&&s&&(c=X(n,t,e,a,s,r)),c}function T(t,e){if(e){if(t===\"day\")return(n,a)=>e.addWorkingDays(n,a,!0);if(t===\"hour\")return(n,a)=>e.addWorkingHours(n,a)}return Z[t]}const Zt={year:Ut,quarter:U,month:qt,week:(t,e)=>I(t,{weekStartsOn:e}),day:C,hour:na};function $(t,e,n){const a=Zt[t];return a?a(e,n):new Date(e)}const pa={year:Ve,quarter:dt,month:ct,week:(t,e)=>Ze(t,{weekStartsOn:e}),day:Bt,hour:Ke},te={year:ia,quarter:ra,month:sa,week:(t,e,n)=>aa(t,e,{weekStartsOn:n}),day:Fe};function ee(t,e,n,a){const s=te[t];return s?s(e,n,a):!1}const ya={start:Zt,end:pa,add:Z,isSame:te,diff:lt,smallerCount:O},ne=t=>typeof t==\"function\"?t(new Date):t;function ka(t,e){for(const n in e){if(n===\"smallerCount\"){const a=Object.keys(e[n]).sort((o,c)=>W.indexOf(o)-W.indexOf(c)).shift();let s=W.indexOf(a);const r=e[n][a],i=ne(r);for(let o=s-1;o>=0;o--){const c=W[o],d=ne(O[c][a]);if(i<=d)break;s=o}W.splice(s,0,t)}if(n===\"biggerCount\")for(const a in e[n])O[a][t]=e[n][a];else ya[n][t]=e[n]}}function ht(t,e=1,n){return n.isWorkingDay(t)||(t=e>0?n.getNextWorkingDay(t):n.getPreviousWorkingDay(t)),t}function wa(t){return(e,n)=>{if(n>0)for(let a=0;a<n;a++)e=t.getNextWorkingDay(e);if(n<0)for(let a=0;a>n;a--)e=t.getPreviousWorkingDay(e);return e}}function A(t){const e=new Date;return t.map(n=>({item:n,len:T(n.unit)(e,1)})).sort((n,a)=>n.len<a.len?-1:1)[0].item}const W=[\"year\",\"quarter\",\"month\",\"week\",\"day\",\"hour\"],ft=50,mt=300;function ba(t,e,n,a,s,r){const i=!t||n,o=!e||n;let c=t,d=e,u=!1,h=!1;(i||o)&&(s?.forEach(f=>{i&&(!c||f.start<=c)&&(c=f.start,u=!0);const g=f.type===\"milestone\"?f.start:f.end;o&&(!d||g>=d)&&(d=g,h=!0)}),r?.forEach(f=>{i&&(!c||f.start<=c)&&(c=f.start,u=!0),o&&(!d||f.start>=d)&&(d=f.start,h=!0)}));const l=T(a||\"day\");return c?u&&(c=l(c,-1)):d?c=l(d,-30):c=new Date,d?h&&(d=l(d,1)):d=l(c,30),{_start:c,_end:d}}function xa(t,e,n,a,s,r,i){const o=A(i).unit,c=tt(o,void 0,r),d=c(e,t,\"\",!0),u=$(o,e,r);t=$(o,t,r),e=u<e?T(o)(u,1):u;const h=d*a,l=s*i.length,f=i.map(m=>{const y=[],p=T(m.unit);let k=$(m.unit,t,r);for(;k<e;){const w=p(k,m.step),_=k<t?t:k,v=w>e?e:w,S=c(v,_,\"\",!0)*a,M=typeof m.format==\"function\"?m.format(k,w):m.format;let B=\"\";m.css&&(B+=typeof m.css==\"function\"?m.css(k):m.css),y.push({width:S,value:M,date:_,css:B,unit:m.unit}),k=w}return{cells:y,add:p,height:s}});let g=a;return o!==n&&(g=g/K(o,n)),{rows:f,width:h,height:l,diff:c,start:t,end:e,lengthUnit:n,minUnit:o,lengthUnitWidth:g}}function _a(t,e,n,a){const s=typeof t==\"boolean\"?{}:t,r=W.indexOf(A(n).unit);if(typeof s.level>\"u\"&&(s.level=r),s.levels)s.levels.forEach(c=>{c.minCellWidth||(c.minCellWidth=et(s.minCellWidth,ft)),c.maxCellWidth||(c.maxCellWidth=et(s.maxCellWidth,mt))});else{const c=[],d=n.length||1,u=et(s.minCellWidth,ft),h=et(s.maxCellWidth,mt);n.forEach(l=>{l.format&&!e[l.unit]&&(e[l.unit]=l.format)}),W.forEach((l,f)=>{if(f===r)c.push({minCellWidth:u,maxCellWidth:h,scales:n});else{const g=[];if(f)for(let m=d-1;m>0;m--){const y=W[f-m];y&&g.push({unit:y,step:1,format:e[y]})}g.push({unit:l,step:1,format:e[l]}),c.push({minCellWidth:u,maxCellWidth:h,scales:g})}}),s.levels=c}s.levels[s.level]||(s.level=0);const i=s.levels[s.level],o=Math.min(Math.max(a,i.minCellWidth),i.maxCellWidth);return{zoom:s,scales:i.scales,cellWidth:o}}function va(t,e,n,a,s,r,i){t.level=n;let o;const c=a.scales||a,d=A(c).unit,u=Sa(d,s);if(e===-1){const f=K(d,s);o=i*f}else{const f=K(A(r).unit,d);o=Math.round(i/f)}const h=a.minCellWidth??ft,l=a.maxCellWidth??mt;return{scales:c,cellWidth:Math.min(l,Math.max(h,o)),lengthUnit:u,zoom:t}}function Sa(t,e){const n=W.indexOf(t),a=W.indexOf(e);return a>=n?t===\"hour\"?\"hour\":\"day\":W[a]}function et(t,e){return t??e}const gt=8,ae=4,Ma=3,se=7,Da=gt+ae;function re(t,e,n){(t.open||t.type!=\"summary\")&&t.data?.forEach(a=>{typeof a.$x>\"u\"&&oe(a,n),a.$x+=e,re(a,e,n)})}function pt(t,e,n,a){const s=t.getSummaryId(e.id);if(s){const r=t.byId(s),i={xMin:1/0,xMax:0};a&&de(r,n),ie(r,i,n),r.$x=i.xMin,r.$w=i.xMax-i.xMin,pt(t,r,n)}}function ie(t,e,n){t.data?.forEach(a=>{if(!a.unscheduled){typeof a.$x>\"u\"&&oe(a,n);const s=a.type===\"milestone\"&&a.$h?a.$h/2:0;e.xMin>a.$x+s&&(e.xMin=a.$x+s);const r=a.$x+a.$w-s;e.xMax<r&&(e.xMax=r)}a.type!==\"summary\"&&ie(a,e,n)})}function oe(t,e){const{_scales:n,cellWidth:a}=e;t.$x=Math.round(n.diff(t.start,n.start,n.lengthUnit)*a),t.$w=Math.round(n.diff(t.end,t.start,n.lengthUnit,!0)*a)}function yt(t,e){let n;e&&(n=e.filter(s=>s.parent==t.id));const a={data:n,...t};if(a.data?.length)a.data.forEach(s=>{if(s.unscheduled&&!s.data)return;(e||s.type!=\"summary\"&&s.data)&&(s.unscheduled&&(s={...s,start:void 0,end:void 0}),s=yt(s,e)),s.start&&(!a.start||a.start>s.start)&&(a.start=new Date(s.start));const r=s.end||s.start;r&&(!a.end||a.end<r)&&(a.end=new Date(r))});else if(t.type===\"summary\")throw Error(\"Summary tasks must have start and end dates if they have no subtasks\");return a}function ce(t,e,n){return kt(t,e,n,!1),n.splitTasks&&t.segments?.forEach(a=>{ce(a,e,{...n,baselines:!1}),a.$x-=t.$x}),n.baselines&&kt(t,e,n,!0),t}function kt(t,e,n,a){const{cellWidth:s,cellHeight:r,_scales:i,baselines:o}=n,{start:c,end:d,lengthUnit:u,diff:h}=i,l=(a?\"base_\":\"\")+\"start\",f=(a?\"base_\":\"\")+\"end\",g=\"$x\"+(a?\"_base\":\"\"),m=\"$y\"+(a?\"_base\":\"\"),y=\"$w\"+(a?\"_base\":\"\"),p=\"$h\"+(a?\"_base\":\"\"),k=\"$skip\"+(a?\"_baseline\":\"\");let w=t[l],_=t[f];if(a&&!w){t[k]=!0;return}t[l]<c&&(t[f]<c||z(t[f],c))?w=_=c:t[l]>d&&(w=_=d),t[g]=Math.round(h(w,c,u)*s),t[y]=Math.round(h(_,w,u,!0)*s),e!==null&&(t[m]=a?t.$y+t.$h+ae:r*e+Ma),t[p]=a?gt:o?r-se-Da:r-se,t.type===\"milestone\"&&(t[g]=t[g]-t.$h/2,t[y]=t.$h,a&&(t[m]=t.$y+gt,t[y]=t[p]=t.$h)),n.unscheduledTasks&&t.unscheduled&&!a?t.$skip=!0:t[k]=z(w,_)}function de(t,e,n){t.data&&!t.$skip&&(n=n||!t.open,t.data.forEach(a=>{n&&kt(a,null,e,!1),de(a,e,n)}))}function Ta(t,e){return!1}function Wa(t,e){}const wt=20,$a=function(t,e,n,a,s){const r=Math.round(a/2)-3;if(!e||!n||!e.$y||!n.$y||e.$skip||n.$skip)return t.$p=\"\",t.$pl=0,t;let i=!1,o=!1;switch(t.type){case\"e2s\":o=!0;break;case\"s2s\":i=!0,o=!0;break;case\"s2e\":i=!0;break}const c=i?e.$x:e.$x+e.$w,d=s?e.$y-7:e.$y,u=o?n.$x:n.$x+n.$w,h=s?n.$y-7:n.$y;if(c!==u||d!==h){const l=Pa(c,d+r,u,h+r,i,o,a/2,s),f=Ca(u,h+r,o);t.$p=`${l},${f}`,t.$pl=Ia(t.$p)}return t};function Ia(t){const e=t.split(\",\").map(Number),n=[];for(let s=0;s<e.length;s+=2)s+1<e.length&&n.push([e[s],e[s+1]]);let a=0;for(let s=0;s<n.length-1;s++){const[r,i]=n[s],[o,c]=n[s+1];a+=Math.hypot(o-r,c-i)}return a}function Pa(t,e,n,a,s,r,i,o){const c=wt*(s?-1:1),d=wt*(r?-1:1),u=t+c,h=n+d,l=[t,e,u,e,0,0,0,0,h,a,n,a],f=h-u;let g=a-e;const m=r===s;return m||(h<=t+wt-2&&r||h>t&&!r)&&(g=o?g-i+6:g-i),m&&r&&u>h||m&&!r&&u<h?(l[4]=l[2]+f,l[5]=l[3],l[6]=l[4],l[7]=l[5]+g):(l[4]=l[2],l[5]=l[3]+g,l[6]=l[4]+f,l[7]=l[5]),l.join(\",\")}function Ca(t,e,n){return n?`${t-5},${e-3},${t-5},${e+3},${t},${e}`:`${t+5},${e+3},${t+5},${e-3},${t},${e}`}function Ea(t,e,n){if(e&&n){const a=n.x-e.x,s=n.y-e.y,r=(a>0?e.x:n.x)-t.left,i=(s>0?e.y:n.y)-t.top,o=`${a>0?0:-a},${s>0?0:-s},${a>0?a:0},${s>0?s:0}`;return{width:Math.abs(a),height:Math.abs(s),left:r,top:i,p:o}}else return null}function ue(t){return t.map(e=>{const n=e.id||nt();return{...e,id:n}})}const le=[\"start\",\"end\",\"duration\"];function Oa(t,e){const{type:n,unscheduled:a}=t;return a||n===\"summary\"?!le.includes(e):n===\"milestone\"?![\"end\",\"duration\"].includes(e):!0}function Ha(t,e){return typeof e==\"function\"?e:le.includes(t)?(typeof e==\"string\"&&(e={type:e,config:{}}),e.config||(e.config={}),e.type===\"datepicker\"&&(e.config.buttons=[\"today\"]),(n,a)=>Oa(n,a.id)?e:null):e}function Na(t){return!t||!t.length?[]:t.map(e=>{const n=e.align||\"left\",a=e.id===\"add-task\",s=!a&&e.flexgrow?e.flexgrow:null,r=s?1:e.width||(a?50:120),i=e.editor&&Ha(e.id,e.editor);return{width:r,align:n,header:e.header,id:e.id,template:e.template,_template:e._template,...s&&{flexgrow:s},cell:e.cell,resize:e.resize??!0,sort:e.sort??!a,...i&&{editor:i},...e.options&&{options:e.options}}})}const Ya=[{id:\"text\",header:\"Task name\",flexgrow:1,sort:!0},{id:\"start\",header:\"Start date\",align:\"center\",sort:!0},{id:\"duration\",header:\"Duration\",width:100,align:\"center\",sort:!0},{id:\"add-task\",header:\"Add task\",width:50,align:\"center\",sort:!1,resize:!1}];function Q(t,e,n,a){const{selected:s,tasks:r}=t.getState(),i=s.length,o=[\"edit-task\",\"paste-task\",\"edit-task:task\",\"edit-task:segment\"],c=[\"copy-task\",\"cut-task\"],d=[\"copy-task\",\"cut-task\",\"delete-task\",\"indent-task:remove\",\"move-task:down\"],u=[\"add-task\",\"undo\",\"redo\"],h=[\"indent-task:add\",\"move-task:down\",\"move-task:up\"],l={\"indent-task:remove\":2},f=!i&&u.includes(e),g={parent:h.includes(e),level:l[e]};if(n=n||(i?s[s.length-1]:null),!(!n&&!f)){if(e!==\"paste-task\"&&(t._temp=null),o.includes(e)||f||s.length===1)he(t,e,n,a);else if(i){const m=c.includes(e)?s:za(s,r,g);d.includes(e)&&m.reverse();const y=t.getHistory();y&&y.startBatch(),m.forEach((p,k)=>he(t,e,p,a,k)),y&&y.endBatch()}}}function za(t,e,n){let a=t.map(s=>{const r=e.byId(s);return{id:s,level:r.$level,parent:r.parent,index:e.getIndexById(s)}});return(n.parent||n.level)&&(a=a.filter(s=>n.level&&s.level<=n.level||!t.includes(s.parent))),a.sort((s,r)=>s.level-r.level||s.index-r.index),a.map(s=>s.id)}function he(t,e,n,a,s){const r=t.exec?t.exec:t.in.exec;let i=e.split(\":\")[0],o=e.split(\":\")[1];const c=n?.id||n;let d={id:c},u={},h=!1;if(i==\"copy-task\"||i==\"cut-task\"){t._temp||(t._temp=[]),t._temp.push({id:c,cut:i==\"cut-task\"});return}else if(i==\"paste-task\"){if(t._temp&&t._temp.length){const l=t.getHistory();l&&l.startBatch();const f=new Map;if(t._temp.forEach(g=>{const m={id:g.id,target:c,mode:\"after\"};r(g.cut?\"move-task\":\"copy-task\",m),f.set(g.id,m.id)}),!t._temp[0].cut){const{links:g}=t.getState(),m=t._temp.map(p=>p.id),y=[];g.forEach(p=>{m.includes(p.source)&&m.includes(p.target)&&y.push(p)}),y.forEach(p=>{r(\"add-link\",{link:{source:f.get(p.source),target:f.get(p.target),type:p.type}})}),t._temp.forEach((p,k)=>{r(\"select-task\",{id:f.get(p.id),toggle:!!k})})}l&&l.endBatch(),t._temp=null}return}else i===\"add-task\"?(u={task:{type:\"task\",text:a(\"New Task\")},target:c,show:!0,select:!1},d={},h=!0):i===\"edit-task\"?(i=\"show-editor\",o===\"segment\"&&typeof n==\"object\"&&(u=n)):i===\"convert-task\"?(i=\"update-task\",u={task:{type:o}},o=void 0):i===\"indent-task\"&&(o=o===\"add\");if(i===\"split-task\"&&typeof n==\"object\")u=n;else if(i===\"delete-task\"&&o===\"segment\"&&typeof n==\"object\"){const l=t.getTask(c),{segmentIndex:f}=n,g=l.segments.filter((m,y)=>y!==f);r(\"update-task\",{id:c,task:{segments:g}});return}typeof o<\"u\"&&(u={mode:o,...u}),d={...d,...u},r(i,d),h&&r(\"select-task\",{id:d.id,toggle:!!s})}function fe(t,e){return t.some(n=>n.data?fe(n.data,e):n.id===e)}const me=(t,e)=>T(t,e),Aa=(t,e)=>tt(t,e);function ge(t,e){Array.isArray(t)&&(t.forEach(n=>H(n,e)),t.forEach(n=>{if(n.type===\"summary\"&&!(n.start&&n.end)){const{start:a,end:s}=yt(n,t);n.start=a,n.end=s,H(n,e)}}))}function H(t,e){t.unscheduled||pe(t,e,!1),t.base_start&&pe(t,e,!0)}function pe(t,e,n){const{calendar:a,durationUnit:s}=e,r=s||\"day\",[i,o,c]=ye(n);t.type===\"milestone\"?(t[c]=0,t[o]=void 0):t[i]&&(t[c]?t[o]=me(r,a)(t[i],t[c]):t[o]?t[c]=Aa(r,a)(t[o],t[i]):(t[o]=me(r,a)(t[i],1),t[c]=1))}function ye(t){return t?[\"base_start\",\"base_end\",\"base_duration\"]:[\"start\",\"end\",\"duration\"]}function ke(t,e,n){const[a,s,r]=ye(n);(e===r||e===a)&&(t[s]=null),e===s&&(t[r]=0,t[a]&&t[a]>=t[s]&&(t[s]=null,t[r]=1))}function Ba(t,e,n){ke(t,n,!1),t.base_start&&ke(t,n,!0),H(t,e)}class Fa extends De{in;_router;_modules=new Map;constructor(e){super({writable:e,async:!1}),this._router=new Te(super.setState.bind(this),[{in:[\"tasks\",\"start\",\"end\",\"scales\",\"autoScale\",\"markers\"],out:[\"_start\",\"_end\"],exec:s=>{const{_end:r,_start:i,start:o,end:c,tasks:d,scales:u,autoScale:h,markers:l}=this.getState();if(!o||!c||h){const f=A(u).unit,g=ba(o,c,h,f,d,l);(g._end!=r||g._start!=i)&&this.setState(g,s)}else this.setState({_start:o,_end:c},s)}},{in:[\"_start\",\"_end\",\"cellWidth\",\"scaleHeight\",\"scales\",\"lengthUnit\",\"_weekStart\"],out:[\"_scales\"],exec:s=>{const r=this.getState();let{lengthUnit:i}=r;const{_start:o,_end:c,cellWidth:d,scaleHeight:u,scales:h,_weekStart:l}=r,f=A(h).unit;ma(f,i)||(i=f);const g=xa(o,c,i,d,u,l,h);this.setState({_scales:g},s)}},{in:[\"_scales\",\"tasks\",\"cellHeight\",\"baselines\",\"unscheduledTasks\"],out:[\"_tasks\"],exec:s=>{const{cellWidth:r,cellHeight:i,tasks:o,_scales:c,baselines:d,splitTasks:u,unscheduledTasks:h}=this.getState(),l=o.toArray().map((f,g)=>ce(f,g,{cellWidth:r,cellHeight:i,_scales:c,baselines:d,splitTasks:u,unscheduledTasks:h}));this.setState({_tasks:l},s)}},{in:[\"_tasks\",\"links\",\"cellHeight\"],out:[\"_links\"],exec:s=>{const{tasks:r,links:i,cellHeight:o,baselines:c,criticalPath:d}=this.getState(),u=i.map(h=>{const l=r.byId(h.source),f=r.byId(h.target);return $a(h,l,f,o,c)}).toSorted((h,l)=>d?!!h.$critical==!!l.$critical?l.$pl-h.$pl:h.$critical?1:-1:l.$pl-h.$pl).filter(h=>h!==null);this.setState({_links:u},s)}},{in:[\"tasks\",\"activeTask\"],out:[\"_activeTask\"],exec:s=>{const r=this.getState();let{activeTask:i}=r;i&&typeof i==\"object\"&&(i=i.id);const o=r.tasks.byId(i);this.setState({_activeTask:o||null},s)}},{in:[\"tasks\",\"selected\"],out:[\"_selected\"],exec:s=>{const{tasks:r,selected:i}=this.getState(),o=i.map(c=>r.byId(c)).filter(c=>!!c);this.setState({_selected:o},s)}},{in:[\"start\",\"end\"],out:[\"cellWidth\"],exec:s=>{const{_cellWidth:r,cellWidth:i}=this.getState();r!=i&&this.setState({cellWidth:r},s)}}],{tasks:s=>new Oe(s),links:s=>new Wt(s),columns:s=>Na(s)});const n=this.in=new We;n.on(\"show-editor\",s=>{const{splitTasks:r}=this.getState();if(r){const{id:i,segmentIndex:o}=s;if(i&&(o||o===0)){this.setStateAsync({activeTask:{id:i,segmentIndex:o}});return}}this.setStateAsync({activeTask:s.id})}),n.on(\"select-task\",({id:s,toggle:r,range:i,show:o,segmentIndex:c})=>{const{selected:d,_tasks:u,activeTask:h,splitTasks:l}=this.getState();let f=!1,g;if(d.length&&(r||i)){const y=[...d];if(i){const p=y[y.length-1],k=u.findIndex(M=>M.id==p),w=u.findIndex(M=>M.id==s),_=Math.min(k,w),v=Math.max(k,w)+1,S=u.slice(_,v).map(M=>M.id);k>w&&S.reverse(),S.forEach(M=>{y.includes(M)||y.push(M)})}else if(r){const p=y.findIndex(k=>k==s);p===-1?y.push(s):(f=!0,y.splice(p,1))}g=y}else g=[s];const m={selected:g};o&&g.length&&(m._scrollTask={id:g[0],mode:o}),this.setStateAsync(m),!f&&h&&(h!==s||l)&&n.exec(\"show-editor\",{id:s,...l&&{segmentIndex:c}})}),n.on(\"delete-link\",({id:s})=>{const{links:r}=this.getState();r.remove(s),this.setStateAsync({links:r})}),n.on(\"update-link\",s=>{const{links:r}=this.getState(),i=s.id;let o=s.link;r.update(i,o),o=r.byId(i),!o.lag&&o.lag!==0&&delete o.lag,this.setStateAsync({links:r}),s.link=o}),n.on(\"add-link\",s=>{const{link:r}=s,{links:i}=this.getState();!r.source||!r.target||(r.type||(r.type=\"e2s\"),r.id=r.id||nt(),i.add(r),this.setStateAsync({links:i}),s.id=r.id,s.link=i.byId(r.id))});let a=null;n.on(\"move-task\",s=>{const{tasks:r}=this.getState();let{mode:i,target:o}=s;const{id:c,inProgress:d}=s,u=r.byId(c);if(typeof d>\"u\"?s.source=u.parent:s.source=a=a??u.parent,d===!1){r.update(u.id,{$reorder:!1}),this.setState({tasks:r}),a=null;return}if(o===c||r.contains(c,o)){s.skipProvider=!0;return}if(i===\"up\"||i===\"down\"){const h=r.getBranch(c);let l=r.getIndexById(c);if(i===\"up\"){const f=u.parent===0;if(l===0&&f){s.skipProvider=!0;return}l-=1,i=\"before\"}else if(i===\"down\"){const f=l===h.length-1,g=u.parent===0;if(f&&g){s.skipProvider=!0;return}l+=1,i=\"after\"}if(o=h[l]&&h[l].id||u.parent,o){const f=r.getBranch(o);let g=r.getIndexById(o),m=f[g];if(m.data){if(i===\"before\"){if(m.parent===u.parent){for(;m.data;)m.open||n.exec(\"open-task\",{id:m.id,mode:!0}),m=m.data[m.data.length-1];o=m.id}}else if(i===\"after\"){let k;m.parent===u.parent?(k=m,m=m.data[0],o=m.id,i=\"before\"):f.length-1!==g&&(k=m,g+=1,m=f[g],u.$level>m.$level&&m.data?(k=m,m=m.data[0],o=m.id,i=\"before\"):o=m.id),k&&!k.open&&n.exec(\"open-task\",{id:k.id,mode:!0})}}const y=r.getSummaryId(u.id);r.move(c,i,o);const p=r.getSummaryId(c);y!=p&&(y&&this.resetSummaryDates(y,\"move-task\"),p&&this.resetSummaryDates(p,\"move-task\"))}}else{const h=r.byId(o);let l=h,f=!1;for(;l.$level>u.$level;)l=r.byId(l.parent),l.id===c&&(f=!0);if(f)return;const g=r.getSummaryId(u.id);if(r.move(c,i,o),i==\"child\"){let y=h;for(;y.id!==0&&!y.open;)n.exec(\"open-task\",{id:y.id,mode:!0}),y=r.byId(y.parent)}const m=r.getSummaryId(c);g!=m&&(g&&this.resetSummaryDates(g,\"move-task\"),m&&this.resetSummaryDates(m,\"move-task\"))}d?this.setState({tasks:r}):this.setStateAsync({tasks:r}),s.target=o,s.mode=i}),n.on(\"drag-task\",s=>{const r=this.getState(),{tasks:i,_tasks:o,_selected:c,_scales:d,cellWidth:u,cellHeight:h}=r,l=i.byId(s.id),{left:f,top:g,width:m,start:y,inProgress:p}=s,k={_tasks:o,_selected:c};if(typeof m<\"u\"&&(l.$w=m,pt(i,l,{_scales:d,cellWidth:u})),typeof f<\"u\"){if(l.type===\"summary\"){const w=f-l.$x;re(l,w,{_scales:d,cellWidth:u})}l.$x=f,pt(i,l,{_scales:d,cellWidth:u,cellHeight:h},!y)}typeof g<\"u\"&&(l.$y=g+4,l.$reorder=p),this.setState(k)}),n.on(\"update-task\",s=>{const{id:r,segmentIndex:i,diff:o,eventSource:c}=s;let{task:d}=s;const{tasks:u,_scales:h,durationUnit:l,splitTasks:f,calendar:g}=this.getState(),m=u.byId(r),y={durationUnit:l,calendar:g};if(c===\"add-task\"||c===\"copy-task\"||c===\"move-task\"||c===\"update-task\"||c===\"delete-task\"||c===\"provide-data\"){H(d,y),u.update(r,d);return}const p=h.lengthUnit;let k=T(p);const w=tt(l,g);if(o&&(d.start&&(d.start=k(d.start,o)),!i&&i!==0&&(d.start&&d.end?d.duration=m.duration:(d.start?d.end=m.end:(d.end=k(d.end,o),d.start=m.start,d.duration=w(d.end,d.start)),w(d.end,d.start)||(d.duration=1)))),d.type=d.type??m.type,g&&d.start&&(d.start=ht(d.start,o,g)),d.start&&d.end&&(!z(d.start,m.start)||!z(d.end,m.end))&&d.type===\"summary\"&&m.data?.length){let v=o||w(d.start,m.start);g&&(v=d.start>m.start?w(d.start,m.start):-w(m.start,d.start),k=wa(g)),this.moveSummaryKids(m,S=>(S=k(S,v),g?ht(S,o,g):S),\"update-task\")}d.start||(d.start=m.start),!d.end&&!d.duration&&(d.duration=m.duration),H(d,y),u.update(r,d),(g&&d.type===\"summary\"||d.type===\"summary\"&&m.type!==\"summary\")&&this.resetSummaryDates(r,\"update-task\",!0);const _=u.getSummaryId(r);_&&this.resetSummaryDates(_,\"update-task\"),this.setStateAsync({tasks:u}),s.task=u.byId(r)}),n.on(\"add-task\",s=>{const{tasks:r,_scales:i,unscheduledTasks:o,durationUnit:c,splitTasks:d,calendar:u}=this.getState(),{target:h,mode:l,task:f,show:g,select:m=!0}=s;!s.eventSource&&o&&(f.unscheduled=!0);let y=-1,p,k;if(h?(k=r.byId(h),l==\"child\"?(p=k,f.parent=p.id):(k.parent!==null&&(p=r.byId(k.parent),f.parent=p.id),y=r.getIndexById(h),l==\"after\"&&(y+=1))):f.parent&&(p=r.byId(f.parent)),!f.start){if(p?.start)f.start=new Date(p.start.valueOf());else if(k)f.start=new Date(k.start.valueOf());else{const S=r.getBranch(0);let M;if(S?.length){const B=S[S.length-1];if(!B.$skip){const Dt=new Date(B.start.valueOf());i.start<=Dt&&(M=Dt)}}f.start=M||T(c,u)(i.start,1)}f.duration=1}u&&(f.start=ht(f.start,1,u)),this.getState().baselines&&(f.base_start=f.start,f.base_duration=f.duration),H(f,{durationUnit:c,calendar:u});const w=r.add(f,y),_={tasks:r};if(p&&g){for(;p&&p.id;)n.exec(\"open-task\",{id:p.id,mode:!0}),p=r.byId(p.parent);_._scrollTask={id:w.id,mode:g}}s.id=w.id;const v=r.getSummaryId(w.id);v&&this.resetSummaryDates(v,\"add-task\"),this.setStateAsync(_),s.id=w.id,s.task=w,m&&n.exec(\"select-task\",{id:w.id})}),n.on(\"delete-task\",s=>{const{id:r}=s,{tasks:i,links:o,selected:c}=this.getState();s.source=i.byId(r).parent;const d=i.getSummaryId(r),u=[r];i.eachChild(l=>u.push(l.id),r),o.filter(l=>!(u.includes(l.source)||u.includes(l.target)));const h={tasks:i,links:o};c.includes(r)&&(h.selected=c.filter(l=>l!==r)),i.remove(r),d&&this.resetSummaryDates(d,\"delete-task\"),this.setStateAsync(h)}),n.on(\"indent-task\",({id:s,mode:r})=>{const{tasks:i}=this.getState();if(r){const o=i.getBranch(s)[i.getIndexById(s)-1];o&&n.exec(\"move-task\",{id:s,mode:\"child\",target:o.id})}else{const o=i.byId(s),c=i.byId(o.parent);c&&c.parent!==null&&n.exec(\"move-task\",{id:s,mode:\"after\",target:o.parent})}}),n.on(\"copy-task\",s=>{const{id:r,target:i,mode:o,eventSource:c}=s;if(c===\"copy-task\")return;const{tasks:d,links:u}=this.getState();if(d.contains(r,i)){s.skipProvider=!0;return}const h=d.getSummaryId(r),l=d.getSummaryId(i);let f=d.getIndexById(i);o==\"before\"&&(f-=1);const g=d.byId(r),m=d.copy(g,d.byId(i).parent,f+1);s.source=s.id,s.id=m[0][1],g.lazy&&(s.lazy=!0),h!=l&&l&&this.resetSummaryDates(l,\"copy-task\");let y=[];for(let p=1;p<m.length;p++){const[k,w]=m[p];u.forEach(_=>{if(_.source===k){const v={..._};delete v.target,y.push({...v,source:w})}else if(_.target===k){const v={..._};delete v.source,y.push({...v,target:w})}})}y=y.reduce((p,k)=>{const w=p.findIndex(_=>_.id===k.id);return w>-1?p[w]={...p[w],...k}:p.push(k),p},[]);for(let p=1;p<m.length;p++){const[k,w]=m[p],_=d.byId(w);n.exec(\"copy-task\",{source:k,id:w,lazy:!!_.lazy,eventSource:\"copy-task\",target:_.parent,mode:\"child\",skipUndo:!0})}y.forEach(p=>{n.exec(\"add-link\",{link:{source:p.source,target:p.target,type:p.type},eventSource:\"copy-task\",skipUndo:!0})}),this.setStateAsync({tasks:d})}),n.on(\"open-task\",({id:s,mode:r})=>{const{tasks:i}=this.getState(),o=i.byId(s);o.lazy?n.exec(\"request-data\",{id:o.id}):(i.toArray().forEach(c=>c.$y=0),i.update(s,{open:r}),this.setState({tasks:i}))}),n.on(\"scroll-chart\",({left:s,top:r})=>{if(!isNaN(s)){const i=this.calcScaleDate(s);this.setState({scrollLeft:s,_scaleDate:i})}isNaN(r)||this.setState({scrollTop:r})}),n.on(\"render-data\",s=>{this.setState({area:s})}),n.on(\"provide-data\",s=>{const{tasks:r,links:i,durationUnit:o,calendar:c,splitTasks:d}=this.getState(),u=r.byId(s.id);u.lazy?(u.lazy=!1,u.open=!0):u.data=[],ge(s.data.tasks,{durationUnit:o,calendar:c}),r.parse(s.data.tasks,s.id),u.type==\"summary\"&&this.resetSummaryDates(u.id,\"provide-data\"),this.setStateAsync({tasks:r,links:new Wt(i.map(h=>h).concat(ue(s.data.links)))})}),n.on(\"zoom-scale\",({dir:s,offset:r})=>{const{zoom:i,cellWidth:o,_cellWidth:c,scrollLeft:d}=this.getState(),u=r+d,h=this.calcScaleDate(u);let l=o;s<0&&(l=c||o);const f=l+s*50,g=i.levels[i.level],m=s<0&&o>g.maxCellWidth;if(f<g.minCellWidth||f>g.maxCellWidth||m){if(!this.changeScale(i,s))return}else this.setState({cellWidth:f,_cellWidth:f});const{_scales:y,_start:p,cellWidth:k,_weekStart:w}=this.getState(),_=$(y.minUnit,p,w),v=y.diff(h,_,\"hour\");typeof r>\"u\"&&(r=k);let S=Math.round(v*k)-r;S<0&&(S=0),this.setState({scrollLeft:S,_scaleDate:h,_zoomOffset:r})}),n.on(\"expand-scale\",({minWidth:s})=>{const{_start:r,_scales:i,start:o,end:c,_end:d,cellWidth:u,_scaleDate:h,_zoomOffset:l}=this.getState(),f=T(i.minUnit);let g=i.width;if(o&&c){if(g<s&&g){const w=s/g;this.setState({cellWidth:u*w})}return!0}let m=0;for(;g<s;)g+=u,m++;const y=m&&c?-m:0,p=o||f(r,y);let k=0;if(h){const w=i.diff(h,p,\"hour\");k=Math.max(0,Math.round(w*u)-(l||0))}this.setState({_start:p,_end:c||f(d,m),scrollLeft:k})}),n.on(\"sort-tasks\",({key:s,order:r,add:i})=>{const o=this.getState(),{tasks:c}=o;let d=o._sort;const u={key:s,order:r};let h=d?.length||0;h&&i?(d.forEach((l,f)=>{l.key===s&&(h=f)}),d[h]=u):d=[u],c.sort(d),this.setState({_sort:d,tasks:c})}),n.on(\"hotkey\",({key:s,event:r,eventSource:i})=>{switch(s){case\"arrowup\":case\"arrowdown\":{const{selected:o,_tasks:c}=this.getState();r.preventDefault();const d=o.length;let u;if(s===\"arrowup\"?u=d?this.getPrevRow(o[d-1])?.id:c[c.length-1]?.id:u=d?this.getNextRow(o[d-1])?.id:c[0]?.id,u){const h=i===\"chart\"?\"xy\":!0;this.in.exec(\"select-task\",{id:u,show:h})}break}case\"ctrl+c\":{Q(this,\"copy-task\",null,null);break}case\"ctrl+x\":{Q(this,\"cut-task\",null,null);break}case\"ctrl+v\":{Q(this,\"paste-task\",null,null);break}case\"ctrl+d\":case\"backspace\":{r.preventDefault(),Q(this,\"delete-task\",null,null);break}case\"ctrl+z\":{this.in.exec(\"undo\",{});break}case\"ctrl+y\":{this.in.exec(\"redo\",{});break}}})}init(e){const n=this.getState().area?{}:{scrollLeft:0,scrollTop:0,area:{from:0,start:0,end:0}};e.cellWidth&&(e._cellWidth=e.cellWidth),e._sort=null,e.unscheduledTasks=!1,e.baselines=!1,e.markers=[],e._markers=[],e.undo=!1,e.schedule={},e.criticalPath=null,e.splitTasks=!1,e.summary={},Array.isArray(e.tasks)&&this.getHistory()?.resetHistory(),this._router.init({_scrollTask:null,selected:[],markers:[],autoScale:!0,durationUnit:\"day\",...n,...e})}setState(e,n){return this._router.setState(e,n)}setStateAsync(e){this._router.setStateAsync(e)}getTask(e){const{tasks:n}=this.getState();return n.byId(e)}getHistory(){return this.getState().undo?this._modules.get(\"historyManager\"):null}serialize(){return this.getState().tasks.serialize()}changeScale(e,n){const a=e.level+n,s=e.levels[a];if(s){const{cellWidth:r,scales:i,_scales:o}=this.getState(),c=va(e,n,a,s,o.lengthUnit,i,r);return c._cellWidth=c.cellWidth,this.setState(c),!0}return!1}isScheduled(e){return this.getState().unscheduledTasks?e.some(n=>!n.unscheduled||n.data&&this.isScheduled(n.data)):!0}resetSummaryDates(e,n,a){const{tasks:s,durationUnit:r,splitTasks:i,calendar:o}=this.getState(),c=s.byId(e),d=c.data;if(d?.length&&this.isScheduled(d)){const u=yt({...c,start:void 0,end:void 0,duration:void 0});if(!z(c.start,u.start)||!z(c.end,u.end)){a?(H(u,{durationUnit:r,calendar:o}),s.update(e,u)):this.in.exec(\"update-task\",{id:e,task:u,eventSource:n,skipUndo:!0});const h=s.getSummaryId(e);h&&this.resetSummaryDates(h,n)}}}moveSummaryKids(e,n,a){const{tasks:s}=this.getState();e.data.forEach(r=>{const i={...s.byId(r.id),start:n(r.start)};delete i.end,delete i.id,this.in.exec(\"update-task\",{id:r.id,task:i,eventSource:a,skipUndo:!0}),r.data?.length&&this.moveSummaryKids(r,n,a)})}calcScaleDate(e){const{_scales:n,_start:a,_weekStart:s}=this.getState(),r=n.lengthUnit===\"day\"?n.lengthUnitWidth/24:n.lengthUnitWidth;return T(\"hour\")($(n.minUnit,a,s),Math.floor(e/r))}getNextRow(e){const n=this.getState()._tasks,a=n.findIndex(s=>s.id==e);return n[a+1]}getPrevRow(e){const n=this.getState()._tasks,a=n.findIndex(s=>s.id==e);return n[a-1]}}function qa(t,e,n,a){if(typeof document>\"u\")return\"\";const s=document.createElement(\"canvas\");{const r=Ua(s,t,e,1,n);ja(r,a,0,t,0,e)}return s.toDataURL()}function Ua(t,e,n,a,s){t.setAttribute(\"width\",(e*a).toString()),t.setAttribute(\"height\",(n*a).toString());const r=t.getContext(\"2d\");return r.translate(-.5,-.5),r.strokeStyle=s,r}function ja(t,e,n,a,s,r){t.beginPath(),t.moveTo(a,s),t.lineTo(a,r),e===\"full\"&&t.lineTo(n,r),t.stroke()}const bt=[{id:\"task\",label:\"Task\"},{id:\"summary\",label:\"Summary task\"},{id:\"milestone\",label:\"Milestone\"}];function La(t){let e=[...be];const n=t?.taskTypes||bt,a=e.find(s=>s.id==\"convert-task\");return a.data=[],n.forEach(s=>{(!t?.summary?.autoConvert||s.id!==\"summary\")&&a.data.push(a.dataFactory(s))}),e}function xt(t){return t.map(e=>{switch(e.data&&xt(e.data),e.id){case\"add-task:before\":case\"move-task:up\":e.isDisabled=(n,a)=>Qa(n,a);break;case\"move-task:down\":e.isDisabled=(n,a)=>Ga(n,a);break;case\"indent-task:add\":e.isDisabled=(n,a)=>Ra(n,a)===n.parent;break;case\"indent-task:remove\":e.isDisabled=n=>Xa(n);break}return e})}function Xa(t){return t.parent===0}function Qa(t,e){const{_tasks:n}=e;return n[0]?.id===t.id}function Ga(t,e){const{_tasks:n}=e;return n[n.length-1]?.id===t.id}function Ra(t,e){const{_tasks:n}=e,a=n.findIndex(s=>s.id===t.id);return n[a-1]?.id??t.parent}function we(t){return t&&typeof t==\"object\"}function Ja(t){return!t.selected||t.selected.length<2}const Va=t=>e=>e.type===t,be=xt([{id:\"add-task\",text:\"Add\",icon:\"wxi-plus\",data:[{id:\"add-task:child\",text:\"Child task\"},{id:\"add-task:before\",text:\"Task above\"},{id:\"add-task:after\",text:\"Task below\"}]},{type:\"separator\"},{id:\"convert-task\",text:\"Convert to\",icon:\"wxi-swap-horizontal\",dataFactory:t=>({id:`convert-task:${t.id}`,text:`${t.label}`,isDisabled:Va(t.id)})},{id:\"edit-task\",text:\"Edit\",icon:\"wxi-edit\",isHidden:(t,e,n)=>we(n)},{type:\"separator\"},{id:\"cut-task\",text:\"Cut\",icon:\"wxi-content-cut\",subtext:\"Ctrl+X\"},{id:\"copy-task\",text:\"Copy\",icon:\"wxi-content-copy\",subtext:\"Ctrl+C\"},{id:\"paste-task\",text:\"Paste\",icon:\"wxi-content-paste\",subtext:\"Ctrl+V\"},{id:\"move-task\",text:\"Move\",icon:\"wxi-swap-vertical\",data:[{id:\"move-task:up\",text:\"Up\"},{id:\"move-task:down\",text:\"Down\"}]},{type:\"separator\"},{id:\"indent-task:add\",text:\"Indent\",icon:\"wxi-indent\"},{id:\"indent-task:remove\",text:\"Outdent\",icon:\"wxi-unindent\"},{type:\"separator\"},{id:\"delete-task\",icon:\"wxi-delete\",text:\"Delete\",subtext:\"Ctrl+D / BS\",isHidden:(t,e,n)=>Ja(e)&&we(n)}]);function Ka(t){return[...xe]}const xe=xt([{id:\"add-task\",comp:\"button\",icon:\"wxi-plus\",text:\"New task\",type:\"primary\"},{id:\"edit-task\",comp:\"icon\",icon:\"wxi-edit\",menuText:\"Edit\",text:\"Ctrl+E\"},{id:\"delete-task\",comp:\"icon\",icon:\"wxi-delete\",menuText:\"Delete\",text:\"Ctrl+D, Backspace\"},{comp:\"separator\"},{id:\"move-task:up\",comp:\"icon\",icon:\"wxi-angle-up\",menuText:\"Move up\"},{id:\"move-task:down\",comp:\"icon\",icon:\"wxi-angle-down\",menuText:\"Move down\"},{comp:\"separator\"},{id:\"copy-task\",comp:\"icon\",icon:\"wxi-content-copy\",menuText:\"Copy\",text:\"Ctrl+V\"},{id:\"cut-task\",comp:\"icon\",icon:\"wxi-content-cut\",menuText:\"Cut\",text:\"Ctrl+X\"},{id:\"paste-task\",comp:\"icon\",icon:\"wxi-content-paste\",menuText:\"Paste\",text:\"Ctrl+V\"},{comp:\"separator\"},{id:\"indent-task:add\",comp:\"icon\",icon:\"wxi-indent\",menuText:\"Indent\"},{id:\"indent-task:remove\",comp:\"icon\",icon:\"wxi-unindent\",menuText:\"Outdent\"}]);function _t(t){return t.type===\"summary\"}function vt(t){return t.type===\"milestone\"}function St(t){return typeof t.parent>\"u\"}function Mt(t,e){return e.unscheduledTasks&&t.unscheduled}function Za(t){const e=_e.map(a=>({...a})),n=e.find(a=>a.key==\"type\");return n.options=t?.taskTypes||bt,e}const _e=[{key:\"text\",comp:\"text\",label:\"Name\",config:{placeholder:\"Add task name\"}},{key:\"details\",comp:\"textarea\",label:\"Description\",config:{placeholder:\"Add description\"}},{key:\"type\",comp:\"select\",label:\"Type\",isHidden:t=>St(t)},{key:\"start\",comp:\"date\",label:\"Start date\",isHidden:t=>_t(t),isDisabled:Mt},{key:\"end\",comp:\"date\",label:\"End date\",isHidden:t=>_t(t)||vt(t),isDisabled:Mt},{key:\"duration\",comp:\"counter\",label:\"Duration\",config:{min:1},isHidden:t=>_t(t)||vt(t),isDisabled:Mt},{key:\"progress\",comp:\"slider\",label:\"Progress\",config:{min:1,max:100},isHidden:t=>vt(t)||St(t)},{key:\"links\",comp:\"links\",label:\"\",isHidden:t=>St(t)}];export{Fa as DataStore,Ya as defaultColumns,_e as defaultEditorItems,be as defaultMenuOptions,bt as defaultTaskTypes,xe as defaultToolbarButtons,Wa as extendDragOptions,Kn as format,T as getAdder,tt as getDiffer,Za as getEditorItems,La as getMenuOptions,Ka as getToolbarButtons,$ as getUnitStart,qa as grid,Q as handleAction,fe as isHandledAction,Ta as isSegmentMoveAllowed,ue as normalizeLinks,_a as normalizeZoom,ge as parseTaskDates,Ea as placeLink,Ba as prepareEditTask,ka as registerScaleUnit};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 9122, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/grid-store/dist/index.js"],"sourcesContent":["var F=new Date().valueOf(),W=()=>F++;function U(r,e){if(Object.keys(r).length!==Object.keys(e).length)return!1;for(const o in e){const t=r[o],i=e[o];if(!k(t,i))return!1}return!0}function k(r,e){if(typeof r==\"number\"||typeof r==\"string\"||typeof r==\"boolean\"||r===null)return r===e;if(typeof r!=typeof e||(r===null||e===null)&&r!==e||r instanceof Date&&e instanceof Date&&r.getTime()!==e.getTime())return!1;if(typeof r==\"object\")if(Array.isArray(r)&&Array.isArray(e)){if(r.length!==e.length)return!1;for(let o=r.length-1;o>=0;o--)if(!k(r[o],e[o]))return!1;return!0}else return U(r,e);return r===e}function I(r){if(typeof r!=\"object\"||r===null)return r;if(r instanceof Date)return new Date(r);if(r instanceof Array)return r.map(I);const e={};for(const o in r)e[o]=I(r[o]);return e}var D=2,K=class{constructor(r){r&&(this._writable=r.writable,this._async=r.async),this._values={},this._state={}}setState(r,e=0){const o={};return this._wrapProperties(r,this._state,this._values,\"\",o,e),o}getState(){return this._values}getReactive(){return this._state}_wrapProperties(r,e,o,t,i,s){for(const a in r){const n=e[a],l=o[a],c=r[a];if(n&&(l===c&&typeof c!=\"object\"||c instanceof Date&&l instanceof Date&&l.getTime()===c.getTime()))continue;const d=t+(t?\".\":\"\")+a;n?(n.__parse(c,d,i,s)&&(o[a]=c),s&D?i[d]=n.__trigger:n.__trigger()):(c&&c.__reactive?e[a]=this._wrapNested(c,c,d,i):e[a]=this._wrapWritable(c),o[a]=c),i[d]=i[d]||null}}_wrapNested(r,e,o,t){const i=this._wrapWritable(r);return this._wrapProperties(r,i,e,o,t,0),i.__parse=(s,a,n,l)=>(this._wrapProperties(s,i,e,a,n,l),!1),i}_wrapWritable(r){const e=[],o=function(){for(let t=0;t<e.length;t++)e[t](r)};return{subscribe:t=>(e.push(t),this._async?setTimeout(t,1,r):t(r),()=>{const i=e.indexOf(t);i>=0&&e.splice(i,1)}),__trigger:()=>{e.length&&(this._async?setTimeout(o,1):o())},__parse:function(t){return r=t,!0}}}},B=class{constructor(r,e,o,t){typeof r==\"function\"?this._setter=r:this._setter=r.setState.bind(r),this._routes=e,this._parsers=o,this._prev={},this._triggers=new Map,this._sources=new Map,this._routes.forEach(i=>{i.in.forEach(s=>{const a=this._triggers.get(s)||[];a.push(i),this._triggers.set(s,a)}),i.out.forEach(s=>{const a=this._sources.get(s)||{};i.in.forEach(n=>a[n]=!0),this._sources.set(s,a)})}),this._routes.forEach(i=>{i.length=Math.max(...i.in.map(s=>H(s,this._sources,1)))}),this._bus=t}init(r){const e={};for(const o in r)if(this._prev[o]!==r[o]){const t=this._parsers[o];e[o]=t?t(r[o]):r[o]}this._prev=this._prev?{...this._prev,...r}:{...r},this.setState(e),this._bus&&this._bus.exec(\"init-state\",e)}setStateAsync(r){const e=this._setter(r,D);return this._async?Object.assign(this._async.signals,e):this._async={signals:e,timer:setTimeout(this._applyState.bind(this),1)},e}_applyState(){const r=this._async;if(r){this._async=null,this._triggerUpdates(r.signals,[]);for(const e in r.signals){const o=r.signals[e];o&&o()}}}setState(r,e=[]){const o=this._setter(r);return this._triggerUpdates(o,e),o}_triggerUpdates(r,e){const o=Object.keys(r),t=!e.length;e=e||[];for(let i=0;i<o.length;i++){const s=o[i],a=this._triggers.get(s);a&&a.forEach(n=>{e.indexOf(n)==-1&&e.push(n)})}t&&this._execNext(e)}_execNext(r){for(;r.length;){r.sort((o,t)=>o.length<t.length?1:-1);const e=r[r.length-1];r.splice(r.length-1),e.exec(r)}}};function H(r,e,o){const t=e.get(r);if(!t)return o;const i=Object.keys(t).map(s=>H(s,e,o+1));return Math.max(...i)}var X=class{constructor(){this._nextHandler=null,this._handlers={},this._tag=new WeakMap,this.exec=this.exec.bind(this)}on(r,e,o){let t=this._handlers[r];t?o&&o.intercept?t.unshift(e):t.push(e):t=this._handlers[r]=[e],o&&o.tag&&this._tag.set(e,o.tag)}intercept(r,e,o){this.on(r,e,{...o,intercept:!0})}detach(r){for(const e in this._handlers){const o=this._handlers[e];for(let t=o.length-1;t>=0;t--)this._tag.get(o[t])===r&&o.splice(t,1)}}async exec(r,e){const o=this._handlers[r];if(o)for(let t=0;t<o.length;t++){const i=o[t](e);if(i===!1||i&&i.then&&await i===!1)return}return this._nextHandler&&await this._nextHandler.exec(r,e),e}setNext(r){return this._nextHandler=r}};function q(r){return e=>e[r]}function Y(r){return(e,o)=>e[r]=o}function S(r,e){return(e.getter||q(e.id))(r)}function M(r,e,o){return(e.setter||Y(e.id))(r,o)}function Z(r){return r.filter(e=>!!e.editor).map(e=>{let o={key:e.id||W(),label:e.header};e.options&&(o.options=e.options);let t=e.editor;return typeof t==\"function\"&&(t=t()),typeof t==\"object\"?(o={...o,...t},o.comp=t.type):o.comp=t,o})}function P(r,e){const o=document.createElement(\"a\");o.href=URL.createObjectURL(r),o.download=e,document.body.appendChild(o),o.click(),document.body.removeChild(o)}function b(r,e){let o=S(r,e)??\"\";return e.template&&(o=e.template(o,r,e)),e.optionsMap&&(Array.isArray(o)?o=o.map(t=>e.optionsMap.get(t)):o=e.optionsMap.get(o)),typeof o>\"u\"?\"\":o+\"\"}function G(r,e){const o=/\\n|\"|;|,/;let t=\"\";const i=e.rows||`\n`,s=e.cols||\"\t\",a=r._columns,n=r.flatData;e.header!==!1&&a[0].header&&(t=z(\"header\",a,t,s,i));for(let l=0;l<n.length;l++){const c=[];for(let d=0;d<a.length;d++){let h=b(n[l],a[d]);o.test(h)&&(h='\"'+h.replace(/\"/g,'\"\"')+'\"'),c.push(h)}t+=(t?i:\"\")+c.join(s)}return e.footer!==!1&&a[0].footer&&(t=z(\"footer\",a,t,s,i)),t}function z(r,e,o,t,i){const s=/\\n|\"|;|,/;for(let a=0;a<e[0][r].length;a++){const n=[];for(let l=0;l<e.length;l++){let c=(e[l][r][a].text||\"\")+\"\";s.test(c)&&(c='\"'+c.replace(/\"/g,'\"\"')+'\"'),n.push(c)}o+=(o?i:\"\")+n.join(t)}return o}function J(r,e,o){const t=[],i=[],s=[];let a=[];const n=r._columns,l=r.flatData,c=r._sizes;for(const h of n)s.push({width:h.flexgrow?c.columnWidth:h.width});let d=0;e.header!==!1&&n[0].header&&(A(\"header\",n,t,i,d,e,o),a=a.concat(c.headerRowHeights.map(h=>({height:h}))),d+=n[0].header.length);for(let h=0;h<l.length;h++){const u=[];for(let f=0;f<n.length;f++){const p=l[h],g=n[f],w=S(p,g)??\"\";let x=b(p,g),m;e.cellStyle&&(m=e.cellStyle(w,p,g)),e.cellTemplate&&(x=e.cellTemplate(w,p,g)??x);const y=L(x,2,m,o);u.push(y)}t.push(u),a.push({height:c.rowHeight})}return d+=l.length,e.footer!==!1&&n[0].footer&&(A(\"footer\",n,t,i,d,e,o),a=a.concat(c.footerRowHeights.map(h=>({height:h})))),{cells:t,merged:i,rowSizes:a,colSizes:s,styles:o}}function A(r,e,o,t,i,s,a){for(let n=0;n<e[0][r].length;n++){const l=[];for(let c=0;c<e.length;c++){const d=e[c][r][n],h=d.colspan?d.colspan-1:0,u=d.rowspan?d.rowspan-1:0;(h||u)&&t.push({from:{row:n+i,column:c},to:{row:n+i+u,column:c+h}});let f=d.text??\"\",p;s.headerCellStyle&&(p=s.headerCellStyle(f,d,e[c],r)),s.headerCellTemplate&&(f=s.headerCellTemplate(f,d,e[c],r)??f);let g;r==\"header\"?n==e[0][r].length-1?g=1:g=0:n?g=4:g=3;const w=L(f,g,p,a);l.push(w)}o.push(l)}}function L(r,e,o,t){let i=e;if(r&&r instanceof Date&&(r=ee(r),o=o||{},o.format=o.format||\"dd/mm/yyyy\"),o){o={...t[e],...o};const s=t.findIndex(a=>k(a,o));s<0?(t.push(o),i=t.length-1):i=s}return{v:r+\"\",s:i}}function Q(r){const e={material:\"#000000\",willow:\"#000000\",\"willow-dark\":\"#ffffff\"},o={material:\"none\",willow:\"none\",\"willow-dark\":\"#2a2b2d\"},t={material:\"#fafafb\",willow:\"#f2f3f7\",\"willow-dark\":\"#20262b\"},i={material:\"0.5px solid #dfdfdf\",willow:\"0.5px solid #e6e6e6\",\"willow-dark\":\"0.5px solid #384047\"},s={material:\"#dfdfdf\",willow:\"#e6e6e6\",\"willow-dark\":\"#384047\"},a=e[r],n=\"0.5px solid \"+s[r],l={verticalAlign:\"center\",align:\"left\"},c={fontWeight:\"bold\",color:a,background:t[r],...l,borderBottom:n,borderRight:n};return{cell:{color:a,background:o[r],borderBottom:i[r],borderRight:i[r],...l},header:{...c},footer:{...c}}}function ee(r){return r?25569+(r.getTime()-r.getTimezoneOffset()*6e4)/(86400*1e3):null}const te=\"portrait\",oe=100,ie=\"a4\",se={a3:{width:11.7,height:16.5},a4:{width:8.27,height:11.7},letter:{width:8.5,height:11}};function re(r,e){const o=[];let t=[],i=0;const s=r.filter(n=>!n.hidden),a=ae(e);return s.forEach((n,l)=>{i+n.width<=a?(i+=n.width,t.push(n)):(t.length&&o.push(t),t=[n],i=n.width),l===s.length-1&&t.length&&o.push(t)}),o}function ne(r,e,o){const t=[];return r.forEach((i,s)=>{const a=i[e];for(let n=0;n<o.length;n++){t[n]||(t[n]=[]);const l={...a[n]};if(t[n][s]!==null){if(!s&&!l.rowspan&&!l.colspan){let c=1,d=r[s+c][e][n],h=l.width;for(;!d.rowspan&&!d.colspan;)c++,d=r[s+c][e][n],h+=d.width;l.colspan=c,l.width=h,l.height=o[n]}if(t[n].push(l),!l.collapsed&&l.colspan>1){let c=l.colspan-1;if(l.colspan+s>r.length){const d=l.colspan-(l.colspan+s-r.length);l.colspan=d,l.width=r.slice(s,s+c+1).reduce((h,u)=>h+u.width,0),d>1&&(c=d-1)}for(let d=0;d<c;d++)t[n].push(null)}if(l.rowspan>1){const c=l.rowspan;for(let d=1;d<c;d++)t[n+d]||(t[n+d]=[]),t[n+d].push(null)}}}if(i.collapsed)for(let n=0;n<t.length;n++){const l=t[n],c=l[s];if(c&&c.collapsed){if(l[s]=null,!n)break}else{const d=c||l.findLast(h=>h?.colspan>=1);d&&(d.colspan=d.colspan-1,d.width=d.width-i.width)}}}),t.map(i=>i.filter(s=>s&&s.colspan!==0))}function ae(r){const{mode:e,ppi:o,paper:t}=r,{width:i,height:s}=se[t];return le(e===\"portrait\"?i:s,o)}function le(r,e){return r*e}function ce(r={}){const{mode:e,ppi:o,paper:t}=r;return{mode:e||te,ppi:o||oe,paper:t||ie}}function de(r,e){return r.flexgrow?`min-width:${e}px;width:auto`:`width:${r.width}px; max-width:${r.width}px; height:${r.height}px`}function he(r,e,o){let t=r[o.id];if(o.filter.type===\"richselect\"&&t){const i=o.filter.config?.options||e.find(({id:s})=>s==o.id).options;i&&(t=i.find(({id:s})=>s==t).label)}return t??\"\"}const N=[\"resize-column\",\"hide-column\",\"update-cell\"],ue=[\"delete-row\",\"update-row\",\"update-cell\"],fe=[\"move-item\"],ge=[\"resize-column\",\"move-item\"];class pe{undo=[];redo=[];progress={};in;getState;setState;_previousValues={};constructor(e,o,t){this.in=e,this.getState=o,this.setState=t,this.setHandlers(),this.resetStateHistory()}getHandlers(){return{\"add-row\":{handler:e=>({action:\"delete-row\",data:{id:e.id},source:{action:\"add-row\",data:e}})},\"delete-row\":{handler:e=>{const{id:o}=e,{data:t}=this.getPrev(),i=t.findIndex(s=>s.id==o);return{action:\"add-row\",data:{id:o,row:t[i],before:i<t.length-1?t[i+1].id:void 0},source:{action:\"delete-row\",data:e}}}},\"update-cell\":{handler:e=>{const{id:o,column:t}=e,i=this.getRow(o),s=this.getColumn(t),a=S(i,s);return k(a,e.value)?null:{action:\"update-cell\",data:{id:o,column:t,value:a},source:{action:\"update-cell\",data:e}}}},\"update-row\":{handler:e=>{const{id:o,row:t}=e,i=this.getRow(o);for(const s in t)Object.keys(i).includes(s)||(i[s]=void 0);return{action:\"update-row\",data:{id:o,row:i},source:{action:\"update-row\",data:e}}}},\"copy-row\":{handler:e=>{const{id:o}=e,{data:t}=this.getState(),i=t.findIndex(a=>a.id==o),s=t[i];return{action:\"delete-row\",data:{id:o},source:{action:\"add-row\",data:{id:o,row:s,before:i<t.length-1?t[i+1].id:void 0}}}}},\"resize-column\":{handler:e=>{const{id:o,width:t}=e,i=this.getColumn(o),{_sizes:s}=this.getState();return{action:\"resize-column\",data:{id:o,width:i.width??s.columnWidth},source:{action:\"resize-column\",data:{id:o,width:t}}}}},\"hide-column\":{handler:e=>{const{id:o}=e,t=this.getColumn(o);return{action:\"hide-column\",data:{id:o,mode:t.hidden},source:{action:\"hide-column\",data:e}}}},\"collapse-column\":{handler:e=>{const{id:o,row:t,mode:i}=e;return{action:\"collapse-column\",data:{id:o,row:t,mode:typeof i==\"boolean\"?!i:i},source:{action:\"collapse-column\",data:e}}}},\"move-item\":{handler:e=>{const{id:o,target:t,mode:i}=e,{flatData:s}=this.getPrev(),a=s.findIndex(n=>n.id==o);return{action:\"move-item\",data:{id:o,target:s[a+(a?-1:1)].id,mode:a?\"after\":\"before\"},source:{action:\"move-item\",data:{id:o,target:t,mode:i}}}}},\"open-row\":{handler:e=>{const{id:o,nested:t}=e;return{action:\"close-row\",data:{id:o,nested:t},source:{action:\"open-row\",data:e}}}},\"close-row\":{handler:e=>{const{id:o,nested:t}=e;return{action:\"open-row\",data:{id:o,nested:t},source:{action:\"close-row\",data:e}}}}}}resetHistory(){this.undo=[],this.redo=[],this.progress={},this.resetStateHistory()}getPrev(){return this._previousValues}setHandlers(){const e=this.getHandlers();for(const o in e)this.in.intercept(o,t=>{if(!(t.eventSource===\"undo\"||t.eventSource===\"redo\"||t.skipUndo)){if(ge.includes(o)){(t.inProgress&&!this.progress[o]||typeof t.inProgress!=\"boolean\")&&(fe.includes(o)&&this.setPrev(\"flatData\"),N.includes(o)&&this.setPrev(\"columns\")),this.progress[o]=t.inProgress;return}ue.includes(o)&&this.setPrev(\"data\"),N.includes(o)&&this.setPrev(\"columns\")}}),this.in.on(o,t=>{if(t.eventSource===\"undo\"||t.eventSource===\"redo\"||t.skipUndo||t.inProgress)return;const i=e[o].handler(t);i&&this.addToHistory(i)})}setPrev(e){this._previousValues[e]=I(this.getState()[e])}addToHistory(e){this.undo.push(e),this.redo=[],this.setStateHistory()}handleUndo(){if(!this.undo.length)return;const e=this.undo.pop();this.redo.push({...e.source,source:e}),this.in.exec(e.action,{...e.data,eventSource:\"undo\"}),this.setStateHistory()}handleRedo(){if(!this.redo.length)return;const e=this.redo.pop();this.undo.push({...e.source,source:e}),this.in.exec(e.action,{...e.data,eventSource:\"redo\"}),this.setStateHistory()}resetStateHistory(){this.setState({history:{undo:0,redo:0}})}setStateHistory(){this.setState({history:{undo:this.undo.length,redo:this.redo.length}})}getRow(e){const{data:o}=this.getPrev();return this.getState().tree?this.getTreeRow(o,e):o.find(t=>t.id==e)}getTreeRow(e,o){for(let t=0;t<e.length;t++){if(e[t].id==o)return e[t];if(e[t].data){const i=this.getTreeRow(e[t].data,o);if(i)return i}}return null}getColumn(e){const{columns:o}=this.getPrev();return o.find(t=>t.id==e)}}function we(){return{gen:1}}function O(){let r=!0;return r=!1,r}function $(r,e){return typeof r>\"u\"||r===null?-1:typeof e>\"u\"||e===null?1:r===e?0:r>e?1:-1}function me(r,e){return-$(r,e)}function xe(r,e){if(typeof e.sort==\"function\")return function(t,i){const s=e.sort(t,i);return r===\"asc\"?s:-s};const o=r===\"asc\"?$:me;return function(t,i){return o(S(t,e),S(i,e))}}function ye(r,e){if(!r||!r.length)return;const o=r.map(t=>{const i=e.find(s=>s.id==t.key);return xe(t.order,i)});return r.length===1?o[0]:function(t,i){for(let s=0;s<o.length;s++){const a=o[s](t,i);if(a!==0)return a}return 0}}const C=28,_e=20;function Se(){if(typeof document>\"u\")return\"willow\";const r=document.querySelector('[class^=\"wx\"][class$=\"theme\"]');return r?r.className.substring(3,r.className.length-6):\"willow\"}function R(r,e,o,t,i){const s=document.createElement(\"div\"),a=document.createElement(\"div\"),n=document.body;i=i?`${i}px`:\"auto\";let l,c;a.className=e,s.classList.add(`wx-${o}-theme`),s.style.cssText=`height:auto;position:absolute;top:0px;left:100px;overflow:hidden;width=${i};white-space:nowrap;`,s.appendChild(a),n.appendChild(s),typeof r!=\"object\"&&(r=[r]);for(let d=0;d<r.length;d++){a.innerText=r[d]+\"\";const h=s.getBoundingClientRect(),u=Math.ceil(h.width)+(t&&t.length?t[d]:0),f=Math.ceil(h.height);l=Math.max(l||0,u),c=Math.max(c||0,f)}return s.remove(),{width:l,height:c}}function j(r,e,o,t,i){const s=[];for(let a=0;a<r.length;a++){const n=r[a][e],l=n.length;for(let c=0;c<l;c++){const{text:d,vertical:h,collapsed:u,rowspan:f,css:p}=n[c];if(!d){s[c]=Math.max(s[c]||0,t);continue}let g=0;if(h&&!u){let w=`wx-measure-cell-${e}`;if(w+=p?` ${p}`:\"\",g=R(d,w,i).width,(f>1||!n[c+1])&&o>c+1){const x=f||o-c,m=s.slice(c,c+x).reduce((y,_)=>y+_,0);if(m<g){const y=Math.ceil((g-m)/x);for(let _=c;_<c+x;_++)s[_]=(s[_]||t)+y}continue}}s[c]=Math.max(s[c]||t,g)}}return s}function be(r,e,o){const t=[],i=[];let s=\"wx-measure-cell-body\";s+=r.css?` ${r.css}`:\"\";for(let a=0;a<e.length;a++){const n=e[a],l=b(n,r);l&&(t.push(l),r.treetoggle?i.push(e[a].$level*C+(e[a].$count?C:0)+(r.draggable?C:0)):r.draggable&&i.push(C))}return R(t,s,o,i).width}function ve(r,e){const o=\"wx-measure-cell-header\",t=r.sort?_e:0;let i=r.header;if(typeof i==\"string\")return R(i,o,e).width+t;let s;Array.isArray(i)||(i=[i]);for(let a=0;a<i.length;a++){const n=i[a],l=typeof n==\"string\"?n:n.text,c=o+(typeof n==\"string\"?\"\":` ${n.css}`);let d=R(l,c,e).width;a===i.length-1&&(d+=t),s=Math.max(s||0,d)}return s}const ke={text:(r,e)=>r?r.toString().toLowerCase().indexOf(e.toLowerCase())!==-1:!e,richselect:(r,e)=>typeof e!=\"number\"&&!e?!0:r==e};function Ce(r){return ke[r]}class Re extends K{in;_router;_branches;_xlsxWorker;_historyManager;constructor(e){super({writable:e,async:!1});const o={rowHeight:37,columnWidth:160,headerHeight:36,footerHeight:36};this._router=new B(super.setState.bind(this),[{in:[\"columns\",\"sizes\",\"_skin\"],out:[\"_columns\",\"_sizes\"],exec:i=>{const{columns:s,sizes:a,_skin:n}=this.getState(),l=this.copyColumns(s),c=l.reduce((u,f)=>Math.max(f.header.length,u),0),d=l.reduce((u,f)=>Math.max(f.footer.length,u),0);l.forEach(this.setCollapsibleColumns);const h=this.normalizeSizes(l,a,c,d,n);for(let u=0;u<l.length;u++)this.normalizeColumns(l,u,\"header\",c,h),this.normalizeColumns(l,u,\"footer\",d,h);this.setState({_columns:l,_sizes:h},i)}},{in:[\"data\",\"tree\",\"_filterIds\"],out:[\"flatData\",\"_rowHeightFromData\"],exec:i=>{const{data:s,tree:a,dynamic:n,_filterIds:l}=this.getState(),c=l&&new Set(l),d=a?this.flattenRows(s,[],l):c?s.filter(u=>c.has(u.id)):s,h=!n&&d.some(u=>u.rowHeight);this.setState({flatData:d,_rowHeightFromData:h},i)}}],{sizes:i=>({...o,...i})});const t=this.in=new X;t.on(\"close-editor\",({ignore:i})=>{const{editor:s}=this.getState();s&&(i||t.exec(\"update-cell\",s),this.setState({editor:null}))}),t.on(\"open-editor\",({id:i,column:s})=>{let a=this.getState().editor;a&&t.exec(\"close-editor\",{});const n=this.getRow(i),l=s?this.getColumn(s):this.getNextEditor(n);if(l?.editor){let c=l.editor;if(typeof c==\"function\"&&(c=c(n,l)),!c)return;a={column:l.id,id:i,value:S(n,l)??\"\",renderedValue:b(n,l)},typeof c==\"object\"&&c.config&&(a.config=c.config,c.config.options&&(a.options=c.config.options)),l.options&&!a.options&&(a.options=l.options),this.setState({editor:a})}}),t.on(\"editor\",({value:i})=>{const s=this.getState().editor;s&&(s.value=i,this.setState({editor:s}))}),t.on(\"add-row\",i=>{const s=this.getState();let{data:a}=s;const{select:n,_filterIds:l}=s,{row:c,before:d,after:h,select:u}=i;if(i.id=c.id=i.id||c.id||E(),d||h){const p=d||h,g=a.findIndex(w=>w.id===p);a=[...a],a.splice(g+(h?1:0),0,i.row)}else a=[...a,i.row];const f={data:a};l&&(f._filterIds=[...l,i.id]),this.setState(f),!(typeof u==\"boolean\"&&!u)&&(u||n)&&t.exec(\"select-row\",{id:c.id,show:!0})}),t.on(\"delete-row\",i=>{const{data:s,selectedRows:a,focusCell:n,editor:l}=this.getState(),{id:c}=i,d={data:s.filter(h=>h.id!==c)};this.isSelected(c)&&(d.selectedRows=a.filter(h=>h!==c)),l?.id==c&&(d.editor=null),this.setState(d),n?.row===c&&this.in.exec(\"focus-cell\",{eventSource:\"delete-row\"})}),t.on(\"update-cell\",i=>{const s=this.getState();let{data:a}=s;a=[...a];const{tree:n}=s,{id:l,column:c,value:d}=i,h=this.getColumn(c);if(n){const u={...this._branches[l]};M(u,h,d);const f=this.updateTreeRow(u);u.$parent===0&&(a=f)}else{const u=a.findIndex(p=>p.id==l),f={...a[u]};M(f,h,d),a[u]=f}this.setState({data:a})}),t.on(\"update-row\",i=>{let{data:s}=this.getState();const{id:a,row:n}=i,l=s.findIndex(c=>c.id==a);s=[...s],s[l]={...s[l],...n},this.setState({data:s})}),t.on(\"select-row\",({id:i,toggle:s,range:a,mode:n,show:l,column:c})=>{const d=this.getState(),{focusCell:h}=d;let{selectedRows:u}=d;if(u.length||(a=s=!1),a){const{data:f}=this.getState();let p=f.findIndex(w=>w.id==u[u.length-1]),g=f.findIndex(w=>w.id==i);p>g&&([p,g]=[g,p]),f.slice(p,g+1).forEach(w=>{u.indexOf(w.id)===-1&&u.push(w.id)})}else if(s&&this.isSelected(i)){if(n===!0)return;u=u.filter(f=>f!==i)}else if(s){if(n===!1)return;u.push(i)}else u=[i];this.setState({selectedRows:[...u]}),h?.row!==i&&this.in.exec(\"focus-cell\",{eventSource:\"select-row\"}),l&&this.in.exec(\"scroll\",{row:i,column:c})}),this.in.on(\"focus-cell\",i=>{const{row:s,column:a,eventSource:n}=i,{_columns:l,split:c}=this.getState();s&&a?(this.setState({focusCell:{row:s,column:a}}),n!==\"click\"&&((!c.left||l.findIndex(d=>d.id==i.column)>=c.left)&&(!c.right||l.findIndex(d=>d.id==i.column)<l.length-c.right)?this.in.exec(\"scroll\",{row:s,column:a}):this.in.exec(\"scroll\",{row:s}))):this.setState({focusCell:null})}),t.on(\"resize-column\",i=>{const{id:s,auto:a,maxRows:n,inProgress:l}=i;if(l===!1)return;let c=i.width||0;const d=[...this.getState().columns],h=d.find(u=>u.id==s);if(a){if(a==\"data\"||a===!0){const{flatData:u,_skin:f}=this.getState();let p=u.length;n&&(p=Math.min(n,p));const g=u.slice(0,p);c=be(h,g,f)}if(a==\"header\"||a===!0){const{_skin:u}=this.getState();c=Math.max(ve(h,u),c)}}h.width=Math.max(17,c),delete h.flexgrow,this.setState({columns:d})}),t.on(\"hide-column\",i=>{const{id:s,mode:a}=i,n=[...this.getState().columns],l=n.find(d=>d.id==s),c=n.reduce((d,h)=>d+(h.hidden?0:1),0);!a||c>1?(l.hidden=!l.hidden,this.setState({columns:n})):i.skipUndo=!0}),t.on(\"sort-rows\",i=>{const{key:s,add:a,sort:n}=i,l=this.getState(),{columns:c,data:d,tree:h}=l;if(n){const m=[...d];m.sort(n),this.setState({data:m});return}const{order:u=\"asc\"}=i;let f=l.sortMarks;const p=Object.keys(f),g=p.length;!a||!g||g===1&&f[s]?f={[s]:{order:u}}:(g===1&&(f[p[0]]={...f[p[0]],index:0}),f={...f,[s]:{order:u,index:typeof a==\"number\"?a:f[s]?.index??g}});const w=Object.keys(f).sort((m,y)=>f[m].index-f[y].index).map(m=>({key:m,order:f[m].order}));this.setState({sortMarks:f});const x=ye(w,c);if(x){const m=[...d];h?this.sortTree(m,x):m.sort(x),this.setState({data:m})}}),t.on(\"filter-rows\",i=>{const{value:s,key:a,filter:n}=i;if(!Object.keys(i).length){this.setState({filterValues:{},_filterIds:null});return}const l=this.getState(),{data:c,tree:d}=l;let h=l.filterValues;const u={};a&&(h={...h,[a]:s},u.filterValues=h);const f=n??this.createFilter(h);let p=[];d?p=this.filterTree(c,f,p):c.forEach(g=>{f(g)&&p.push(g.id)}),u._filterIds=p,this.setState(u)}),t.on(\"collapse-column\",i=>{const{id:s,row:a,mode:n}=i,l=[...this.getState().columns],c=this.getColumn(s).header,d=Array.isArray(c)?c[a]:c;typeof d==\"object\"&&(d.collapsed=n??!d.collapsed,this.setState({columns:l}))}),t.on(\"move-item\",i=>{const{id:s,inProgress:a}=i;let{target:n,mode:l=\"after\"}=i;const{data:c,flatData:d,tree:h}=this.getState(),u=d.findIndex(g=>g.id==s);let f;if(l===\"up\"||l===\"down\"){if(l===\"up\"){if(u===0)return;f=u-1,l=\"before\"}else if(l===\"down\"){if(u===d.length-1)return;f=u+1,l=\"after\"}n=d[f]&&d[f].id}else f=d.findIndex(g=>g.id==n);if(u===-1||f===-1||a===!1)return;let p;h?p=this.moveItem(s,n,c,l):p=this.moveItem(s,n,c,l),this.setState({data:h?this.normalizeTreeRows(p):p})}),t.on(\"copy-row\",i=>{const{id:s,target:a,mode:n=\"after\"}=i,l=this.getState(),{flatData:c,_filterIds:d}=l;let{data:h}=l;const u=this.getRow(s);if(!u)return;const f={...u,id:E()};i.id=f.id;const p=c.findIndex(w=>w.id==a);if(p===-1)return;h.splice(p+(n===\"after\"?1:0),0,f),h=[...h];const g={data:h};d&&(g._filterIds=[...d,f.id]),this.setState(g)}),t.on(\"open-row\",i=>{const{id:s,nested:a}=i;this.toggleBranch(s,!0,a)}),t.on(\"close-row\",i=>{const{id:s,nested:a}=i;this.toggleBranch(s,!1,a)}),t.on(\"export-data\",i=>new Promise((s,a)=>{const n=i.format||\"csv\",l=`${i.fileName||\"data\"}.${n}`;if(n==\"csv\"){const c=G(this.getState(),i.csv||{});i.download!==!1?P(new Blob([\"\\uFEFF\"+c],{type:\"text/csv\"}),l):i.result=c,s(!0)}else if(n==\"xlsx\"){let c=i.excel?.styles;!c&&c!==!1&&(c=Q(this.getState()._skin));const d=c,h=d?[{...d.header},{...d.lastHeaderCell||d.header},{...d.cell},{...d.firstFooterCell||d.footer},{...d.footer}]:Array(5).fill({}),{cells:u,merged:f,rowSizes:p,colSizes:g,styles:w}=J(this.getState(),i.excel||{},h),x=i.cdn||\"https://cdn.dhtmlx.com/libs/json2excel/1.3.2/worker.js\";this.getXlsxWorker(x).then(m=>{m.onmessage=y=>{if(y.data.type==\"ready\"){const _=y.data.blob;i.download!==!1?P(_,l):i.result=_,s(!0)}},m.postMessage({type:\"convert\",data:{data:[{name:i.sheetName||\"data\",cells:u,cols:g,rows:p,merged:f}],styles:w}})})}else a()})),t.on(\"search-rows\",i=>{const{search:s,columns:a}=i,n=this.searchRows(s,a);this.setState({search:{value:s,rows:n}})}),t.on(\"hotkey\",({key:i,event:s,isInput:a})=>{switch(i){case\"arrowup\":{const{flatData:n,focusCell:l,select:c}=this.getState();if(s.preventDefault(),a)return;const d=l?l.column:this._getFirstVisibleColumn()?.id,h=l?this.getPrevRow(l.row)?.id:n[n.length-1]?.id;d&&h&&(this.in.exec(\"focus-cell\",{row:h,column:d,eventSource:\"key\"}),c&&this.in.exec(\"select-row\",{id:h}));break}case\"arrowdown\":{const{flatData:n,focusCell:l,select:c}=this.getState();if(s.preventDefault(),a)return;const d=l?l.column:this._getFirstVisibleColumn()?.id,h=l?this.getNextRow(l.row)?.id:n[0]?.id;d&&h&&(this.in.exec(\"focus-cell\",{row:h,column:d,eventSource:\"key\"}),c&&this.in.exec(\"select-row\",{id:h}));break}case\"arrowright\":{const{focusCell:n}=this.getState();if(a)return;if(s.preventDefault(),n){const l=this.getNextColumn(n.column,!0)?.id;l&&this.in.exec(\"focus-cell\",{row:n.row,column:l,eventSource:\"key\"})}break}case\"arrowleft\":{const{focusCell:n}=this.getState();if(a)return;if(s.preventDefault(),n){const l=this.getPrevColumn(n.column,!0)?.id;l&&this.in.exec(\"focus-cell\",{row:n.row,column:l,eventSource:\"key\"})}break}case\"tab\":{const{editor:n,focusCell:l,select:c}=this.getState();if(n){s.preventDefault();const d=n.column;let h=n.id,u=this.getNextEditor(this.getRow(h),this.getColumn(d));if(!u){const f=this.getNextRow(h);f&&(h=f.id,u=this.getNextEditor(f))}u&&(this.in.exec(\"open-editor\",{id:h,column:u.id}),this.in.exec(\"focus-cell\",{row:h,column:u.id,eventSource:\"key\"}),c&&!this.isSelected(h)&&this.in.exec(\"select-row\",{id:h}))}else l&&this.in.exec(\"focus-cell\",{eventSource:\"key\"});break}case\"shift+tab\":{const{editor:n,focusCell:l,select:c}=this.getState();if(n){s.preventDefault();const d=n.column;let h=n.id,u=this.getPrevEditor(this.getRow(h),this.getColumn(d));if(!u){const f=this.getPrevRow(h);f&&(h=f.id,u=this.getPrevEditor(f))}u&&(this.in.exec(\"open-editor\",{id:h,column:u.id}),this.in.exec(\"focus-cell\",{row:h,column:u.id,eventSource:\"key\"}),c&&!this.isSelected(h)&&this.in.exec(\"select-row\",{id:h}))}else l&&this.in.exec(\"focus-cell\",{eventSource:\"key\"});break}case\"escape\":{const{editor:n}=this.getState();n&&(this.in.exec(\"close-editor\",{ignore:!0}),this.in.exec(\"focus-cell\",{row:n.id,column:n.column,eventSource:\"key\"}));break}case\"f2\":{const{editor:n,focusCell:l}=this.getState();!n&&l&&this.in.exec(\"open-editor\",{id:l.row,column:l.column});break}case\"enter\":{const{focusCell:n,tree:l}=this.getState();if(!a&&l&&n&&this.getColumn(n.column).treetoggle){const c=this.getRow(n.row);if(!c.data)return;this.in.exec(c.open?\"close-row\":\"open-row\",{id:n.row,nested:!0})}break}case\"home\":{const{editor:n,focusCell:l}=this.getState();if(!n&&l){s.preventDefault();const c=this._getFirstVisibleColumn()?.id;this.in.exec(\"focus-cell\",{row:l.row,column:c,eventSource:\"key\"})}break}case\"ctrl+home\":{const{editor:n,focusCell:l,flatData:c,select:d}=this.getState();if(!n&&l){s.preventDefault();const h=c[0]?.id,u=this._getFirstVisibleColumn()?.id;h&&u&&(this.in.exec(\"focus-cell\",{row:h,column:u,eventSource:\"key\"}),d&&!this.isSelected(h)&&this.in.exec(\"select-row\",{id:h}))}break}case\"end\":{const{editor:n,focusCell:l}=this.getState();if(!n&&l){s.preventDefault();const c=this._getLastVisibleColumn()?.id,d=l.row;this.in.exec(\"focus-cell\",{row:d,column:c,eventSource:\"key\"})}break}case\"ctrl+end\":{const{editor:n,focusCell:l,flatData:c,select:d}=this.getState();if(!n&&l){s.preventDefault();const h=c.at(-1).id,u=this._getLastVisibleColumn()?.id;h&&u&&(this.in.exec(\"focus-cell\",{row:h,column:u,eventSource:\"key\"}),d&&!this.isSelected(h)&&this.in.exec(\"select-row\",{id:h}))}break}case\"ctrl+z\":{this.in.exec(\"undo\",{});break}case\"ctrl+y\":{this.in.exec(\"redo\",{});break}}}),t.on(\"scroll\",i=>{const{_columns:s,split:a,_sizes:n,flatData:l,dynamic:c,_rowHeightFromData:d}=this.getState();let h=-1,u=-1,f=0,p=0;if(i.column){h=0;const g=s.findIndex(w=>w.id==i.column);f=s[g].width;for(let w=a.left??0;w<g;w++){const x=s[w];x.hidden||(h+=x.width)}}if(i.row&&!c){const g=l.findIndex(w=>w.id==i.row);g>=0&&(d?(u=l.slice(0,g).reduce((w,x)=>w+(x.rowHeight||n.rowHeight),0),p=l[g].rowHeight):u=n.rowHeight*g)}this.setState({scroll:{top:u,left:h,width:f,height:p||n.rowHeight}})}),t.on(\"print\",i=>{const s=ce(i);this.setState({_print:s}),this.setStateAsync({_print:null})}),t.on(\"undo\",()=>{this._historyManager?.handleUndo()}),t.on(\"redo\",()=>{this._historyManager?.handleRedo()}),this.initOnce()}getXlsxWorker(e){if(!this._xlsxWorker){const o=window.URL.createObjectURL(new Blob([`importScripts('${e}');`],{type:\"text/javascript\"}));this._xlsxWorker=new Promise(t=>{const i=new Worker(o);i.addEventListener(\"message\",s=>{s.data.type===\"init\"&&t(i)})})}return this._xlsxWorker}initOnce(){const e={sortMarks:{},_filterIds:null,data:[],filterValues:{},scroll:null,editor:null,focusCell:null,_print:null,history:{undo:0,redo:0},search:null};this._router.init(e)}init(e){e.hasOwnProperty(\"_skin\")&&!e._skin&&(e._skin=Se()),e.columns&&e.columns.forEach(o=>{o.options&&(o.optionsMap=new Map(o.options.map(t=>[t.id,t.label])))}),k(this.getState().data,e.data)||(e.tree?(this._branches={0:{data:e.data}},e.data=this.normalizeTreeRows(e.data)):e.data=this.normalizeRows(e.data),this.setState({_filterIds:null,filterValues:{},sortMarks:{},search:null}),this._historyManager&&this._historyManager.resetHistory()),O()&&(e.tree&&(e.undo=!1,e.reorder=!1),e.split?.right&&(e.split.right=0)),e.undo&&!this._historyManager&&(this._historyManager=new pe(this.in,this.getState.bind(this),this.setState.bind(this))),this._router.init({...e})}setState(e,o){return this._router.setState(e,o)}setStateAsync(e){this._router.setStateAsync(e)}getRow(e){const{tree:o}=this.getState();return o?this._branches[e]:this.getState().data.find(t=>t.id==e)}getRowIndex(e,o){return o||(o=this.getState().flatData),o.findIndex(t=>t.id==e)}getNextRow(e){const o=this.getState().flatData,t=this.getRowIndex(e,o);return o[t+1]}getPrevRow(e){const o=this.getState().flatData,t=this.getRowIndex(e,o);return o[t-1]}getColumn(e){return this.getState().columns.find(o=>o.id==e)}getNextColumn(e,o){const t=this.getState()._columns,i=t.findIndex(s=>s.id==e);return o?this._getFirstVisibleColumn(i+1):t[i+1]}getPrevColumn(e,o){const t=this.getState()._columns,i=t.findIndex(s=>s.id==e);return o?this._getLastVisibleColumn(i-1):t[i-1]}_getFirstVisibleColumn(e){const o=this.getState()._columns;let t=e??0;for(;t<o.length&&(o[t]?.hidden||o[t]?.collapsed);)t++;return o[t]}_getLastVisibleColumn(e){const o=this.getState()._columns;let t=e??o.length-1;for(;t<o.length&&(o[t]?.hidden||o[t]?.collapsed);)t--;return o[t]}isCellEditable(e,o){const{editor:t,hidden:i}=o;return!t||i?!1:typeof t==\"function\"?t(e,o):!0}getNextEditor(e,o){let t=this.getState().columns;if(o){const i=t.findIndex(s=>s.id==o.id);t=t.slice(i+1)}return t.find(i=>this.isCellEditable(e,i))}getPrevEditor(e,o){let t=this.getState().columns;if(o){const i=t.findLastIndex(s=>s.id==o.id);t=t.slice(0,i)}return t.findLast(i=>this.isCellEditable(e,i))}toggleBranch(e,o,t){let i=this._branches[e],{data:s}=this.getState();if(s=[...s],e!==0){i={...i,open:o};const a=this.updateTreeRow(i);i.$parent===0&&(s=a)}t&&i.data?.length&&i.data.forEach(a=>{const n=this.toggleKids(a,o,t);e===0&&(s=n)}),this.setState({data:s})}toggleKids(e,o,t){e={...e,open:o};const i=this.updateTreeRow(e);return t&&e.data?.length&&e.data.forEach(s=>{this.toggleKids(s,o,t)}),i}updateTreeRow(e){const o=e.id;this._branches[o]=e;const t=this._branches[e.$parent],i=t.data.findIndex(s=>s.id==o);return t.data=[...t.data],t.data[i]=e,t.data}isSelected(e){return this.getState().selectedRows.indexOf(e)!==-1}findAndRemove(e,o){for(let t=0;t<e.length;t++){if(e[t].id==o)return e.splice(t,1)[0];if(e[t].data){const i=[...e[t].data],s=this.findAndRemove(i,o);if(s)return e[t]={...e[t],data:i},s}}return null}insertItem(e,o,t,i){for(let s=0;s<e.length;s++){if(e[s].id==o){const a=e[s],n=i===\"before\"?s:s+1;if(a.data){if(i===\"before\"){const l=s>0?e[s-1]:null;return l?.data&&l.open?e[s-1]={...l,data:[...l.data,t]}:e.splice(n,0,t),!0}else if(a.open)return e[s]={...a,data:[t,...a.data]},!0}return e.splice(n,0,t),!0}if(e[s].data&&(e[s]={...e[s],data:[...e[s].data]},this.insertItem(e[s].data,o,t,i)))return!0}return!1}moveItem(e,o,t,i){const s=[...t],a=this.findAndRemove(s,e);return this.insertItem(s,o,a,i),s}copyColumns(e){const o=[];for(let t=0;t<e.length;t++){const i={...e[t]};this.copyHeaderFooter(i,\"header\"),this.copyHeaderFooter(i,\"footer\"),o[t]=i}return o}copyHeaderFooter(e,o){let t=e[o];t=Array.isArray(t)?[...t]:[t],t.forEach((i,s)=>{t[s]=typeof i==\"string\"?{text:i}:{...i}}),e[o]=t}setCollapsibleColumns(e,o,t){let i=e.header;for(let s=0;s<i.length;s++){const a=i[s];if(a.collapsible&&a.collapsed){if(a.collapsible!==\"first\"){e.collapsed=!0,e.width=36,a.vertical=!0;const l=i.length-s;i=i.slice(0,s+1),i[s].rowspan=l}const n=a.colspan;if(n){const l=i[s+1];let c=1;l&&l.colspan&&!l.collapsed&&(c=l.colspan);for(let d=c;d<n;d++){const h=t[o+d];h&&(h.hidden=!0)}}}}}normalizeColumns(e,o,t,i,s){const a=e[o];a.width||(a.width=a.flexgrow?17:s.columnWidth),a._colindex=o+1;const n=a[t],l=s[`${t}RowHeights`];for(let c=0;c<i;c++){const d=n[c];d.id=a.id,c===n.length-1&&(d.rowspan=d.rowspan?Math.min(d.rowspan,i-c):i-c);for(let h=1;h<d.rowspan;h++){n.splice(c+h,0,{_hidden:!0});for(let u=1;u<d.colspan;u++)e[o+u][t].splice(c+h,0,{})}if(d.rowspan){const h=(d.rowspan===i?l:l.slice(c,d.rowspan+c)).reduce((u,f)=>u+f,0);d.height=h,c+d.rowspan!=i&&d.height--}if(d.colspan){let h=a.width,u=a.flexgrow||0;const f=d.colspan;for(let p=1;p<f;p++){const g=e[o+p];g&&(g.hidden?d.colspan-=1:g.flexgrow?u+=g.flexgrow:h+=g.width||s.columnWidth),u?d.flexgrow=u:d.width=h}}else d.width=a.width,d.flexgrow=a.flexgrow;t===\"header\"&&d.filter&&typeof d.filter==\"string\"&&(d.filter={type:d.filter})}n.length>i&&(n.length=i),a[t]=n}normalizeRows(e){for(let o=0;o<e.length;o++)e[o].id||(e[o].id=E());return e}normalizeTreeRows(e,o,t){return e.forEach(i=>{i.id||(i.id=E()),i.$level=o||0,i.$parent=t||0,this._branches[i.id]=i,i.data&&(i.data.length?(i.$count=i.data.length,this.normalizeTreeRows(i.data,i.$level+1,i.id)):(delete i.data,delete i.$count,delete i.open))}),e}sortTree(e,o){e.sort(o),e.forEach(t=>{t.data&&this.sortTree(t.data,o)})}filterTree(e,o,t){return e.forEach(i=>{o(i)&&t.push(i.id),i.data&&this.filterTree(i.data,o,t)}),t}flattenRows(e,o,t){const i=o;return e.forEach(s=>{(!t||t.includes(s.id))&&i.push(s),s.data?.length&&s.open!==!1&&this.flattenRows(s.data,i,t)}),i}createFilter(e){const{_columns:o}=this.getState(),t=[];for(const i in e){const{config:s,type:a}=o.find(l=>l.id==i).header.find(l=>l.filter).filter,n=e[i];t.push(l=>s?.handler?s.handler(l[i],n):Ce(a)(l[i],n))}return i=>{for(let s=0;s<t.length;s++)if(!t[s](i))return!1;return!0}}searchRows(e,o){e=e.trim().toLowerCase();const t={};if(!e)return t;const{flatData:i,columns:s}=this.getState(),a=o?s.filter(n=>o[n.id]):s;return i.forEach(n=>{const l={};a.forEach(c=>{const d=b(n,c);String(d).toLowerCase().includes(e)&&(l[c.id]=!0)}),Object.keys(l).length&&(t[n.id]=l)}),t}normalizeSizes(e,o,t,i,s){const a=j(e,\"header\",t,o.headerHeight,s),n=j(e,\"footer\",i,o.footerHeight,s),l=a.reduce((d,h)=>d+h,0),c=n.reduce((d,h)=>d+h,0);return{...o,headerRowHeights:a,footerRowHeights:n,headerHeight:l,footerHeight:c}}}let Ee=new Date().valueOf();function E(){return\"temp://\"+Ee++}function Ie(r,e=\"data-id\"){let o=r;for(!o.tagName&&r.target&&(o=r.target);o;){if(o.getAttribute&&o.getAttribute(e))return o;o=o.parentNode}return null}new Date().valueOf();var Te=class{constructor(){this.store=new Map}configure(r,e){this.node=e;for(const o in r)if(r[o]){const t=o.toLowerCase().replace(/[ ]/g,\"\"),i=r[o];this.store.set(t,i)}}},v=[],De={subscribe:r=>{He();const e=new Te;return v.push(e),r(e),()=>{const o=v.findIndex(t=>t===e);o>=0&&v.splice(o,1)}}},V=!1;function He(){V||(V=!0,document.addEventListener(\"keydown\",r=>{if(v.length&&(r.ctrlKey||r.altKey||r.metaKey||r.shiftKey||r.key.length>1||r.key===\" \")){const e=[];r.ctrlKey&&e.push(\"ctrl\"),r.altKey&&e.push(\"alt\"),r.metaKey&&e.push(\"meta\"),r.shiftKey&&e.push(\"shift\");let o=r.code.replace(\"Key\",\"\").toLocaleLowerCase();r.key===\" \"&&(o=\"space\"),e.push(o);const t=e.join(\"+\");for(let i=v.length-1;i>=0;i--){const s=v[i],a=s.store.get(t)||s.store.get(o);a&&s.node.contains(r.target)&&a(r,{key:t,evKey:o})}}}))}const Me={tab:!0,\"shift+tab\":!0,arrowup:!0,arrowdown:!0,arrowright:!0,arrowleft:!0,enter:!0,escape:!0,f2:!0,home:!0,end:!0,\"ctrl+home\":!0,\"ctrl+end\":!0,\"ctrl+z\":!0,\"ctrl+y\":!0};function Pe(r,{keys:e,exec:o}){if(!e)return;function t(a){const n=a.target;return n.tagName===\"INPUT\"||n.tagName===\"TEXTAREA\"||Ie(n,\"data-header-id\")?.classList.contains(\"wx-filter\")||!!n.closest(\".wx-cell.wx-editor\")}const i={};for(const a in e){const n=e[a];typeof n<\"u\"&&(typeof n==\"function\"?i[a]=n:n&&(i[a]=l=>{const c=t(l);o({key:a,event:l,isInput:c})}))}const s=De.subscribe(a=>{a.configure(i,r)});return{destroy:()=>{s()}}}function ze(r,e){let o=null;e.scroll.subscribe(t=>{if(!t||t===o)return;o=t;const{left:i,top:s,height:a,width:n}=t,l=e.getHeight(),c=e.getWidth(),d=e.getScrollMargin();if(s>=0){const h=r.scrollTop;s<h?r.scrollTop=s:s+a>h+l&&(r.scrollTop=s-l+a)}if(i>=0){const h=r.scrollLeft;i<h?r.scrollLeft=i:i+n>h+c-d&&(r.scrollLeft=i-c+n+d)}})}function T(r){return r.map(e=>{switch(e={...e},e.data&&(e.data=T(e.data)),e.items&&(e.data=T(e.items)),e.id){case\"move-item:up\":e.isDisabled=(o,t)=>Ae(o,t);break;case\"move-item:down\":e.isDisabled=(o,t)=>Le(o,t);break;case\"undo\":e.isDisabled=o=>!o.undo;break;case\"redo\":e.isDisabled=o=>!o.redo;break;case\"paste-row\":e.isDisabled=o=>!o._temp?.length;break}return e})}function Ae(r,e){return r.some(o=>e[0]?.id==o)}function Le(r,e){return r.some(o=>e[e.length-1]?.id==o)}const Ne=[{id:\"add-row\",comp:\"button\",icon:\"wxi-plus\",text:\"New row\",type:\"primary\"},{id:\"open-editor\",comp:\"icon\",icon:\"wxi-edit\",menuText:\"Edit\",text:\"Edit\"},{id:\"delete-row\",comp:\"icon\",icon:\"wxi-delete\",menuText:\"Delete\",text:\"Delete\"},{id:\"copy-row\",comp:\"icon\",icon:\"wxi-content-copy\",menuText:\"Copy\",text:\"Copy\"},{id:\"cut-row\",comp:\"icon\",icon:\"wxi-content-cut\",menuText:\"Cut\",text:\"Cut\"},{id:\"paste-row\",comp:\"icon\",icon:\"wxi-content-paste\",menuText:\"Paste\",text:\"Paste\"},{id:\"move-item:up\",comp:\"icon\",icon:\"wxi-angle-up\",menuText:\"Move up\",text:\"Move up\"},{id:\"move-item:down\",comp:\"icon\",icon:\"wxi-angle-down\",menuText:\"Move down\",text:\"Move down\"},{comp:\"separator\"},{id:\"undo\",comp:\"icon\",icon:\"wxi-undo\",menuText:\"Undo\",text:\"Ctrl+Z\"},{id:\"redo\",comp:\"icon\",icon:\"wxi-redo\",menuText:\"Redo\",text:\"Ctrl+Y\"}],Oe=[{id:\"add-row:before\",text:\"Add before\",icon:\"wxi-table-row-plus-before\"},{id:\"add-row:after\",text:\"Add after\",icon:\"wxi-table-row-plus-after\"},{id:\"copy-row\",text:\"Copy\",icon:\"wxi-content-copy\"},{id:\"cut-row\",text:\"Cut\",icon:\"wxi-content-cut\"},{id:\"paste-row\",text:\"Paste\",icon:\"wxi-content-paste\"},{id:\"move-item:up\",text:\"Move up\",icon:\"wxi-angle-up\"},{id:\"move-item:down\",text:\"Move down\",icon:\"wxi-angle-down\"},{comp:\"separator\"},{id:\"delete-row\",text:\"Delete\",icon:\"wxi-delete-outline\"}];function $e(r,e){const{selectedRows:o,data:t,focusCell:i}=r.getState();switch(e!==\"paste-row\"&&(r._temp=null),e){case\"add-row\":{o.length?o.forEach(s=>r.exec(\"add-row\",{row:{},after:s})):r.exec(\"add-row\",{row:{}});break}case\"add-row:before\":{o.forEach(s=>r.exec(\"add-row\",{row:{},before:s}));break}case\"add-row:after\":{o.forEach(s=>r.exec(\"add-row\",{row:{},after:s}));break}case\"open-editor\":{if(i&&o.includes(i.row)){const s=r.getColumn(i.column);r.exec(\"open-editor\",{id:i.row,column:s.editor?i.column:void 0})}else r.exec(\"open-editor\",{id:o[0]});break}case\"copy-row\":{o.forEach(s=>{r._temp||(r._temp=[]),r._temp.push({id:s,cut:!1})});break}case\"cut-row\":{o.forEach(s=>{r._temp||(r._temp=[]),r._temp.push({id:s,cut:!0})});break}case\"paste-row\":{r._temp?.length&&[...r._temp].sort((s,a)=>t.findIndex(n=>n.id==a.id)-t.findIndex(n=>n.id==s.id)).forEach((s,a)=>{o.forEach((n,l)=>{const c={id:s.id,target:n,mode:\"after\"};r.exec(s.cut?\"move-item\":\"copy-row\",c),s.cut||r.exec(\"select-row\",{id:c.id,toggle:!!a||!!l})})});break}case\"delete-row\":o.forEach(s=>r.exec(\"delete-row\",{id:s}));break;case\"move-item:up\":{[...o].sort((s,a)=>t.findIndex(n=>n.id==s)-t.findIndex(n=>n.id==a)).forEach(s=>{r.exec(\"move-item\",{id:s,mode:\"up\"})});break}case\"move-item:down\":{[...o].sort((s,a)=>t.findIndex(n=>n.id==a)-t.findIndex(n=>n.id==s)).forEach(s=>{r.exec(\"move-item\",{id:s,mode:\"down\"})});break}case\"undo\":r.exec(\"undo\");break;case\"redo\":r.exec(\"redo\");break}}export{Re as DataStore,T as assignChecks,Me as defaultHotkeys,Oe as defaultMenuOptions,Ne as defaultToolbarButtons,Z as getEditorConfig,ne as getHeaderFooterPrintColumns,de as getPrintCellStyle,re as getPrintColumns,he as getPrintFilterValue,b as getRenderValue,we as getStamp,S as getValue,$e as handleAction,Pe as hotkeys,O as isCommunity,ze as scrollTo};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 11429, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/grid-locales/locales/en.js"],"sourcesContent":["export default {\n\tgrid: {\n\t\t\"Add before\": \"Add before\",\n\t\t\"Add after\": \"Add after\",\n\t\tCopy: \"Copy\",\n\t\tCut: \"Cut\",\n\t\tPaste: \"Paste\",\n\t\tDelete: \"Delete\",\n\t\t\"New row\": \"New row\",\n\t\t\"Move up\": \"Move up\",\n\t\t\"Move down\": \"Move down\",\n\t\tUndo: \"Undo\",\n\t\tRedo: \"Redo\",\n\t},\n};\n"],"names":[],"mappings":";;;;uCAAe;IACd,MAAM;QACL,cAAc;QACd,aAAa;QACb,MAAM;QACN,KAAK;QACL,OAAO;QACP,QAAQ;QACR,WAAW;QACX,WAAW;QACX,aAAa;QACb,MAAM;QACN,MAAM;IACP;AACD","ignoreList":[0]}},
    {"offset": {"line": 11452, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/grid-locales/locales/cn.js"],"sourcesContent":["export default {\n\tgrid: {\n\t\t\"Add before\": \"\",\n\t\t\"Add after\": \"\",\n\t\tCopy: \"\",\n\t\tCut: \"\",\n\t\tPaste: \"\",\n\t\tDelete: \"\",\n\t\t\"New row\": \"\",\n\t\t\"Move up\": \"\",\n\t\t\"Move down\": \"\",\n\t\tUndo: \"\",\n\t\tRedo: \"\",\n\t},\n};\n"],"names":[],"mappings":";;;;uCAAe;IACd,MAAM;QACL,cAAc;QACd,aAAa;QACb,MAAM;QACN,KAAK;QACL,OAAO;QACP,QAAQ;QACR,WAAW;QACX,WAAW;QACX,aAAa;QACb,MAAM;QACN,MAAM;IACP;AACD","ignoreList":[0]}},
    {"offset": {"line": 11475, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/grid-locales/index.js"],"sourcesContent":["export { default as en } from \"./locales/en.js\";\nexport { default as cn } from \"./locales/cn.js\";\n"],"names":[],"mappings":";AAAA;AACA","ignoreList":[0]}},
    {"offset": {"line": 11493, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@svar-ui/react-menu/dist/index.es.js","sources":["file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-menu/src/helpers/index.js","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-menu/src/components/MenuOption.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-menu/src/components/Menu.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-menu/src/components/ActionMenu.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-menu/src/components/MenuBar.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-menu/src/components/DropDownMenu.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-menu/src/components/ContextMenu.jsx"],"sourcesContent":["export function walkData(data, cb) {\n  data.forEach((a) => {\n    cb(a);\n    if (a.data && a.data.length) walkData(a.data, cb);\n  });\n}\n\nexport function mapData(data, cb) {\n  return data.map((a) => {\n    const out = cb(a);\n    if (a.data && a.data.length) out.data = mapData(a.data, cb);\n    return out;\n  });\n}\n\nexport function filterMenu(data, cb) {\n  const out = [];\n  data.forEach((a) => {\n    if (a.data) {\n      const sub = filterMenu(a.data, cb);\n      if (sub.length) out.push({ ...a, data: sub });\n    } else {\n      if (cb(a)) out.push(a);\n    }\n  });\n\n  return out;\n}\n\nlet uid = 1;\nexport function prepareMenuData(data) {\n  return mapData(data, (a) => {\n    // [deprecated] option.type to be deprecated in 3.0\n    const opt = { ...a, id: a.id || uid++ };\n    if (opt.type) opt.comp = opt.type;\n    return opt;\n  });\n}\n\nconst handlers = {};\nexport function getItemHandler(type) {\n  return handlers[type] || type;\n}\nexport function registerMenuItem(type, handler) {\n  handlers[type] = handler;\n}\n","import { useMemo, useRef, useCallback } from 'react';\nimport { getItemHandler } from '../helpers';\nimport './MenuOption.css';\n\nfunction MenuOption({ onClick, onShow, option }) {\n  const element = useRef(null);\n\n  const onHover = useCallback(() => {\n    onShow(option.data ? option.id : false, element.current);\n  }, [onShow, option]);\n\n  const SubComponent = useMemo(() => {\n    return option && option.comp ? getItemHandler(option.comp) : null;\n  }, [option]);\n\n  return (\n    <div\n      ref={element}\n      className={`wx-cDCz9rZQ wx-option ${option.css || ''} ${option.disabled ? 'wx-disabled' : ''}`}\n      data-id={option.id}\n      onMouseEnter={onHover}\n      onClick={onClick}\n    >\n      {option.icon ? (\n        <i className={`wx-cDCz9rZQ wx-icon ${option.icon}`}></i>\n      ) : null}\n      {option.comp ? (\n        SubComponent ? (\n          <SubComponent item={option} option={option} />\n        ) : null\n      ) : (\n        <span className=\"wx-cDCz9rZQ wx-value\"> {option.text} </span>\n      )}\n      {option.subtext ? (\n        <span className=\"wx-cDCz9rZQ wx-subtext\">{option.subtext}</span>\n      ) : null}\n      {option.data ? (\n        <i className=\"wx-cDCz9rZQ wx-sub-icon wxi-angle-right\"></i>\n      ) : null}\n    </div>\n  );\n}\n\nexport default MenuOption;\n","import {\n  Fragment,\n  useState,\n  useEffect,\n  useMemo,\n  useRef,\n  useCallback,\n} from 'react';\nimport { clickOutside, calculatePosition } from '@svar-ui/lib-dom';\nimport MenuOption from './MenuOption.jsx';\nimport { prepareMenuData } from '../helpers';\nimport './Menu.css';\n\nfunction Menu({\n  options,\n  left = 0,\n  top = 0,\n  at = 'bottom',\n  parent = null,\n  mount = null,\n  context = null,\n  css = '',\n  onClick,\n}) {\n  const [x, setX] = useState(-10000);\n  const [y, setY] = useState(-10000);\n  const [z, setZ] = useState(20);\n  const [width, setWidth] = useState();\n\n  const selfRef = useRef(null);\n  const [showSub, setShowSub] = useState(false);\n  const [activeOption, setActiveOption] = useState(null);\n\n  const updatePosition = useCallback(() => {\n    const result = calculatePosition(selfRef.current, parent, at, left, top);\n    if (result) {\n      setX(result.x);\n      setY(result.y);\n      setZ(result.z);\n      setWidth(result.width);\n    }\n  }, [parent, at, left, top]);\n\n  useEffect(() => {\n    if (mount) mount(updatePosition);\n  }, []);\n\n  const onLeave = useCallback(() => {\n    setShowSub(false);\n  }, []);\n\n  const cancel = useCallback(() => {\n    // [deprecated] action will be deprecated in 3.0\n    onClick && onClick({ action: null, option: null });\n  }, [onClick]);\n\n  const onShow = useCallback((id, el) => {\n    setShowSub(id);\n    setActiveOption(el);\n  }, []);\n\n  const finalOptions = useMemo(() => prepareMenuData(options), [options]);\n\n  useEffect(() => {\n    updatePosition();\n  }, [parent, updatePosition]);\n\n  useEffect(() => {\n    if (!selfRef.current) return;\n    return clickOutside(selfRef.current, { callback: cancel, modal: true })\n      .destroy;\n  }, [cancel]);\n\n  return (\n    <div\n      ref={selfRef}\n      data-wx-menu=\"true\"\n      className={`wx-XMmAGqVx wx-menu ${css}`}\n      style={{\n        position: 'absolute',\n        top: y + 'px',\n        left: x + 'px',\n        width: width,\n        zIndex: z,\n      }}\n      onMouseLeave={onLeave}\n    >\n      {finalOptions.map((option) => (\n        <Fragment key={option.id}>\n          {option.comp === 'separator' ? (\n            <div className=\"wx-XMmAGqVx wx-separator\"></div>\n          ) : (\n            <MenuOption\n              option={option}\n              onShow={onShow}\n              onClick={(ev) => {\n                if (!option.data && !ev.defaultPrevented) {\n                  // [deprecated] action will be deprecated in 3.0\n                  const pack = { context, action: option, option, event: ev };\n                  if (option.handler) option.handler(pack);\n                  onClick && onClick(pack);\n                  ev.stopPropagation();\n                }\n              }}\n            />\n          )}\n          {option.data && showSub === option.id ? (\n            <Menu\n              css={css}\n              options={option.data}\n              at=\"right-overlap\"\n              parent={activeOption}\n              context={context}\n              onClick={onClick}\n            />\n          ) : null}\n        </Fragment>\n      ))}\n    </div>\n  );\n}\n\nexport default Menu;\n","import {\n  forwardRef,\n  useCallback,\n  useImperativeHandle,\n  useMemo,\n  useState,\n} from 'react';\nimport { Portal } from '@svar-ui/react-core';\nimport { id } from '@svar-ui/lib-dom';\nimport Menu from './Menu.jsx';\nimport { filterMenu } from '../helpers';\n\nconst ActionMenu = forwardRef(function ActionMenu(props, ref) {\n  const {\n    options,\n    at = 'bottom',\n    resolver = null,\n    dataKey = 'contextId',\n    filter = null,\n    css = '',\n    children,\n    onClick,\n  } = props;\n\n  const [item, setItem] = useState(null);\n  const [parent, setParent] = useState(null);\n  const [left, setLeft] = useState(0);\n  const [top, setTop] = useState(0);\n\n  const filteredOptions = useMemo(() => {\n    if (item !== null && filter) {\n      return filterMenu(options, (v) => filter(v, item));\n    }\n    return options;\n  }, [item, filter, options]);\n\n  const handleClick = useCallback(\n    (ev) => {\n      setParent(null);\n      if (onClick) onClick(ev);\n    },\n    [onClick],\n  );\n\n  const getDataAttr = useCallback((node, name) => {\n    let v = null;\n    while (node && node.dataset && !v) {\n      v = node.dataset[name];\n      node = node.parentNode;\n    }\n    return v ? id(v) : null;\n  }, []);\n\n  const show = useCallback(\n    (ev, obj) => {\n      if (!ev) {\n        setParent(null);\n        return;\n      }\n\n      if (ev.defaultPrevented) return;\n\n      const target = ev.target;\n      if (target && target.dataset && target.dataset.menuIgnore) return;\n\n      setLeft(ev.clientX + 1);\n      setTop(ev.clientY + 1);\n\n      let nextItem =\n        typeof obj !== 'undefined' ? obj : getDataAttr(target, dataKey);\n      if (resolver) {\n        nextItem = resolver(nextItem, ev);\n        if (!nextItem) return;\n      }\n\n      setItem(nextItem);\n      setParent(target);\n\n      ev.preventDefault();\n    },\n    [dataKey, getDataAttr, resolver],\n  );\n\n  useImperativeHandle(ref, () => ({ show }), [show]);\n\n  return (\n    <>\n      {children ? (\n        <span onClick={show} data-menu-ignore=\"true\">\n          {typeof children === 'function' ? children() : children}\n        </span>\n      ) : null}\n\n      {parent ? (\n        <Portal>\n          <Menu\n            key={parent}\n            css={css}\n            at={at}\n            top={top}\n            left={left}\n            parent={parent}\n            context={item}\n            onClick={handleClick}\n            options={filteredOptions}\n          />\n        </Portal>\n      ) : null}\n    </>\n  );\n});\n\nexport default ActionMenu;\n","import { useMemo, useState, useRef } from 'react';\nimport ActionMenu from './ActionMenu.jsx';\nimport { prepareMenuData } from '../helpers';\nimport './MenuBar.css';\n\nfunction MenuBar(props) {\n  const { css = '', menuCss = '', options, onClick } = props;\n\n  const finalOptions = useMemo(() => prepareMenuData(options), [options]);\n\n  const [active, setActive] = useState(false);\n  const [menuOptions, setMenuOptions] = useState([]);\n\n  const menu = useRef(null);\n\n  function doClick(ev) {\n    setActive(null);\n    onClick && onClick(ev);\n  }\n\n  function setMenu(ev, option, trigger) {\n    // if the option has a submenu, show it and enable hover mode\n    if (option.data && option.data.length) {\n      if (active && trigger) {\n        // second click on option with submenu disables hover mode\n        setActive(null);\n      } else {\n        setMenuOptions(option.data);\n        setActive(option.id);\n        menu.current.show(ev, option);\n      }\n    } else {\n      // hide the submenu\n      menu.current.show(null);\n      // if it was the click action, dispatch it and end hover mode\n      if (trigger) {\n        // [deprecated] action will be deprecated in 3.0\n        onClick && onClick({ action: option, option });\n        setActive(null);\n      } else {\n        // do not remove active flag, to preserve the hover mode\n        setActive(-1);\n      }\n    }\n  }\n\n  function onHover(ev, option) {\n    if (active) setMenu(ev, option);\n  }\n\n  return (\n    <>\n      <div className={`wx-UfhPCLL4 wx-menubar ${css}`}>\n        {finalOptions.map((option) => (\n          <button\n            key={option.id}\n            className={`wx-UfhPCLL4 wx-option ${active === option.id ? 'wx-active' : ''} ${option.disabled ? 'wx-disabled' : ''}`}\n            onMouseEnter={(ev) => onHover(ev, option)}\n            onClick={(ev) => setMenu(ev, option, true)}\n          >\n            {option.text}\n          </button>\n        ))}\n      </div>\n\n      <ActionMenu\n        css={menuCss}\n        onClick={doClick}\n        options={menuOptions}\n        ref={menu}\n      />\n    </>\n  );\n}\n\nexport default MenuBar;\n","import {\n  forwardRef,\n  useCallback,\n  useEffect,\n  useImperativeHandle,\n  useRef,\n  useState,\n} from 'react';\nimport { Portal } from '@svar-ui/react-core';\nimport Menu from './Menu.jsx';\n\nconst DropDownMenu = forwardRef(function DropDownMenu(props, ref) {\n  const { options, at = 'bottom', css = '', children, onClick } = props;\n\n  const [parent, setParent] = useState(null);\n\n  function handleClick(ev) {\n    setParent(null);\n    onClick && onClick(ev);\n  }\n\n  const show = useCallback((ev) => {\n    setParent(ev.target);\n    ev.preventDefault();\n  }, []);\n\n  useImperativeHandle(ref, () => ({ show }), [show]);\n\n  function showAt(ev) {\n    let target = ev.target;\n    while (!target.dataset.menuIgnore) {\n      setParent(target);\n      target = target.parentNode;\n    }\n  }\n\n  const parentKeyRef = useRef(0);\n  const lastParentRef = useRef(parent);\n  useEffect(() => {\n    if (lastParentRef.current !== parent) {\n      parentKeyRef.current += 1;\n      lastParentRef.current = parent;\n    }\n  }, [parent]);\n\n  return (\n    <>\n      <span onClick={showAt} data-menu-ignore=\"true\">\n        {children}\n      </span>\n      {parent ? (\n        <Portal>\n          <Menu\n            key={parentKeyRef.current}\n            css={css}\n            at={at}\n            parent={parent}\n            options={options}\n            onClick={handleClick}\n          />\n        </Portal>\n      ) : null}\n    </>\n  );\n});\n\nexport default DropDownMenu;\n","import { forwardRef, useRef, useCallback, useImperativeHandle } from 'react';\nimport ActionMenu from './ActionMenu.jsx';\n\nconst ContextMenu = forwardRef(function ContextMenu(props, ref) {\n  const {\n    options,\n    at = 'bottom',\n    resolver = null,\n    dataKey = 'contextId',\n    filter = null,\n    css = '',\n    children,\n    onClick,\n  } = props;\n\n  const menu = useRef(null);\n\n  const show = useCallback((ev, obj) => {\n    menu.current.show(ev, obj);\n  }, []);\n\n  useImperativeHandle(\n    ref,\n    () => ({\n      show,\n    }),\n    [show],\n  );\n\n  return (\n    <>\n      {children ? (\n        <span onContextMenu={show} data-menu-ignore=\"true\">\n          {children}\n        </span>\n      ) : null}\n\n      <ActionMenu\n        css={css}\n        at={at}\n        options={options}\n        resolver={resolver}\n        dataKey={dataKey}\n        filter={filter}\n        ref={menu}\n        onClick={onClick}\n      />\n    </>\n  );\n});\n\nexport default ContextMenu;\n"],"names":["mapData","data","cb","a","out","filterMenu","sub","uid","prepareMenuData","opt","handlers","getItemHandler","type","registerMenuItem","handler","MenuOption","onClick","onShow","option","element","useRef","onHover","useCallback","SubComponent","useMemo","jsxs","jsx","Menu","options","left","top","at","parent","mount","context","css","x","setX","useState","y","setY","z","setZ","width","setWidth","selfRef","showSub","setShowSub","activeOption","setActiveOption","updatePosition","result","calculatePosition","useEffect","onLeave","cancel","id","el","finalOptions","clickOutside","Fragment","ev","pack","ActionMenu","forwardRef","props","ref","resolver","dataKey","filter","children","item","setItem","setParent","setLeft","setTop","filteredOptions","v","handleClick","getDataAttr","node","name","show","obj","target","nextItem","useImperativeHandle","Portal","MenuBar","menuCss","active","setActive","menuOptions","setMenuOptions","menu","doClick","setMenu","trigger","DropDownMenu","showAt","parentKeyRef","lastParentRef","ContextMenu"],"mappings":"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"}},
    {"offset": {"line": 11837, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@svar-ui/react-toolbar/dist/index.es.js","sources":["file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-toolbar/src/helpers.js","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-toolbar/src/buttons/Separator.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-toolbar/src/buttons/Spacer.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-toolbar/src/components/BarComponent.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-toolbar/src/components/Group.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-toolbar/src/components/Menu.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-toolbar/src/components/Toolbar.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-toolbar/src/buttons/Button.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-toolbar/src/buttons/Label.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-toolbar/src/buttons/Icon.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-toolbar/src/buttons/Item.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-toolbar/src/index.js"],"sourcesContent":["const handlers = {};\nexport function getItemHandler(type) {\n  return handlers[type] || type;\n}\nexport function registerToolbarItem(type, handler) {\n  handlers[type] = handler;\n}\n","import './Separator.css';\n\nexport default function Separator({ menu = false }) {\n  return (\n    <div className={`wx-z1qpqrvg wx-separator${menu ? '-menu' : ''}`}>\n      &nbsp;\n    </div>\n  );\n}\n","import './Spacer.css';\n\nfunction Spacer() {\n  return <div className=\"wx-1IhFzpJV wx-spacer\"></div>;\n}\n\nexport default Spacer;\n","import { useMemo, useCallback } from 'react';\nimport { getItemHandler } from '../helpers';\nimport Separator from '../buttons/Separator.jsx';\nimport Spacer from '../buttons/Spacer.jsx';\nimport './BarComponent.css';\n\n// eslint-disable-next-line no-unused-vars\nconst omitKey = ({ key, text, ...rest }) => rest;\n\nfunction BarComponent(props) {\n  const { item = {}, menu = false, values, onClick, onChange } = props;\n\n  const itemComponent = useMemo(\n    () => getItemHandler(item.comp || 'label'),\n    [item],\n  );\n\n  const handleClick = useCallback(() => {\n    if (item && item.handler) item.handler(item);\n    if (onClick) onClick({ item });\n  }, [item, onClick]);\n\n  const value = useMemo(() => {\n    return item && item.key\n      ? values\n        ? values[item.key]\n        : undefined\n      : undefined;\n  }, [item, values]);\n\n  const detectChange = useCallback(\n    ({ value }) => {\n      if (item && item.handler) item.handler(item, value);\n      if (onChange) onChange({ value, item });\n    },\n    [item, onChange],\n  );\n\n  const text = useMemo(() => {\n    return menu\n      ? item\n        ? item.menuText || item.text\n        : undefined\n      : item\n        ? item.text\n        : undefined;\n  }, [menu, item]);\n\n  if (item && item.comp == 'spacer') {\n    return <Spacer />;\n  } else if (item && item.comp == 'separator') {\n    return <Separator menu={menu} />;\n  } else {\n    const ReactComponent = itemComponent;\n    const className = [\n      'wx-tb-element',\n      item && item.css ? item.css : '',\n      item && item.spacer ? 'wx-spacer' : '',\n      menu ? 'wx-menu' : '',\n    ]\n      .filter(Boolean)\n      .join(' ');\n\n    return (\n      <div\n        className={'wx-KVAsgMam ' + className}\n        data-id={item ? item.id : undefined}\n      >\n        <ReactComponent\n          value={value}\n          onChange={detectChange}\n          onClick={handleClick}\n          text={text}\n          menu={menu}\n          {...omitKey(item)}\n        />\n      </div>\n    );\n  }\n}\n\nexport default BarComponent;\n","import { useState } from 'react';\nimport BarComponent from './BarComponent.jsx';\nimport { Dropdown } from '@svar-ui/react-core';\nimport './Group.css';\n\nexport default function Group({\n  item,\n  values = null,\n  menu = false,\n  onChange,\n  onClick,\n}) {\n  const [collapsedState, setCollapsedState] = useState(true);\n\n  const oncancel = () => setCollapsedState(true);\n  const show = () => setCollapsedState(false);\n\n  const handleClick = (ev) => {\n    oncancel();\n    onClick && onClick(ev);\n  };\n\n  const rootClassName = [\n    'wx-wSVFAGym',\n    'wx-tb-group',\n    item.css || '',\n    item.layout == 'column' ? 'wx-column' : '',\n    item.collapsed && !menu ? 'wx-group-collapsed' : '',\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  return (\n    <div className={rootClassName}>\n      {item.collapsed && !menu ? (\n        <>\n          <div className=\"wx-wSVFAGym wx-collapsed\" onClick={show}>\n            {item.icon ? (\n              <i className={`wx-wSVFAGym icon ${item.icon}`}></i>\n            ) : null}\n            {item.text ? (\n              <div className=\"wx-wSVFAGym wx-label-text\">{item.text}</div>\n            ) : null}\n            {item.text && !item.icon ? (\n              <i className=\"wx-wSVFAGym wx-label-arrow wxi-angle-down\"></i>\n            ) : null}\n          </div>\n          {!collapsedState ? (\n            <Dropdown width=\"\" oncancel={oncancel}>\n              <div className=\"wx-wSVFAGym wx-drop-group\">\n                <Group\n                  item={{ ...item, text: '', collapsed: false }}\n                  values={values}\n                  menu={menu}\n                  onChange={onChange}\n                  onClick={handleClick}\n                />\n              </div>\n            </Dropdown>\n          ) : null}\n        </>\n      ) : (\n        <>\n          <div className=\"wx-wSVFAGym wx-tb-body\">\n            {item.items.map((sub, index) =>\n              sub.items ? (\n                <Group\n                  key={sub.id || index}\n                  item={sub}\n                  values={values}\n                  onClick={handleClick}\n                  onChange={onChange}\n                />\n              ) : (\n                <BarComponent\n                  key={sub.id || index}\n                  item={sub}\n                  values={values}\n                  onClick={handleClick}\n                  onChange={onChange}\n                />\n              ),\n            )}\n          </div>\n          {item.text ? (\n            <div className=\"wx-wSVFAGym wx-label\">{item.text}</div>\n          ) : null}\n        </>\n      )}\n    </div>\n  );\n}\n","import { useState, useRef } from 'react';\nimport BarComponent from './BarComponent.jsx';\nimport Group from './Group.jsx';\nimport { Dropdown, Button } from '@svar-ui/react-core';\nimport './Menu.css';\n\nfunction Menu({ items = [], css, values, width, onClick, onChange }) {\n  const [popup, setPopup] = useState(undefined);\n  const div = useRef(null);\n\n  function onCancel() {\n    setPopup(null);\n  }\n  function showMenu() {\n    setPopup(true);\n  }\n  function menuClick(ev) {\n    onCancel();\n    onClick && onClick(ev);\n  }\n\n  return (\n    <div\n      className={`wx-Yo6BuX0p wx-menu ${css || ''}`}\n      ref={div}\n      data-id=\"$menu\"\n    >\n      <Button icon=\"wxi-dots-h\" onClick={showMenu} />\n      {popup ? (\n        <Dropdown width={`${width}px`} onCancel={onCancel}>\n          <div className=\"wx-Yo6BuX0p wx-drop-menu\">\n            {items.map((item, index) =>\n              item.items ? (\n                <Group\n                  key={item.id || index}\n                  item={item}\n                  values={values}\n                  menu={true}\n                  onClick={menuClick}\n                  onChange={onChange}\n                />\n              ) : (\n                <BarComponent\n                  key={item.id || index}\n                  item={item}\n                  values={values}\n                  menu={true}\n                  onClick={menuClick}\n                  onChange={onChange}\n                />\n              ),\n            )}\n          </div>\n        </Dropdown>\n      ) : null}\n    </div>\n  );\n}\n\nexport default Menu;\n","import { useState, useEffect, useMemo, useRef } from 'react';\nimport Menu from './Menu.jsx';\nimport Group from './Group.jsx';\nimport BarComponent from './BarComponent.jsx';\n\nimport { uid } from '@svar-ui/lib-dom';\nimport { useWritableProp } from '@svar-ui/lib-react';\nimport './Toolbar.css';\n\nfunction normalize(list) {\n  list.forEach((item) => {\n    if (!item.id) item.id = uid();\n  });\n  return list;\n}\n\nfunction Toolbar(props) {\n  const {\n    items: itemsProp,\n    menuCss = '',\n    css = '',\n    values: valuesProp,\n    overflow = 'menu',\n    onClick,\n    onChange,\n  } = props;\n\n  const [items, setItems] = useWritableProp(itemsProp || []);\n  const [values, setValues] = useWritableProp(valuesProp || null);\n\n  const visibleItems = useMemo(() => normalize(items), [items]);\n\n  const divRef = useRef(null);\n  const lastToolbarStateRef = useRef(-1);\n\n  const [menuItems, setMenuItems] = useState([]);\n\n  // refs to keep latest values for callbacks created once\n  const itemsRef = useRef(visibleItems);\n  useEffect(() => {\n    itemsRef.current = visibleItems;\n  }, [items]);\n\n  const overflowRef = useRef(overflow);\n  useEffect(() => {\n    overflowRef.current = overflow;\n  }, [overflow]);\n\n  const menuItemsRef = useRef(menuItems);\n  useEffect(() => {\n    menuItemsRef.current = menuItems;\n  }, [menuItems]);\n\n  const scheduleOverflowCheckRef = useRef(false);\n\n  function handleChange(ev) {\n    if (values) {\n      values[ev.item.key] = ev.value;\n      // trigger update similar to `values = values;`\n      setValues({ ...values });\n    }\n    onChange && onChange(ev);\n  }\n\n  function getTotalWidth() {\n    const div = divRef.current;\n    if (!div) return 0;\n    const nodes = div.children;\n    const it = itemsRef.current || [];\n    let sum = 0;\n    for (let i = 0; i < it.length; i++) {\n      if (it[i].comp !== 'spacer') {\n        sum += nodes[i].clientWidth;\n        if (it[i].comp === 'separator') sum += 8;\n      }\n    }\n    return sum;\n  }\n\n  function collapseGroups() {\n    const div = divRef.current;\n    const it = itemsRef.current || [];\n    if (!div) return;\n\n    for (let i = it.length - 1; i >= 0; i--) {\n      if (it[i].items && !it[i].collapsed) {\n        it[i].collapsed = true;\n        it[i].$width = div.children[i].offsetWidth;\n        // schedule after DOM update\n        scheduleOverflowCheckRef.current = true;\n\n        // trigger update similar to `items = [...items];`\n        setItems([...it]);\n        return;\n      }\n    }\n  }\n\n  function expandGroups(freeSpace) {\n    const div = divRef.current;\n    const it = itemsRef.current || [];\n    if (!div) return;\n\n    for (let i = 0; i < it.length; i++) {\n      if (it[i].collapsed && it[i].$width) {\n        if (it[i].$width - div.children[i].offsetWidth < freeSpace + 10) {\n          it[i].collapsed = false;\n          // schedule after DOM update\n          scheduleOverflowCheckRef.current = true;\n        }\n\n        setItems([...it]);\n        return;\n      }\n    }\n  }\n\n  function processOverflow() {\n    const div = divRef.current;\n    if (!div) return;\n    const it = itemsRef.current || [];\n    const ov = overflowRef.current;\n\n    if (ov === 'wrap') return;\n\n    const visibleWidth = div.clientWidth;\n    const fullWidth = div.scrollWidth;\n    const needMenu = fullWidth > visibleWidth;\n\n    if (needMenu) {\n      if (ov === 'collapse') return collapseGroups(visibleWidth);\n      const nodes = div.children;\n      let sum = 0;\n\n      for (let i = 0; i < it.length; i++) {\n        sum += nodes[i].clientWidth;\n        if (it[i].comp === 'separator') sum += 8;\n        if (sum > visibleWidth - 40) {\n          if (lastToolbarStateRef.current === i) return;\n          lastToolbarStateRef.current = i;\n\n          const newMenuItems = [];\n          for (let j = i; j < it.length; j++) {\n            newMenuItems.push(it[j]);\n            nodes[j].style.visibility = 'hidden';\n          }\n          if (i > 0 && it[i - 1].comp === 'separator') {\n            nodes[i - 1].style.visibility = 'hidden';\n          }\n          setMenuItems(newMenuItems);\n          break;\n        }\n        nodes[i].style.visibility = '';\n      }\n    } else {\n      const freeWidth = visibleWidth - getTotalWidth();\n      if (freeWidth <= 0) return;\n      if (ov === 'collapse') return expandGroups(freeWidth);\n\n      if ((menuItemsRef.current || []).length) {\n        lastToolbarStateRef.current = null;\n        const nodes = div.children;\n        for (let i = 0; i < it.length; i++) {\n          nodes[i].style.visibility = '';\n        }\n        setMenuItems([]);\n      }\n    }\n  }\n\n  // run processOverflow after DOM updates triggered by collapse/expand\n  useEffect(() => {\n    if (scheduleOverflowCheckRef.current) {\n      scheduleOverflowCheckRef.current = false;\n      processOverflow();\n    }\n  }, [items]);\n\n  useEffect(() => {\n    const ro = new ResizeObserver(() => processOverflow());\n    if (divRef.current) ro.observe(divRef.current);\n\n    return () => {\n      ro.disconnect();\n    };\n  }, []);\n\n  return (\n    <div\n      className={`wx-VdPSJj8y wx-toolbar ${css || ''} ${overflow === 'wrap' ? 'wx-wrap' : ''}`}\n      ref={divRef}\n    >\n      {visibleItems.map((item) =>\n        item.items ? (\n          <Group\n            key={item.id}\n            item={item}\n            values={values}\n            onClick={onClick}\n            onChange={handleChange}\n          />\n        ) : (\n          <BarComponent\n            key={item.id}\n            item={item}\n            values={values}\n            onClick={onClick}\n            onChange={handleChange}\n          />\n        ),\n      )}\n      {!!menuItems.length && (\n        <Menu\n          items={menuItems}\n          css={menuCss}\n          values={values}\n          onClick={onClick}\n          onChange={handleChange}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default Toolbar;\n","import { Button as CoreButton } from '@svar-ui/react-core';\nimport './Button.css';\n\nfunction Button(props) {\n  const { icon, text = '', css, type, disabled, menu, onClick } = props;\n\n  if (menu) {\n    return (\n      <div className=\"wx-HXpG4gnx wx-item\" onClick={onClick}>\n        <i className={`wx-HXpG4gnx ${icon || 'wxi-empty'} ${css || ''}`} />\n        {text}\n      </div>\n    );\n  }\n\n  return (\n    <CoreButton\n      icon={icon}\n      type={type}\n      css={css}\n      text={text}\n      disabled={disabled}\n      onClick={onClick}\n    />\n  );\n}\n\nexport default Button;\n","import './Label.css';\n\nexport default function Label(props) {\n  const { text, value, children } = props;\n\n  if (children) {\n    return <div className=\"wx-PTEZGYcj wx-label\">{children()}</div>;\n  } else {\n    return <div className=\"wx-PTEZGYcj wx-label\">{value || text}</div>;\n  }\n}\n","import { Button } from '@svar-ui/react-core';\nimport './Icon.css';\n\nexport default function Icon(props) {\n  const { icon, text, css, type, disabled, menu, onClick } = props;\n\n  if (menu) {\n    return (\n      <div className=\"wx-3cuSqONJ wx-item\" onClick={onClick}>\n        {icon ? (\n          <i className={`wx-3cuSqONJ ${icon || ''} ${css || ''}`}></i>\n        ) : null}\n        {text}\n      </div>\n    );\n  }\n\n  return (\n    <Button\n      icon={icon}\n      type={type}\n      css={css}\n      title={text}\n      disabled={disabled}\n      onClick={onClick}\n    />\n  );\n}\n","import './Item.css';\n\nfunction Item({ id = '', text = '', css = '', icon = '', onClick }) {\n  function handleClick() {\n    onClick && onClick({ id });\n  }\n\n  return (\n    <div className={`wx-U0Bx7pIR wx-label ${css}`} onClick={handleClick}>\n      {icon ? <i className={'wx-U0Bx7pIR ' + icon}></i> : null}\n      {text}\n    </div>\n  );\n}\n\nexport default Item;\n","import Toolbar from './components/Toolbar.jsx';\nimport { registerToolbarItem } from './helpers.js';\n\nimport Separator from './buttons/Separator.jsx';\nimport Spacer from './buttons/Spacer.jsx';\nimport Button from './buttons/Button.jsx';\nimport Label from './buttons/Label.jsx';\nimport Icon from './buttons/Icon.jsx';\nimport Item from './buttons/Item.jsx';\n\nregisterToolbarItem('button', Button);\nregisterToolbarItem('separator', Separator);\nregisterToolbarItem('spacer', Spacer);\nregisterToolbarItem('label', Label);\nregisterToolbarItem('item', Item);\nregisterToolbarItem('icon', Icon);\n\nexport { Toolbar, registerToolbarItem };\n"],"names":["handlers","getItemHandler","type","registerToolbarItem","handler","Separator","menu","jsx","Spacer","omitKey","key","text","rest","BarComponent","props","item","values","onClick","onChange","itemComponent","useMemo","handleClick","useCallback","value","detectChange","ReactComponent","className","Group","collapsedState","setCollapsedState","useState","oncancel","show","ev","rootClassName","jsxs","Fragment","Dropdown","sub","index","Menu","items","css","width","popup","setPopup","div","useRef","onCancel","showMenu","menuClick","Button","normalize","list","uid","Toolbar","itemsProp","menuCss","valuesProp","overflow","setItems","useWritableProp","setValues","visibleItems","divRef","lastToolbarStateRef","menuItems","setMenuItems","itemsRef","useEffect","overflowRef","menuItemsRef","scheduleOverflowCheckRef","handleChange","getTotalWidth","nodes","it","sum","i","collapseGroups","expandGroups","freeSpace","processOverflow","ov","visibleWidth","newMenuItems","j","freeWidth","ro","icon","disabled","CoreButton","Label","children","Icon","Item","id"],"mappings":"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"}},
    {"offset": {"line": 12246, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@svar-ui/react-grid/dist/index.es.js","sources":["file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-grid/src/context.js","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-grid/src/helpers/actions/onresize.js","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-grid/src/helpers/actions/reorder.js","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-grid/src/helpers/actions/dragscroll.js","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-grid/src/helpers/columnWidth.js","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-grid/src/components/Cell.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-grid/src/helpers/actions/resize.js","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-grid/src/components/inlineFilters/Text.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-grid/src/components/inlineFilters/Richselect.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-grid/src/components/inlineFilters/filters.js","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-grid/src/components/inlineFilters/Filter.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-grid/src/components/HeaderCell.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-grid/src/components/FooterCell.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-grid/src/components/HeaderFooter.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-grid/src/components/Overlay.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-grid/src/components/inlineEditors/Text.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-grid/src/components/inlineEditors/Combo.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-grid/src/components/inlineEditors/Datepicker.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-grid/src/components/inlineEditors/Richselect.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-grid/src/components/inlineEditors/editors.js","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-grid/src/components/inlineEditors/Editor.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-grid/src/components/print/HeaderFooter.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-grid/src/components/print/Grid.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-grid/src/components/print/Print.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-grid/src/components/Layout.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-grid/src/components/Grid.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-grid/src/components/menus/HeaderMenuItem.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-grid/src/components/menus/HeaderMenu.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-grid/src/components/Tooltip.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-grid/src/components/menus/ContextMenu.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-grid/src/components/Toolbar.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-grid/src/themes/Material.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-grid/src/themes/Willow.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-grid/src/themes/WillowDark.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-grid/src/index.js"],"sourcesContent":["import { createContext } from 'react';\n\nconst store = createContext(null);\nexport default store;\n","export function onresize(node, handler) {\n  const ro = new ResizeObserver((data) => {\n    requestAnimationFrame(() => handler(data[0].contentRect));\n  });\n\n  ro.observe(node.parentNode);\n\n  return {\n    destroy() {\n      ro.disconnect();\n    },\n  };\n}\n","import { locate, id } from '@svar-ui/lib-dom';\n\nconst SHIFT = 5;\nconst LONG_TOUCH_DELAY = 700;\n\nfunction getID(node) {\n  return id(node.getAttribute('data-id'));\n}\n\nexport function getOffset(node) {\n  const box = node.getBoundingClientRect();\n  const body = document.body;\n  const top = box.top + body.scrollTop - body.clientTop || 0;\n  const left = box.left + body.scrollLeft - body.clientLeft || 0;\n  return {\n    y: Math.round(top),\n    x: Math.round(left),\n    width: node.offsetWidth,\n    height: node.offsetHeight,\n  };\n}\n\nexport function getPos(ev, node) {\n  const offset = getOffset(node);\n  return { x: ev.clientX - offset.x, y: ev.clientY - offset.y };\n}\n\nexport function reorder(node, config) {\n  const cfg = config.current;\n  let context = null;\n  let touchTimer, startPos;\n  let started = false,\n    touched = false;\n  const container = document.createElement('DIV');\n  container.className = 'wx-drag-zone';\n  container.setAttribute('tabindex', -1);\n\n  function resetTimer() {\n    clearTimeout(touchTimer);\n    touchTimer = null;\n  }\n\n  function down(ev) {\n    const source = locate(ev);\n    if (!source) return;\n\n    context = {\n      container,\n      sourceNode: ev.target,\n      from: getID(source),\n      pos: getPos(ev, node),\n    };\n    startPos = context.pos;\n    move(ev);\n  }\n\n  function move(ev) {\n    if (!context) return;\n    const p = (context.pos = getPos(ev, node));\n\n    if (!started) {\n      if (\n        !touched &&\n        !ev?.target?.getAttribute('draggable-data') &&\n        Math.abs(startPos.x - p.x) < SHIFT &&\n        Math.abs(startPos.y - p.y) < SHIFT\n      )\n        return;\n      else {\n        if (start(ev) === false) return end();\n      }\n    }\n\n    if (touched) {\n      const scrollLeft =\n        window.scrollX ||\n        document.documentElement.scrollLeft ||\n        document.body.scrollLeft;\n      const scrollTop =\n        window.scrollY ||\n        document.documentElement.scrollTop ||\n        document.body.scrollTop;\n\n      context.targetNode = document.elementFromPoint(\n        ev.pageX - scrollLeft,\n        ev.pageY - scrollTop,\n      );\n    } else context.targetNode = ev.target;\n\n    if (cfg.move) cfg.move(ev, context);\n\n    container.style.left = -(context.offset ? context.offset.x : 0) + 'px';\n    container.style.top =\n      context.pos.y + (context.offset ? context.offset.y : 0) + 'px';\n  }\n\n  function up(ev) {\n    if (container.parentNode) container.parentNode.removeChild(container);\n    container.innerHTML = '';\n\n    if (started && cfg.end) cfg.end(ev, context);\n    context = startPos = null;\n\n    end();\n  }\n\n  function handleMouseDown(ev) {\n    if (cfg.getReorder && !cfg.getReorder()) return;\n    if (ev.button !== 0) return;\n\n    // native dragscroll prevention\n    preventUserSelect(ev);\n\n    window.addEventListener('mousemove', handleMouseMove);\n    window.addEventListener('mouseup', handleMouseUp);\n\n    down(ev);\n  }\n\n  function handleMouseMove(ev) {\n    move(ev);\n  }\n\n  function handleMouseUp(ev) {\n    up(ev);\n  }\n\n  function handleTouchStart(ev) {\n    if (cfg.getReorder && !cfg.getReorder()) return;\n\n    touchTimer = setTimeout(() => {\n      touched = true;\n      down(ev.touches[0]);\n    }, LONG_TOUCH_DELAY);\n\n    // prevent user selection on touch (pre-drag)\n    preventUserSelect(ev);\n\n    function handleTouchEnd() {\n      if (touchTimer) resetTimer();\n\n      // removed elements will still have touch events pointed at them, and these events won't necessarily bubble up\n      // this creates an issue where the touchmove/touchend events are no longer called if we attach them directly to the parent node, and the event target is removed from DOM\n      // best practice suggests attaching event handlers directly to the touch event target\n      // in this case, touch events will continue to fire normally\n      // https://developer.mozilla.org/en-US/docs/Web/API/Touch/target\n\n      ev.target.removeEventListener('touchmove', handleTouchMove);\n      ev.target.removeEventListener('touchend', handleTouchEnd);\n\n      up(ev);\n    }\n\n    ev.target.addEventListener('touchmove', handleTouchMove);\n    ev.target.addEventListener('touchend', handleTouchEnd);\n    node.addEventListener('contextmenu', handleContext);\n  }\n\n  function handleTouchMove(ev) {\n    if (started) {\n      ev.preventDefault();\n      move(ev.touches[0]);\n    } else if (touchTimer) resetTimer();\n  }\n\n  function handleContext(ev) {\n    if (started || touchTimer) {\n      ev.preventDefault();\n      return false;\n    }\n  }\n\n  function preventDefault(ev) {\n    ev.preventDefault();\n  }\n\n  function preventUserSelect(ev) {\n    if (!cfg.getDraggableInfo) return;\n    const { hasDraggable } = cfg.getDraggableInfo();\n\n    if (!hasDraggable || ev.target.getAttribute('draggable-data')) {\n      document.body.style.userSelect = 'none';\n      document.body.style.webkitUserSelect = 'none';\n    }\n  }\n\n  function start(ev) {\n    started = true;\n\n    if (cfg.start) {\n      if (cfg.start(ev, context) === false) return false;\n      else {\n        node.appendChild(container);\n        document.body.style.cursor = 'move';\n      }\n    }\n  }\n\n  function end(full) {\n    started = touched = false;\n    document.body.style.cursor = '';\n    document.body.style.userSelect = '';\n    document.body.style.webkitUserSelect = '';\n\n    window.removeEventListener('mousemove', handleMouseMove);\n    window.removeEventListener('mouseup', handleMouseUp);\n\n    if (full) {\n      node.removeEventListener('mousedown', handleMouseDown);\n      node.removeEventListener('touchstart', handleTouchStart);\n      node.removeEventListener('dragstart', preventDefault);\n    }\n  }\n\n  node.addEventListener('mousedown', handleMouseDown);\n  node.addEventListener('touchstart', handleTouchStart);\n  node.addEventListener('dragstart', preventDefault);\n\n  return {\n    destroy() {\n      end(true);\n    },\n  };\n}\n","import { getPos } from './reorder';\n\nconst SCROLL_SPEED_DELTA = 0.004;\n\nfunction initScrollState() {\n  return {\n    dirX: 0,\n    dirY: 0,\n    scrollSpeedFactor: 1,\n  };\n}\n\nexport function tryAutoScroll(ev, box, context, dragScrollConfig) {\n  const { node, left, top, bottom, sense, xScroll, yScroll } = dragScrollConfig;\n  const rPos = getPos(ev, node);\n\n  if (!context.scrollState) context.scrollState = initScrollState();\n\n  let newDirX = 0;\n  let newDirY = 0;\n\n  if (rPos.x < left + sense) {\n    newDirX = -1;\n  } else if (rPos.x > box.width - sense) {\n    newDirX = 1;\n  }\n\n  if (rPos.y < top + Math.round(sense / 2)) {\n    newDirY = -1;\n  } else if (rPos.y > box.height - bottom - Math.round(sense / 2)) {\n    newDirY = 1;\n  }\n\n  if (\n    context.scrollState.dirX !== newDirX ||\n    context.scrollState.dirY !== newDirY\n  ) {\n    resetAutoScroll(context);\n    context.scrollState.dirX = newDirX;\n    context.scrollState.dirY = newDirY;\n  }\n\n  if (\n    (xScroll && context.scrollState.dirX !== 0) ||\n    (yScroll && context.scrollState.dirY !== 0)\n  ) {\n    startAutoScroll(context, dragScrollConfig, {\n      x: context.scrollState.dirX,\n      y: context.scrollState.dirY,\n    });\n  }\n}\n\nexport function startAutoScroll(context, config, dir) {\n  if (context.autoScrollTimer) return;\n\n  context.autoScrollTimer = setTimeout(() => {\n    context.activeAutoScroll = setInterval(\n      autoScroll,\n      15,\n      context,\n      config,\n      dir,\n    );\n  }, 250);\n}\n\nexport function resetAutoScroll(context) {\n  context.scrollSpeedFactor = 1;\n  if (context.autoScrollTimer) {\n    context.autoScrollTimer = clearTimeout(context.autoScrollTimer);\n    context.activeAutoScroll = clearInterval(context.activeAutoScroll);\n  }\n}\n\nfunction autoScroll(context, config, dir) {\n  const { x, y } = dir;\n\n  context.scrollSpeedFactor += SCROLL_SPEED_DELTA;\n\n  if (x !== 0) autoXScroll(context, config, x);\n  if (y !== 0) autoYScroll(context, config, y);\n}\n\nfunction autoYScroll(context, config, dir) {\n  const scroll = config.node.scrollTop;\n\n  autoScrollTo(\n    scroll + Math.round(config.sense / 3) * context.scrollSpeedFactor * dir,\n    'scrollTop',\n    config,\n  );\n}\n\nfunction autoXScroll(context, config, dir) {\n  const scroll = config.node.scrollLeft;\n\n  autoScrollTo(\n    scroll + Math.round(config.sense / 3) * context.scrollSpeedFactor * dir,\n    'scrollLeft',\n    config,\n  );\n}\n\nfunction autoScrollTo(value, mode, config) {\n  config.node[mode] = value;\n}\n","export function getStyle(width, flexgrow, fixed, left, right, height) {\n  const style = {};\n\n  if (width) {\n    style.width = `${width}px`;\n    style.minWidth = `${width}px`;\n  }\n\n  if (flexgrow) {\n    style.flexGrow = flexgrow;\n  }\n\n  if (height) {\n    style.height = `${height}px`;\n  }\n\n  if (fixed) {\n    style.position = 'sticky';\n    if (fixed.left) {\n      style.left = `${left}px`;\n    }\n    if (fixed.right) {\n      style.right = `${right}px`;\n    }\n  }\n\n  return style;\n}\n\nexport function getCssName(column, cell, columnStyle) {\n  let css = '';\n\n  if (column.fixed) {\n    for (const pos in column.fixed) {\n      css += column.fixed[pos] === -1 ? 'wx-shadow ' : 'wx-fixed ';\n    }\n  }\n  css += cell.rowspan > 1 ? 'wx-rowspan ' : '';\n  css += cell.colspan > 1 ? 'wx-colspan ' : '';\n  css += cell.vertical ? 'wx-vertical ' : '';\n  css += columnStyle ? columnStyle(column) + ' ' : '';\n  return css;\n}\n","import { useEffect, useMemo, useRef, useContext, useCallback } from 'react';\nimport storeContext from '../context';\nimport { useStore } from '@svar-ui/lib-react';\nimport { useWritableProp } from '@svar-ui/lib-react';\nimport { getStyle } from '../helpers/columnWidth';\nimport { getRenderValue } from '@svar-ui/grid-store';\nimport './Cell.css';\n\nexport default function Cell(props) {\n  const {\n    row,\n    column,\n    cellStyle = null,\n    columnStyle = null,\n    children,\n  } = props;\n\n  const [focusable, setFocusable] = useWritableProp(props.focusable);\n\n  const api = useContext(storeContext);\n  const focusCell = useStore(api, 'focusCell');\n  const search = useStore(api, 'search');\n  const reorder = useStore(api, 'reorder');\n\n  const shouldHighlight = useMemo(\n    () => search?.rows[row.id] && search.rows[row.id][column.id],\n    [search, row.id, column.id],\n  );\n\n  const style = useMemo(\n    () =>\n      getStyle(\n        column.width,\n        column.flexgrow,\n        column.fixed,\n        column.left,\n        column.right,\n      ),\n    [column.width, column.flexgrow, column.fixed, column.left, column.right],\n  );\n\n  function buildCellCss(columnStyleFn, cellStyleFn) {\n    let css = 'wx-cell';\n    css += column.fixed\n      ? ' ' + (column.fixed === -1 ? 'wx-shadow' : 'wx-fixed')\n      : '';\n    css += columnStyleFn ? ' ' + columnStyleFn(column) : '';\n    css += cellStyleFn ? ' ' + cellStyleFn(row, column) : '';\n    css += column.treetoggle ? ' wx-tree-cell' : '';\n    return css;\n  }\n\n  const css = useMemo(\n    () => buildCellCss(columnStyle, cellStyle),\n    [columnStyle, cellStyle, column, row],\n  );\n\n  const isDraggable = useMemo(() => {\n    return typeof column.draggable === 'function'\n      ? column.draggable(row, column) !== false\n      : column.draggable;\n  }, [column, row]);\n\n  const cellElRef = useRef(null);\n\n  useEffect(() => {\n    if (cellElRef.current && focusable) {\n      const needFocus =\n        focusCell?.row === row.id && focusCell?.column === column.id;\n      if (needFocus) cellElRef.current.focus();\n    }\n  }, [focusCell, focusable, row.id, column.id]);\n\n  const toggleFocusAction = useCallback(() => {\n    if (focusable && !focusCell) {\n      api.exec('focus-cell', {\n        row: row.id,\n        column: column.id,\n        eventSource: 'focus',\n      });\n    }\n  }, [api, focusable, focusCell, row.id, column.id]);\n\n  useEffect(() => {\n    return () => {\n      if (focusable && focusCell) {\n        api.exec('focus-cell', { eventSource: 'destroy' });\n        setFocusable(false);\n      }\n    };\n  }, [api, setFocusable]);\n\n  function highlightText(text) {\n    const regex = new RegExp(`(${search.value.trim()})`, 'gi');\n    const parts = String(text).split(regex);\n\n    return parts.map((text) => ({ text, highlight: regex.test(text) }));\n  }\n\n  const className = useMemo(() => {\n    const shadowToggle =\n      (column.fixed && column.fixed.left === -1) || column.fixed.right === -1;\n    const fixedRightToggle = column.fixed && column.fixed.right;\n    return [\n      css,\n      shadowToggle ? 'wx-shadow' : '',\n      fixedRightToggle ? 'wx-fixed-right' : '',\n    ]\n      .filter(Boolean)\n      .join(' ');\n  }, [css, column]);\n\n  const CellComponent = column.cell;\n\n  return (\n    <div\n      className={'wx-TSCaXsGV ' + className}\n      ref={cellElRef}\n      onFocus={toggleFocusAction}\n      style={style}\n      data-row-id={row.id}\n      data-col-id={column.id}\n      tabIndex={focusable ? '0' : '-1'}\n      role={'gridcell'}\n      aria-colindex={column._colindex}\n      aria-readonly={!column.editor ? true : undefined}\n    >\n      {reorder && column.draggable ? (\n        isDraggable ? (\n          <i\n            // eslint-disable-next-line react/no-unknown-property\n            draggable-data=\"true\"\n            className=\"wx-TSCaXsGV wx-draggable wxi-drag\"\n          ></i>\n        ) : (\n          <i className=\"wx-TSCaXsGV wx-draggable-stub\"></i>\n        )\n      ) : null}\n\n      {column.treetoggle ? (\n        <>\n          <span style={{ marginLeft: `${row.$level * 28}px` }}></span>\n          {row.$count ? (\n            <i\n              data-action=\"toggle-row\"\n              className={`wx-TSCaXsGV wx-table-tree-toggle wxi-menu-${\n                row.open !== false ? 'down' : 'right'\n              }`}\n            ></i>\n          ) : null}\n        </>\n      ) : null}\n\n      {CellComponent ? (\n        <CellComponent\n          api={api}\n          row={row}\n          column={column}\n          onAction={({ action, data }) => api.exec(action, data)}\n        />\n      ) : children ? (\n        children()\n      ) : shouldHighlight ? (\n        <span>\n          {highlightText(getRenderValue(row, column)).map(\n            ({ highlight, text }, index) =>\n              highlight ? (\n                <mark key={index} className=\"wx-TSCaXsGV wx-search\">\n                  {text}\n                </mark>\n              ) : (\n                <span key={index}>{text}</span>\n              ),\n          )}\n        </span>\n      ) : (\n        getRenderValue(row, column)\n      )}\n    </div>\n  );\n}\n","export function resize(node, config) {\n  let x, dx;\n\n  function down(ev) {\n    x = ev.clientX;\n\n    node.style.opacity = 1;\n\n    document.body.style.cursor = 'ew-resize';\n    document.body.style.userSelect = 'none';\n\n    window.addEventListener('mousemove', move);\n    window.addEventListener('mouseup', up);\n\n    if (config && config.down) config.down(node);\n  }\n\n  function move(ev) {\n    dx = ev.clientX - x;\n\n    if (config && config.move) config.move(dx);\n  }\n\n  function up() {\n    node.style.opacity = '';\n\n    document.body.style.cursor = '';\n    document.body.style.userSelect = '';\n\n    if (config && config.up) config.up(dx);\n\n    window.removeEventListener('mousemove', move);\n    window.removeEventListener('mouseup', up);\n  }\n\n  node.addEventListener('mousedown', down);\n\n  return {\n    destroy() {\n      node.removeEventListener('mousedown', down);\n    },\n  };\n}\n","import { Text } from '@svar-ui/react-core';\nimport './Text.css';\n\nexport default function Component({ filter, column, action, filterValue }) {\n  function filterRows({ value }) {\n    action({ value, key: column.id });\n  }\n\n  return (\n    <Text\n      {...(filter.config ?? {})}\n      value={filterValue}\n      onChange={filterRows}\n    />\n  );\n}\n","import { useMemo, useContext } from 'react';\nimport { RichSelect } from '@svar-ui/react-core';\nimport { getValue } from '@svar-ui/grid-store';\nimport storeContext from '../../context';\nimport { useStore } from '@svar-ui/lib-react';\nimport './Richselect.css';\n\nexport default function Richselect({ filter, column, action, filterValue }) {\n  const api = useContext(storeContext);\n  const data = useStore(api, 'flatData');\n\n  const options = useMemo(\n    () => filter?.config?.options || column?.options || getOptions(data),\n    [filter, column, data],\n  );\n\n  const template = useMemo(() => filter?.config?.template, [filter]);\n\n  function getOptions() {\n    const options = [];\n    data.forEach((d) => {\n      const value = getValue(d, column);\n      if (!options.includes(value)) options.push(value);\n    });\n    return options.map((opt) => ({ id: opt, label: opt }));\n  }\n\n  function filterRows({ value }) {\n    action({ value, key: column.id });\n  }\n\n  function handleKeyDown(ev) {\n    if (ev.key !== 'Tab') ev.preventDefault();\n  }\n\n  return (\n    <div style={{ width: '100%' }} onKeyDown={handleKeyDown}>\n      <RichSelect\n        placeholder={''}\n        clear={true}\n        {...(filter?.config ?? {})}\n        options={options}\n        value={filterValue}\n        onChange={filterRows}\n      >\n        {(option) => (template ? template(option) : option.label)}\n      </RichSelect>\n    </div>\n  );\n}\n","import Text from './Text.jsx';\nimport Richselect from './Richselect.jsx';\n\nexport const filters = {\n  text: Text,\n  richselect: Richselect,\n};\n","import { useContext, useMemo } from 'react';\nimport storeContext from '../../context';\nimport { filters } from './filters';\nimport { useStore } from '@svar-ui/lib-react';\n\nexport default function Filter({ filter, column }) {\n  const api = useContext(storeContext);\n  const filterValues = useStore(api, 'filterValues');\n\n  function filterRows(data) {\n    api.exec('filter-rows', data);\n  }\n\n  const Component = useMemo(() => filters[filter.type], [filter.type]);\n\n  return (\n    <Component\n      filter={filter}\n      column={column}\n      action={filterRows}\n      filterValue={filterValues[column.id]}\n    />\n  );\n}\n","import { useEffect, useMemo, useCallback, useRef, useContext } from 'react';\nimport storeContext from '../context';\nimport { useStore } from '@svar-ui/lib-react';\nimport { resize } from '../helpers/actions/resize';\nimport { getCssName, getStyle } from '../helpers/columnWidth';\nimport Filter from './inlineFilters/Filter.jsx';\nimport './HeaderCell.css';\n\nexport default function HeaderCell(props) {\n  const {\n    cell,\n    column,\n    row,\n    lastRow,\n    sortRow,\n    columnStyle,\n    bodyHeight,\n    hasSplit,\n  } = props;\n\n  const api = useContext(storeContext);\n  const sortMarksValue = useStore(api, 'sortMarks');\n\n  const sortMark = useMemo(() => {\n    return sortMarksValue ? sortMarksValue[column.id] : undefined;\n  }, [sortMarksValue, column.id]);\n\n  const startRef = useRef();\n\n  const down = useCallback(\n    (node) => {\n      startRef.current = cell.flexgrow\n        ? node.parentNode.clientWidth\n        : cell.width;\n    },\n    [cell.flexgrow, cell.width],\n  );\n\n  const resizeColumn = useCallback(\n    (dx, inProgress) => {\n      api.exec('resize-column', {\n        id: cell.id,\n        width: Math.max(1, (startRef.current || 0) + dx),\n        inProgress,\n      });\n    },\n    [api, cell.id],\n  );\n\n  const move = useCallback((dx) => resizeColumn(dx, true), [resizeColumn]);\n  const up = useCallback((dx) => resizeColumn(dx, false), [resizeColumn]);\n\n  const sort = useCallback(\n    (ev) => {\n      if (!column.sort || cell.filter) return;\n      let order = sortMark?.order;\n      if (order) {\n        order = order === 'asc' ? 'desc' : 'asc';\n      }\n      api.exec('sort-rows', { key: cell.id, add: ev.ctrlKey, order });\n    },\n    [api, cell.id, cell.filter, column.sort, sortMark?.order],\n  );\n\n  const collapse = useCallback(\n    (ev) => {\n      if (ev) ev.stopPropagation();\n      api.exec('collapse-column', { id: cell.id, row });\n    },\n    [api, cell.id, row],\n  );\n\n  const toggleCollapseColumn = useCallback(\n    (ev) => {\n      if (ev.key === 'Enter') collapse();\n    },\n    [collapse],\n  );\n\n  const toggleSortColumn = useCallback(\n    (ev) => {\n      if (ev.key === 'Enter' && !cell.filter) sort(ev);\n    },\n    [sort, cell.filter],\n  );\n\n  const isCollapsed = useMemo(\n    () => cell.collapsed && column.collapsed,\n    [cell.collapsed, column.collapsed],\n  );\n  const overlay = useMemo(\n    () => isCollapsed && !hasSplit && cell.collapsible !== 'header',\n    [isCollapsed, hasSplit, cell.collapsible],\n  );\n  const collapsedTextStyle = useMemo(\n    () => (overlay ? { top: -bodyHeight / 2, position: 'absolute' } : {}),\n    [overlay, bodyHeight],\n  );\n\n  const cellStyle = useMemo(\n    () =>\n      getStyle(\n        cell.width,\n        cell.flexgrow,\n        column.fixed,\n        column.left,\n        cell.right ?? column.right,\n        cell.height + (isCollapsed && overlay ? bodyHeight : 0),\n      ),\n    [\n      cell.width,\n      cell.flexgrow,\n      column.fixed,\n      column.left,\n      cell.right,\n      column.right,\n      cell.height,\n      isCollapsed,\n      overlay,\n      bodyHeight,\n    ],\n  );\n\n  const css = useMemo(\n    () => getCssName(column, cell, columnStyle),\n    [column, cell, columnStyle],\n  );\n\n  const getCell = useCallback(() => {\n    return Object.fromEntries(\n      Object.entries(cell).filter(([key]) => key !== 'cell'),\n    );\n  }, [cell]);\n\n  const collapsedClassName = `wx-cell ${css} ${cell.css || ''} wx-collapsed`;\n  const normalClassName = [\n    'wx-cell',\n    css,\n    cell.css || '',\n    cell.filter ? 'wx-filter' : '',\n    column.fixed && column.fixed.right ? 'wx-fixed-right' : '',\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  const gripRef = useRef(null);\n  useEffect(() => {\n    const node = gripRef.current;\n    if (!node) return;\n    const cleanup = resize(node, { down, move, up });\n    return () => {\n      if (typeof cleanup === 'function') cleanup();\n    };\n  }, [down, move, up, resize]);\n\n  if (isCollapsed) {\n    return (\n      <div\n        className={'wx-RsQD74qC ' + collapsedClassName}\n        style={cellStyle}\n        role=\"button\"\n        aria-label={`Expand column ${cell.text || ''}`}\n        aria-expanded={!cell.collapsed}\n        tabIndex={0}\n        onKeyDown={toggleCollapseColumn}\n        onClick={collapse}\n        data-header-id={column.id}\n      >\n        <div className=\"wx-RsQD74qC wx-text\" style={collapsedTextStyle}>\n          {cell.text || ''}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div\n      className={'wx-RsQD74qC ' + normalClassName}\n      style={cellStyle}\n      onClick={sort}\n      data-header-id={column.id}\n      tabIndex={!cell._hidden && column.sort && !cell.filter ? 0 : undefined}\n      role=\"columnheader\"\n      aria-colindex={cell._colindex}\n      aria-colspan={cell.colspan > 1 ? cell.colspan : undefined}\n      aria-rowspan={cell.rowspan > 1 ? cell.rowspan : undefined}\n      aria-sort={\n        !sortMark?.order || cell.filter\n          ? 'none'\n          : sortMark?.order === 'asc'\n            ? 'ascending'\n            : 'descending'\n      }\n      onKeyDown={toggleSortColumn}\n    >\n      {cell.collapsible ? (\n        <div\n          className=\"wx-RsQD74qC wx-collapse\"\n          role=\"button\"\n          aria-label={cell.collapsed ? 'Expand column' : 'Collapse column'}\n          aria-expanded={!cell.collapsed}\n          tabIndex={0}\n          onKeyDown={toggleCollapseColumn}\n          onClick={collapse}\n        >\n          <i\n            className={`wx-RsQD74qC wxi-angle-${cell.collapsed ? 'down' : 'right'}`}\n          ></i>\n        </div>\n      ) : null}\n\n      {cell.cell ? (\n        (() => {\n          const CellComponent = cell.cell;\n          return (\n            <CellComponent\n              api={api}\n              cell={getCell()}\n              column={column}\n              row={row}\n              onAction={({ action, data }) => api.exec(action, data)}\n            />\n          );\n        })()\n      ) : cell.filter ? (\n        <Filter filter={cell.filter} column={column} />\n      ) : (\n        <div className=\"wx-RsQD74qC wx-text\">{cell.text || ''}</div>\n      )}\n\n      {column.resize && lastRow && !cell._hidden ? (\n        <div\n          className=\"wx-RsQD74qC wx-grip\"\n          role=\"presentation\"\n          aria-label=\"Resize column\"\n          ref={gripRef}\n          onClick={(ev) => ev.stopPropagation()}\n        >\n          <div></div>\n        </div>\n      ) : null}\n\n      {sortRow ? (\n        <div className=\"wx-RsQD74qC wx-sort\">\n          {sortMark ? (\n            <>\n              {typeof sortMark.index !== 'undefined' ? (\n                <div className=\"wx-RsQD74qC wx-order\">{sortMark.index + 1}</div>\n              ) : null}\n              <i\n                className={`wx-RsQD74qC wxi-arrow-${sortMark.order === 'asc' ? 'up' : 'down'}`}\n              ></i>\n            </>\n          ) : null}\n        </div>\n      ) : null}\n    </div>\n  );\n}\n","import React, { useMemo, useContext, useCallback } from 'react';\nimport storeContext from '../context';\nimport { getStyle, getCssName } from '../helpers/columnWidth';\nimport './FooterCell.css';\n\nfunction FooterCell({ cell, column, row, columnStyle }) {\n  const api = useContext(storeContext);\n\n  const style = useMemo(\n    () =>\n      getStyle(\n        cell?.width,\n        cell?.flexgrow,\n        column?.fixed,\n        column?.left,\n        cell?.right ?? column?.right,\n        cell?.height,\n      ),\n    [\n      cell?.width,\n      cell?.flexgrow,\n      column?.fixed,\n      column?.left,\n      cell?.right,\n      column?.right,\n      cell?.height,\n    ],\n  );\n\n  const css = useMemo(\n    () => getCssName(column, cell, columnStyle),\n    [column, cell, columnStyle],\n  );\n\n  const getCell = useCallback(() => {\n    return Object.fromEntries(\n      Object.entries(cell || {}).filter(([key]) => key !== 'cell'),\n    );\n  }, [cell]);\n\n  const className =\n    `wx-6Sdi3Dfd wx-cell ${css || ''} ${cell?.css || ''}` +\n    (column?.fixed && column?.fixed.right ? ' wx-fixed-right' : '');\n\n  return (\n    <div className={className} style={style}>\n      {!column?.collapsed && !cell?.collapsed ? (\n        cell?.cell ? (\n          React.createElement(cell.cell, {\n            api,\n            cell: getCell(),\n            column,\n            row,\n            onAction: ({ action, data }) => api.exec(action, data),\n          })\n        ) : (\n          <div className=\"wx-6Sdi3Dfd wx-text\">{cell?.text || ''}</div>\n        )\n      ) : null}\n    </div>\n  );\n}\n\nexport default FooterCell;\n","import { useMemo, useContext } from 'react';\nimport HeaderCell from './HeaderCell.jsx';\nimport FooterCell from './FooterCell.jsx';\nimport { isCommunity } from '@svar-ui/grid-store';\nimport storeContext from '../context';\nimport './HeaderFooter.css';\nimport { useStore } from '@svar-ui/lib-react';\n\nfunction HeaderFooter({\n  deltaLeft,\n  contentWidth,\n  columns,\n  type = 'header',\n  columnStyle,\n  bodyHeight,\n}) {\n  const api = useContext(storeContext);\n  const sizes = useStore(api, '_sizes');\n  const split = useStore(api, 'split');\n\n  const rowHeights = useMemo(() => {\n    return sizes?.[`${type}RowHeights`];\n  }, [sizes, type]);\n\n  const renderedHeader = useMemo(() => {\n    let res = [];\n    if (columns && columns.length) {\n      const rowsCount = columns[0][type].length;\n      for (let ri = 0; ri < rowsCount; ri++) {\n        let inSpan = 0;\n        res.push([]);\n        columns.forEach((col, ci) => {\n          const cell = { ...col[type][ri] };\n          if (!inSpan) {\n            res[ri].push(cell);\n          }\n\n          if (cell.colspan > 1) {\n            inSpan = cell.colspan - 1;\n\n            if (!isCommunity()) {\n              if (col.right) {\n                // if column is fixed on the right and have colspan we need to recalculate right position\n                let right = col.right;\n                for (let i = 1; i < cell.colspan; i++) {\n                  right -= columns[ci + i].width;\n                }\n                cell.right = right;\n              }\n            }\n          } else if (inSpan) {\n            inSpan--;\n          }\n        });\n      }\n    }\n    return res;\n  }, [columns, type]);\n\n  const hasSplit = useMemo(() => {\n    return split?.left || split?.right;\n  }, [split]);\n\n  function getColumn(id) {\n    return columns.find((c) => c.id === id);\n  }\n\n  function isLast(cell, ind) {\n    let idx = ind;\n    if (cell.rowspan) idx += cell.rowspan - 1;\n    return idx === renderedHeader.length - 1;\n  }\n\n  function isSort(cell, ind, column) {\n    if (!column.sort) return false;\n    for (let i = renderedHeader.length - 1; i >= 0; i--) {\n      const cell = column.header[i];\n      if (!cell.filter && !cell._hidden) return ind === i;\n    }\n    return isLast(cell, ind);\n  }\n\n  return (\n    <div\n      className={`wx-sAsPVaUK wx-${type}`}\n      style={{ paddingLeft: `${deltaLeft}px`, width: `${contentWidth}px` }}\n      role=\"rowgroup\"\n    >\n      {renderedHeader.map((row, i) => (\n        <div\n          key={i}\n          className={\n            type === 'header' ? 'wx-sAsPVaUK wx-h-row' : 'wx-sAsPVaUK wx-f-row'\n          }\n          style={{ height: `${rowHeights?.[i]}px`, display: 'flex' }}\n          role=\"row\"\n        >\n          {row.map((cell) => {\n            const column = getColumn(cell.id);\n            return type === 'header' ? (\n              <HeaderCell\n                key={cell.id}\n                cell={cell}\n                columnStyle={columnStyle}\n                column={column}\n                row={i}\n                lastRow={isLast(cell, i)}\n                bodyHeight={bodyHeight}\n                sortRow={isSort(cell, i, column)}\n                hasSplit={hasSplit}\n              />\n            ) : (\n              <FooterCell\n                key={cell.id}\n                cell={cell}\n                columnStyle={columnStyle}\n                column={getColumn(cell.id)}\n                row={i}\n              />\n            );\n          })}\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default HeaderFooter;\n","import { useContext } from 'react';\nimport storeContext from '../context';\nimport './Overlay.css';\n\nexport default function Overlay({ overlay }) {\n  const api = useContext(storeContext);\n\n  function isComponent(prop) {\n    return typeof prop === 'function';\n  }\n\n  const Component = overlay;\n\n  return (\n    <div className=\"wx-1ty666CQ wx-overlay\">\n      {isComponent(overlay) ? (\n        <Component onAction={({ action, data }) => api.exec(action, data)} />\n      ) : (\n        overlay\n      )}\n    </div>\n  );\n}\n","import { useEffect, useRef, useState } from 'react';\nimport './Text.css';\n\nfunction Text(props) {\n  const { actions, editor } = props;\n\n  const [value, setValue] = useState(editor?.value || '');\n\n  const node = useRef(null);\n  useEffect(() => {\n    if (node.current) node.current.focus();\n  }, []);\n\n  function updateValue() {\n    if (!node.current) return;\n    setValue(node.current.value);\n    actions.updateValue(node.current.value);\n  }\n\n  function closeAndSave({ key }) {\n    if (key === 'Enter') actions.save();\n  }\n\n  return (\n    <input\n      className=\"wx-e7Ao5ejY wx-text\"\n      onInput={updateValue}\n      onKeyDown={closeAndSave}\n      ref={node}\n      type=\"text\"\n      value={value}\n    />\n  );\n}\n\nexport default Text;\n","import { useState, useEffect, useMemo, useRef, useCallback } from 'react';\nimport { SuggestDropdown } from '@svar-ui/react-core';\nimport './Combo.css';\n\nfunction Combo({ actions, editor, onAction }) {\n  const [value, setValue] = useState(editor?.value);\n  const [text, setText] = useState(editor?.renderedValue);\n  const [filterOptions, setFilterOptions] = useState(editor?.options || []);\n  const template = useMemo(() => editor?.config?.template, [editor]);\n  const cell = useMemo(() => editor?.config?.cell, [editor]);\n\n  const index = useMemo(() => {\n    return (filterOptions || []).findIndex((a) => a.id === value);\n  }, [filterOptions, value]);\n\n  const navigate = useRef(null);\n  const keydown = useRef(null);\n\n  const ready = useCallback(\n    (ev) => {\n      navigate.current = ev.navigate;\n      keydown.current = ev.keydown;\n      navigate.current(index);\n    },\n    [index, navigate],\n  );\n\n  const handleChange = useCallback(\n    (e) => {\n      const nextText = e?.target?.value ?? '';\n      setText(nextText);\n\n      const options = nextText\n        ? (editor?.options || []).filter((i) =>\n            (i.label || '').toLowerCase().includes(nextText.toLowerCase()),\n          )\n        : editor?.options || [];\n      setFilterOptions(options);\n\n      if (options.length) navigate.current(-Infinity);\n      else navigate.current(null);\n    },\n    [editor],\n  );\n\n  const inputRef = useRef(null);\n  useEffect(() => {\n    if (inputRef.current) {\n      inputRef.current.focus();\n    }\n  }, []);\n\n  useEffect(() => {\n    setValue(editor?.value);\n    setText(editor?.renderedValue);\n    setFilterOptions(editor?.options || []);\n  }, [editor]);\n\n  const updateValue = useCallback(\n    ({ id }) => {\n      actions.updateValue(id);\n      actions.save();\n    },\n    [actions],\n  );\n\n  return (\n    <>\n      <input\n        className=\"wx-0UYfSd1x wx-input\"\n        ref={inputRef}\n        value={text ?? ''}\n        onChange={handleChange}\n        onKeyDown={(e) =>\n          keydown.current ? keydown.current(e, index) : undefined\n        }\n      />\n      <SuggestDropdown\n        items={filterOptions}\n        onReady={ready}\n        onSelect={updateValue}\n      >\n        {({ option }) => {\n          if (template) {\n            return template(option);\n          } else if (cell) {\n            const Component = cell;\n            return <Component data={option} onAction={onAction} />;\n          } else {\n            return option.label;\n          }\n        }}\n      </SuggestDropdown>\n    </>\n  );\n}\n\nexport default Combo;\n","import { useEffect, useRef, useState } from 'react';\nimport { Calendar, Dropdown } from '@svar-ui/react-core';\nimport './Datepicker.css';\n\nexport default function Datepicker({ actions, editor, onAction }) {\n  const [value] = useState(() => editor.value || new Date());\n  const [template] = useState(() => editor.config?.template);\n  const [cell] = useState(() => editor.config?.cell);\n\n  function updateValue({ value }) {\n    actions.updateValue(value);\n    actions.save();\n  }\n\n  const nodeRef = useRef(null);\n\n  useEffect(() => {\n    if (nodeRef.current) {\n      nodeRef.current.focus();\n    }\n    if (typeof window !== 'undefined' && window.getSelection) {\n      window.getSelection().removeAllRanges();\n    }\n  }, []);\n\n  return (\n    <>\n      <div\n        className=\"wx-lNWNYUb6 wx-value\"\n        ref={nodeRef}\n        tabIndex={0}\n        onClick={() => actions.cancel()}\n        onKeyDown={(ev) => ev.preventDefault()}\n      >\n        {template ? (\n          template(value)\n        ) : cell ? (\n          (() => {\n            const Component = cell;\n            return <Component data={editor.value} onAction={onAction} />;\n          })()\n        ) : (\n          <span className=\"wx-lNWNYUb6 wx-text\">{editor.renderedValue}</span>\n        )}\n      </div>\n      <Dropdown width={'auto'}>\n        <Calendar\n          value={value}\n          onChange={updateValue}\n          buttons={editor.config?.buttons}\n        />\n      </Dropdown>\n    </>\n  );\n}\n","import { useEffect, useMemo, useRef, useState } from 'react';\nimport { SuggestDropdown } from '@svar-ui/react-core';\nimport './Richselect.css';\n\nexport default function Richselect(props) {\n  const { actions, editor } = props;\n  const onAction = props.onAction ?? props.onaction;\n\n  const config = editor.config || {};\n\n  const [data] = useState(\n    editor.options.find((opt) => opt.id === editor.value),\n  );\n  const [value] = useState(editor.value);\n  const [options] = useState(editor.options);\n\n  const index = useMemo(\n    () => options.findIndex((a) => a.id === value),\n    [options, value],\n  );\n\n  function updateValue({ id }) {\n    actions.updateValue(id);\n    actions.save();\n  }\n\n  let navigate;\n  const [keydown, setKeydown] = useState();\n\n  function ready(ev) {\n    navigate = ev.navigate;\n    setKeydown(() => ev.keydown);\n    navigate(index);\n  }\n\n  const node = useRef(null);\n  useEffect(() => {\n    if (node.current) {\n      node.current.focus();\n    }\n    if (typeof window !== 'undefined' && window.getSelection) {\n      window.getSelection().removeAllRanges();\n    }\n  }, []);\n\n  return (\n    <>\n      <div\n        ref={node}\n        className=\"wx-ywGRk611 wx-value\"\n        tabIndex={0}\n        onClick={() => actions.cancel()}\n        onKeyDown={(ev) => {\n          keydown(ev, index);\n          ev.preventDefault();\n        }}\n      >\n        {config.template ? (\n          config.template(data)\n        ) : config.cell ? (\n          (() => {\n            const Component = config.cell;\n            return <Component data={data} onAction={onAction} />;\n          })()\n        ) : (\n          <span className=\"wx-ywGRk611 wx-text\">{editor.renderedValue}</span>\n        )}\n      </div>\n      <SuggestDropdown items={options} onReady={ready} onSelect={updateValue}>\n        {({ option }) =>\n          config.template\n            ? config.template(option)\n            : config.cell\n              ? (() => {\n                  const Component = config.cell;\n                  return <Component data={option} onAction={onAction} />;\n                })()\n              : option.label\n        }\n      </SuggestDropdown>\n    </>\n  );\n}\n","import Text from './Text.jsx';\nimport Combo from './Combo.jsx';\nimport Datepicker from './Datepicker.jsx';\nimport Richselect from './Richselect.jsx';\n\nexport const editors = {\n  text: Text,\n  combo: Combo,\n  datepicker: Datepicker,\n  richselect: Richselect,\n};\n","import { useCallback, useContext, useEffect, useMemo, useRef } from 'react';\nimport storeContext from '../../context';\nimport { useStore } from '@svar-ui/lib-react';\nimport { getStyle } from '../../helpers/columnWidth';\nimport { clickOutside } from '@svar-ui/lib-dom';\nimport { editors } from './editors';\nimport './Editor.css';\n\nexport default function Editor({ column, row }) {\n  const api = useContext(storeContext);\n  const editor = useStore(api, 'editor');\n\n  const closeEditor = useCallback(\n    (ignore, cell) => {\n      api.exec('close-editor', { ignore });\n      if (cell) {\n        api.exec('focus-cell', {\n          ...cell,\n          eventSource: 'click',\n        });\n      }\n    },\n    [api],\n  );\n\n  const save = useCallback(\n    (ignoreFocus) => {\n      const cell = ignoreFocus\n        ? null\n        : { row: editor?.id, column: editor?.column };\n      closeEditor(false, cell);\n    },\n    [editor, closeEditor],\n  );\n\n  const cancel = useCallback(() => {\n    closeEditor(true, { row: editor?.id, column: editor?.column });\n  }, [editor, closeEditor]);\n\n  const updateValue = useCallback(\n    (value) => {\n      api.exec('editor', { value });\n    },\n    [api],\n  );\n\n  const keyHandler = useCallback(\n    (ev) => {\n      if (ev.key === 'Enter' && editor) cancel();\n    },\n    [editor, cancel],\n  );\n\n  const computedStyle = useMemo(\n    () =>\n      getStyle(\n        column.width,\n        column.flexgrow,\n        column.fixed,\n        column.left,\n        column.right,\n      ),\n    [column.width, column.flexgrow, column.fixed, column.left, column.right],\n  );\n\n  const Component = useMemo(() => {\n    let ed = column.editor;\n    if (typeof ed === 'function') ed = ed(row, column);\n    let type = typeof ed === 'string' ? ed : ed.type;\n    return editors[type];\n  }, [column, row]);\n\n  const rootRef = useRef(null);\n\n  useEffect(() => {\n    if (!rootRef.current) return;\n    const destroy = clickOutside(rootRef.current, () => save(true));\n    return () => {\n      if (typeof destroy === 'function') destroy();\n    };\n  }, [save]);\n\n  useEffect(() => {\n    if (!rootRef.current) return;\n    if (typeof computedStyle === 'string') {\n      rootRef.current.setAttribute('style', computedStyle);\n    }\n  }, [computedStyle]);\n\n  const role = typeof row.$parent !== 'undefined' ? 'gridcell' : 'cell';\n  const ariaReadonly =\n    typeof row.$parent !== 'undefined'\n      ? column.editor\n        ? false\n        : true\n      : undefined;\n\n  return (\n    <div\n      className=\"wx-8l724t2g wx-cell wx-editor\"\n      ref={rootRef}\n      style={\n        typeof computedStyle === 'object' && computedStyle !== null\n          ? computedStyle\n          : undefined\n      }\n      role={role}\n      aria-readonly={ariaReadonly}\n      tabIndex={-1}\n      onClick={(ev) => ev.stopPropagation()}\n      onDoubleClick={(ev) => ev.stopPropagation()}\n      onKeyDown={keyHandler}\n    >\n      {Component ? (\n        <Component\n          editor={editor}\n          actions={{ save, cancel, updateValue }}\n          onAction={({ action, data }) => api.exec(action, data)}\n        />\n      ) : null}\n    </div>\n  );\n}\n","import { useContext } from 'react';\nimport { getPrintCellStyle, getPrintFilterValue } from '@svar-ui/grid-store';\nimport storeContext from '../../context';\nimport { styleObject } from '@svar-ui/lib-react';\nimport './HeaderFooter.css';\n\nexport default function HeaderFooter(props) {\n  const { columns, type, columnStyle } = props;\n\n  const api = useContext(storeContext);\n  const { filterValues, _columns, _sizes: sizes } = api.getState();\n\n  function getColumnCss(column) {\n    return columnStyle ? ' ' + columnStyle(column) : '';\n  }\n\n  return (\n    <>\n      {columns.map((row, i) => (\n        <tr key={i}>\n          {row.map((cell) => {\n            const column = _columns.find((c) => c.id == cell.id);\n            const className =\n              `wx-print-cell-${type}` +\n              `${getColumnCss(column)}` +\n              `${cell.filter ? ' wx-print-cell-filter' : ''}` +\n              `${cell.vertical ? ' wx-vertical' : ''}`;\n\n            const CellComp = cell.cell;\n\n            return (\n              <th\n                key={cell.id}\n                style={styleObject(getPrintCellStyle(cell, sizes.columnWidth))}\n                className={'wx-Gy81xq2u ' + className}\n                rowSpan={cell.rowspan}\n                colSpan={cell.colspan}\n              >\n                {CellComp ? (\n                  <CellComp\n                    api={api}\n                    cell={Object.fromEntries(\n                      Object.entries(cell).filter(([key]) => key !== 'cell'),\n                    )}\n                    column={column}\n                    row={i}\n                  />\n                ) : cell.filter ? (\n                  <div className=\"wx-Gy81xq2u wx-print-filter\">\n                    {getPrintFilterValue(filterValues, _columns, cell)}\n                  </div>\n                ) : (\n                  <div className=\"wx-Gy81xq2u wx-text\">{cell.text ?? ''}</div>\n                )}\n              </th>\n            );\n          })}\n        </tr>\n      ))}\n    </>\n  );\n}\n","import { useContext } from 'react';\nimport storeContext from '../../context';\nimport {\n  getRenderValue,\n  getHeaderFooterPrintColumns,\n  getPrintCellStyle,\n} from '@svar-ui/grid-store';\nimport HeaderFooter from './HeaderFooter.jsx';\nimport './Grid.css';\nimport { styleObject } from '@svar-ui/lib-react';\n\nexport default function Grid(props) {\n  const { columns, rowStyle, columnStyle, cellStyle, header, footer, reorder } =\n    props;\n\n  const api = useContext(storeContext);\n  const { flatData: data, _sizes: sizes } = api.getState();\n\n  const headerColumns =\n    header &&\n    getHeaderFooterPrintColumns(columns, 'header', sizes.headerRowHeights);\n  const footerColumns =\n    footer &&\n    getHeaderFooterPrintColumns(columns, 'footer', sizes.footerRowHeights);\n\n  function buildCellCss(row, column) {\n    let css = '';\n    css += columnStyle ? ' ' + columnStyle(column) : '';\n    css += cellStyle ? ' ' + cellStyle(row, column) : '';\n    return css;\n  }\n\n  function isDraggableIcon(row, column) {\n    return typeof column.draggable === 'function'\n      ? column.draggable(row, column) !== false\n      : column.draggable;\n  }\n\n  return (\n    <table\n      className={`wx-8NTMLH0z wx-print-grid ${columns.some((c) => c.flexgrow) ? 'wx-flex-columns' : ''}`}\n    >\n      {header ? (\n        <thead>\n          <HeaderFooter\n            columns={headerColumns}\n            type={'header'}\n            columnStyle={columnStyle}\n          />\n        </thead>\n      ) : null}\n\n      <tbody>\n        {data.map((row, rowIndex) => (\n          <tr\n            key={rowIndex}\n            className={\n              'wx-8NTMLH0z wx-row' + (rowStyle ? ' ' + rowStyle(row) : '')\n            }\n            style={{ height: `${row.rowHeight || sizes.rowHeight}px` }}\n          >\n            {columns.map((column) =>\n              !column.collapsed ? (\n                <td\n                  key={column.id}\n                  className={`wx-8NTMLH0z wx-print-cell wx-cell ${buildCellCss(row, column)}`}\n                  style={styleObject(\n                    getPrintCellStyle(column, sizes.columnWidth),\n                  )}\n                >\n                  {reorder && column.draggable ? (\n                    <span className=\"wx-8NTMLH0z wx-print-draggable\">\n                      {isDraggableIcon(row, column) ? (\n                        <i className=\"wx-8NTMLH0z wxi-drag\"></i>\n                      ) : null}\n                    </span>\n                  ) : null}\n                  {column.treetoggle ? (\n                    <>\n                      <span\n                        style={{ marginLeft: row.$level * 28 + 'px' }}\n                      ></span>\n                      {row.$count ? (\n                        <i\n                          className={\n                            'wx-8NTMLH0z wx-print-grid-tree-toggle ' +\n                            `wxi-menu-${row.open !== false ? 'down' : 'right'}`\n                          }\n                        ></i>\n                      ) : null}\n                    </>\n                  ) : null}\n                  {column.cell ? (\n                    (() => {\n                      const CellComp = column.cell;\n                      return <CellComp api={api} row={row} column={column} />;\n                    })()\n                  ) : (\n                    <span>{getRenderValue(row, column)}</span>\n                  )}\n                </td>\n              ) : null,\n            )}\n          </tr>\n        ))}\n      </tbody>\n\n      {footer ? (\n        <tfoot>\n          <HeaderFooter\n            columns={footerColumns}\n            type={'footer'}\n            columnStyle={columnStyle}\n          />\n        </tfoot>\n      ) : null}\n    </table>\n  );\n}\n","import { useContext, useEffect, useMemo, useRef } from 'react';\nimport Grid from './Grid.jsx';\nimport { getPrintColumns } from '@svar-ui/grid-store';\nimport storeContext from '../../context';\nimport './Print.css';\n\nexport default function Print(props) {\n  const { config, ...restProps } = props;\n\n  const api = useContext(storeContext);\n  const { _skin: skin, _columns: columns } = api.getState();\n\n  const grids = useMemo(() => getPrintColumns(columns, config), []);\n  const nodeRef = useRef(null);\n\n  useEffect(() => {\n    const target = document.body;\n    target.classList.add('wx-print');\n\n    const node = nodeRef.current;\n    if (!node) return;\n\n    const cloned = node.cloneNode(true);\n    target.appendChild(cloned);\n\n    const rule = `@media print { @page { size: ${config.paper} ${config.mode}; }`;\n    const style = document.createElement('style');\n    style.setAttribute('type', 'text/css');\n    style.setAttribute('media', 'print');\n    document.getElementsByTagName('head')[0].appendChild(style);\n    style.appendChild(document.createTextNode(rule));\n\n    window.print();\n\n    style.remove();\n    target.classList.remove('wx-print');\n\n    cloned.remove();\n  }, []);\n\n  return (\n    <div\n      className={`wx-4zwCKA7C wx-${skin}-theme wx-print-container`}\n      ref={nodeRef}\n    >\n      {grids.map((cols, i) => (\n        <div className=\"wx-4zwCKA7C wx-print-grid-wrapper\" key={i}>\n          <Grid columns={cols} {...restProps} />\n        </div>\n      ))}\n    </div>\n  );\n}\n","import {\n  useState,\n  useEffect,\n  useMemo,\n  useRef,\n  useContext,\n  useCallback,\n} from 'react';\nimport storeContext from '../context';\nimport { onresize } from '../helpers/actions/onresize';\nimport { reorder as drag, getOffset } from '../helpers/actions/reorder';\nimport { resetAutoScroll, tryAutoScroll } from '../helpers/actions/dragscroll';\nimport { clickOutside, locateAttr, locate, id as toId } from '@svar-ui/lib-dom';\nimport { hotkeys, defaultHotkeys } from '@svar-ui/grid-store';\nimport { scrollTo } from '@svar-ui/grid-store';\nimport { useStore, delegateClick, useStoreWithCounter } from '@svar-ui/lib-react';\n\nimport Cell from './Cell.jsx';\nimport HeaderFooter from './HeaderFooter.jsx';\nimport Overlay from './Overlay.jsx';\nimport Editor from './inlineEditors/Editor.jsx';\nimport Print from './print/Print.jsx';\nimport './Layout.css';\n\nfunction Layout(props) {\n  const {\n    header,\n    footer,\n    overlay,\n    multiselect,\n    onreorder: onReorder,\n    rowStyle,\n    columnStyle,\n    cellStyle,\n    autoRowHeight,\n    resize,\n    clientWidth,\n    clientHeight,\n    responsiveLevel,\n    hotkeys: hotkeysConfig,\n  } = props;\n\n  const api = useContext(storeContext);\n\n  // subscribe to reactive state from api\n  const dynamic = useStore(api, 'dynamic');\n  const columns = useStore(api, '_columns');\n  const data = useStore(api, 'flatData');\n  const split = useStore(api, 'split');\n  const sizes = useStore(api, '_sizes');\n  const [selectedRows, selectionChanged] = useStoreWithCounter(api, 'selectedRows');\n  const selectState = useStore(api, 'select');\n  const editorState = useStore(api, 'editor');\n  const tree = useStore(api, 'tree');\n  const focusCell = useStore(api, 'focusCell');\n  const printConfig = useStore(api, '_print');\n  const undoState = useStore(api, 'undo');\n  const reorder = useStore(api, 'reorder');\n  const rowHeightFromData = useStore(api, '_rowHeightFromData');\n\n  // will be calculated once, after rendering\n  const [SCROLLSIZE, setSCROLLSIZE] = useState(0);\n  useEffect(() => {\n    setSCROLLSIZE(getScrollSize());\n  }, []);\n\n  const [scrollLeft, setScrollLeft] = useState(0);\n  const [scrollTop, setScrollTop] = useState(0);\n\n  const hasAny = useMemo(() => {\n    return (columns || []).some((col) => !col.hidden && col.flexgrow);\n  }, [columns]);\n\n  const defaultRowHeight = useMemo(() => sizes?.rowHeight || 0, [sizes]);\n\n  const tableNodeRef = useRef(null);\n\n  // reorder\n  const [dragItem, setDragItem] = useState(null);\n  const [dragNode, setDragNode] = useState(null);\n\n  const leftColumns = useMemo(() => {\n    let cols = [];\n    let width = 0;\n\n    if (split && split.left) {\n      cols = (columns || [])\n        .slice(0, split.left)\n        .filter((c) => !c.hidden)\n        .map((a) => ({ ...a }));\n      cols.forEach((a) => {\n        a.fixed = { left: 1 };\n        a.left = width;\n        width += a.width;\n      });\n      if (cols.length) cols[cols.length - 1].fixed = { left: -1 };\n    }\n\n    return { columns: cols, width };\n  }, [split, columns]);\n\n  const rightColumns = useMemo(() => {\n    let cols = [];\n    let width = 0;\n\n    if (split && split.right) {\n      cols = (columns || [])\n        .slice(split.right * -1)\n        .filter((c) => !c.hidden)\n        .map((a) => ({ ...a }));\n      for (let i = cols.length - 1; i >= 0; i--) {\n        const col = cols[i];\n        col.fixed = { right: 1 };\n        col.right = width;\n        width += col.width;\n      }\n      if (cols.length) cols[0].fixed = { right: -1 };\n    }\n\n    return { columns: cols, width };\n  }, [split, columns]);\n\n  const centerColumns = useMemo(() => {\n    const center = (columns || [])\n      .slice(split?.left || 0, (columns || []).length - (split?.right ?? 0))\n      .filter((c) => !c.hidden);\n    center.forEach((a) => {\n      a.fixed = 0;\n    });\n    return center;\n  }, [columns, split]);\n\n  const fullWidth = useMemo(() => {\n    return (columns || []).reduce((acc, col) => {\n      if (!col.hidden) {\n        acc += col.width;\n      }\n      return acc;\n    }, 0);\n  }, [columns]);\n\n  const EXTRACOLUMNS = 1;\n\n  function getHeaderPosition(start, deltaLeft, type) {\n    let delta = deltaLeft;\n    let index = start;\n\n    if (centerColumns.length) {\n      let spanStartInd = centerColumns.length; // max value to compare with\n      for (let i = start; i >= 0; i--) {\n        const colHeader = centerColumns[i][type];\n        colHeader.forEach((h) => {\n          if (h.colspan > 1 && i > start - h.colspan && i < spanStartInd) {\n            spanStartInd = i;\n          }\n        });\n      }\n\n      if (spanStartInd !== centerColumns.length && spanStartInd < start) {\n        for (let i = spanStartInd; i < start; i++) {\n          delta -= centerColumns[i].width;\n        }\n        index = spanStartInd;\n      }\n    }\n\n    return { index, delta };\n  }\n\n  const renderColumns = useMemo(() => {\n    let dataCols, headerCols, footerCols;\n\n    const left = scrollLeft;\n    const right = scrollLeft + (clientWidth || 0);\n\n    let start = 0;\n    let end = 0;\n    let sum = 0;\n\n    let d = 0;\n    centerColumns.forEach((col, index) => {\n      if (left > sum) {\n        start = index;\n        d = sum;\n      }\n      sum = sum + col.width;\n\n      if (right > sum) end = index + EXTRACOLUMNS;\n    });\n\n    const rightSpanDelta = { header: 0, footer: 0 };\n    for (let i = end; i >= start; i--) {\n      ['header', 'footer'].forEach((key) => {\n        if (centerColumns[i])\n          centerColumns[i][key].forEach((hCell) => {\n            const colspan = hCell.colspan;\n            if (colspan && colspan > 1) {\n              const diff = colspan - (end - i + 1);\n              if (diff > 0) {\n                rightSpanDelta[key] = Math.max(rightSpanDelta[key], diff);\n              }\n            }\n          });\n      });\n    }\n\n    const headerPos = getHeaderPosition(start, d, 'header');\n    const footerPos = getHeaderPosition(start, d, 'footer');\n\n    const dh = headerPos.delta;\n    const csH = headerPos.index;\n\n    const df = footerPos.delta;\n    const csF = footerPos.index;\n\n    if (hasAny && fullWidth > (clientWidth || 0)) {\n      dataCols =\n        headerCols =\n        footerCols =\n          [...leftColumns.columns, ...centerColumns, ...rightColumns.columns];\n    } else {\n      dataCols = [\n        ...leftColumns.columns,\n        ...centerColumns.slice(start, end + 1),\n        ...rightColumns.columns,\n      ];\n      headerCols = [\n        ...leftColumns.columns,\n        ...centerColumns.slice(csH, end + rightSpanDelta.header + 1),\n        ...rightColumns.columns,\n      ];\n      footerCols = [\n        ...leftColumns.columns,\n        ...centerColumns.slice(csF, end + rightSpanDelta.footer + 1),\n        ...rightColumns.columns,\n      ];\n    }\n\n    return {\n      data: dataCols || [],\n      header: headerCols || [],\n      footer: footerCols || [],\n      d,\n      df,\n      dh,\n    };\n  }, [\n    centerColumns,\n    leftColumns,\n    rightColumns,\n    scrollLeft,\n    clientWidth,\n    hasAny,\n    fullWidth,\n  ]);\n\n  const headerHeight = useMemo(\n    () => (header ? sizes?.headerHeight || 0 : 0),\n    [header, sizes],\n  );\n  const footerHeight = useMemo(\n    () => (footer ? sizes?.footerHeight || 0 : 0),\n    [footer, sizes],\n  );\n\n  const hasHScroll = useMemo(() => {\n    return clientWidth && clientHeight ? fullWidth >= clientWidth : false;\n  }, [clientWidth, clientHeight, fullWidth]);\n\n  const visibleRowsHeight = useMemo(() => {\n    return (\n      (clientHeight || 0) -\n      headerHeight -\n      footerHeight -\n      (hasHScroll ? SCROLLSIZE : 0)\n    );\n  }, [clientHeight, headerHeight, footerHeight, hasHScroll, SCROLLSIZE]);\n\n  const visibleRows = useMemo(() => {\n    return Math.ceil((visibleRowsHeight || 0) / (defaultRowHeight || 1)) + 1;\n  }, [visibleRowsHeight, defaultRowHeight]);\n\n  const rowHeightsRef = useRef([]);\n  const [renderedHeight, setRenderedHeight] = useState(0);\n  const [renderEnd, setRenderEnd] = useState(undefined);\n\n  const renderRows = useMemo(() => {\n    let start = 0;\n    let deltaTop = 0;\n    const EXTRAROWS = 2;\n\n    if (autoRowHeight) {\n      let st = scrollTop;\n      while (st > 0) {\n        st -= rowHeightsRef.current[start] || defaultRowHeight;\n        start++;\n      }\n\n      deltaTop = scrollTop - st;\n      for (let i = Math.max(0, start - EXTRAROWS - 1); i < start; i++)\n        deltaTop -= rowHeightsRef.current[start - i] || defaultRowHeight;\n\n      start = Math.max(0, start - EXTRAROWS);\n    } else {\n      if (rowHeightFromData) {\n        let startInd = 0;\n        let topHeight = 0;\n        for (let i = 0; i < (data || []).length; i++) {\n          const height = data[i].rowHeight || defaultRowHeight;\n          if (topHeight + height > scrollTop) {\n            startInd = i;\n            break;\n          }\n          topHeight += height;\n        }\n        start = Math.max(0, startInd - EXTRAROWS);\n\n        for (let i = 0; i < start; i++) {\n          deltaTop += data[i].rowHeight || defaultRowHeight;\n        }\n\n        let visibleRowsCount = 0;\n        let currentHeight = 0;\n        for (let i = startInd + 1; i < (data || []).length; i++) {\n          const height = data[i].rowHeight || defaultRowHeight;\n          visibleRowsCount++;\n          if (currentHeight + height > visibleRowsHeight) {\n            break;\n          }\n          currentHeight += height;\n        }\n\n        const end = Math.min(\n          dynamic ? dynamic.rowCount : (data || []).length,\n          startInd + visibleRowsCount + EXTRAROWS,\n        );\n\n        return { d: deltaTop, start, end };\n      }\n\n      start = Math.floor(scrollTop / (defaultRowHeight || 1));\n      start = Math.max(0, start - EXTRAROWS);\n      deltaTop = start * (defaultRowHeight || 0);\n    }\n\n    const totalCount = dynamic ? dynamic.rowCount : (data || []).length;\n    const end = Math.min(totalCount, start + (visibleRows || 0) + EXTRAROWS);\n\n    return { d: deltaTop, start, end };\n  }, [autoRowHeight, rowHeightFromData, scrollTop, defaultRowHeight, dynamic, data, visibleRows, visibleRowsHeight]);\n\n  const fullHeight = useMemo(() => {\n    const count = dynamic ? dynamic.rowCount : (data || []).length;\n\n    if (autoRowHeight) {\n      return (\n        renderedHeight +\n        renderRows.d +\n        (count - (renderEnd || 0)) * (defaultRowHeight || 0)\n      );\n    }\n    if (!rowHeightFromData) {\n      return count * (defaultRowHeight || 0);\n    }\n\n    let totalHeight = 0;\n    for (let i = 0; i < count; i++)\n      totalHeight += (data[i]?.rowHeight || defaultRowHeight);\n\n    return totalHeight;\n  }, [\n    dynamic,\n    data,\n    defaultRowHeight,\n    autoRowHeight,\n    rowHeightFromData,\n    renderedHeight,\n    renderRows.d,\n    renderEnd,\n  ]);\n\n  const hasVScroll = useMemo(() => {\n    return clientWidth && clientHeight\n      ? fullHeight + headerHeight + footerHeight >=\n          clientHeight - (fullWidth >= (clientWidth || 0) ? SCROLLSIZE : 0)\n      : false;\n  }, [\n    clientWidth,\n    clientHeight,\n    fullHeight,\n    headerHeight,\n    footerHeight,\n    fullWidth,\n    SCROLLSIZE,\n  ]);\n\n  const contentWidth = useMemo(() => {\n    return hasAny && fullWidth <= (clientWidth || 0)\n      ? (clientWidth || 0) -\n          (hasHScroll ? 0 : 0) -\n          (hasVScroll ? SCROLLSIZE : 0) // hasHScroll doesn't affect width here; keep logic as in Svelte\n      : fullWidth;\n  }, [hasAny, fullWidth, clientWidth, hasVScroll, SCROLLSIZE, hasHScroll]);\n\n  const globalWidth = useMemo(() => {\n    return hasAny && fullWidth <= (clientWidth || 0)\n      ? clientWidth || 0\n      : contentWidth < (clientWidth || 0)\n        ? fullWidth + (hasVScroll ? SCROLLSIZE : 0)\n        : -1;\n  }, [hasAny, fullWidth, clientWidth, contentWidth, hasVScroll, SCROLLSIZE]);\n\n  const lastCallRef = useRef({});\n  useEffect(() => {\n    if (\n      dynamic &&\n      (lastCallRef.current.start !== renderRows.start ||\n        lastCallRef.current.end !== renderRows.end)\n    ) {\n      const { start, end } = renderRows;\n      lastCallRef.current = { start, end };\n      api && api.exec && api.exec('request-data', { row: { start, end } });\n    }\n  }, [dynamic, renderRows, api]);\n\n  const dataRows = useMemo(() => {\n    if (dynamic) return data || [];\n    return (data || []).slice(renderRows.start, renderRows.end);\n  }, [dynamic, data, renderRows]);\n\n  const visibleSelection = useMemo(() => {\n    return (selectedRows || []).filter((s) =>\n      (dataRows || []).some((r) => r.id === s),\n    );\n  }, [selectionChanged, dataRows]);\n\n  const renderStart = useMemo(() => renderRows.start, [renderRows.start]);\n\n  const onScroll = useCallback((ev) => {\n    setScrollTop(ev.target.scrollTop);\n    setScrollLeft(ev.target.scrollLeft);\n  }, []);\n\n  const lockSelection = useCallback((ev) => {\n    if (ev.shiftKey) ev.preventDefault();\n    tableNodeRef.current &&\n      tableNodeRef.current.focus &&\n      tableNodeRef.current.focus();\n  }, []);\n\n  const checkDraggable = useCallback(() => {\n    return !!(columns || []).find((c) => !!c.draggable);\n  }, [columns]);\n\n  const postDragRef = useRef(null);\n  const movementYRef = useRef(null);\n\n  const bodyClickHandlers = useRef({\n    dblclick: (rowId, ev) => {\n      const data = { id: rowId, column: locateAttr(ev, 'data-col-id') };\n      api.exec('open-editor', data);\n    },\n    click: (rowId, ev) => {\n      if (postDragRef.current) return;\n      const column = locateAttr(ev, 'data-col-id');\n      if (focusCell?.id !== rowId)\n        api.exec('focus-cell', {\n          row: rowId,\n          column,\n          eventSource: 'click',\n        });\n\n      if (selectState === false) return;\n\n      const toggle = multiselect && ev.ctrlKey;\n      const range = multiselect && ev.shiftKey;\n\n      if (\n        toggle ||\n        selectedRows.length > 1 ||\n        !selectedRows.includes(rowId)\n      ) {\n        api.exec('select-row', { id: rowId, toggle, range });\n      }\n    },\n    'toggle-row': (rowId) => {\n      const row = api.getRow(rowId);\n      api.exec(row.open !== false ? 'close-row' : 'open-row', { id: rowId });\n    },\n    'ignore-click': () => {\n      return false;\n    },\n  });\n\n  const dragScrollConfig = useMemo(() => {\n    return {\n      top: headerHeight,\n      bottom: footerHeight,\n      left: leftColumns.width,\n      xScroll: hasHScroll,\n      yScroll: hasVScroll,\n      sense:\n        autoRowHeight && dragNode\n          ? dragNode.offsetHeight\n          : Math.max(sizes?.rowHeight || 0, 40),\n      node: tableNodeRef.current && tableNodeRef.current.firstElementChild,\n    };\n  }, [\n    headerHeight,\n    footerHeight,\n    leftColumns.width,\n    hasHScroll,\n    hasVScroll,\n    autoRowHeight,\n    dragNode,\n    sizes,\n  ]);\n\n  function startDrag(ev, context) {\n    const { container, sourceNode, from } = context;\n    const hasDraggable = checkDraggable();\n\n    if (hasDraggable && !sourceNode.getAttribute('draggable-data'))\n      return false;\n\n    setDragItem(from);\n\n    if (api.getRow(from).open)\n      api.exec('close-row', { id: from, nested: true });\n\n    const itemNode = locate(sourceNode, 'data-id');\n    const cloned = itemNode.cloneNode(true);\n    cloned.classList.remove('wx-selected');\n    cloned\n      .querySelectorAll('[tabindex]')\n      .forEach((element) => element.setAttribute('tabindex', '-1'));\n    container.appendChild(cloned);\n    setDragNode(cloned);\n\n    const offsetX = scrollLeft - renderColumns.d;\n    const vScrollSize = hasVScroll ? SCROLLSIZE : 0;\n\n    container.style.width =\n      Math.min(\n        (clientWidth || 0) - vScrollSize,\n        hasAny && fullWidth <= (clientWidth || 0)\n          ? contentWidth\n          : contentWidth - vScrollSize,\n      ) +\n      offsetX +\n      'px';\n\n    const itemPos = getOffset(itemNode);\n    context.offset = {\n      x: offsetX,\n      y: -Math.round(itemPos.height / 2),\n    };\n\n    if (!movementYRef.current) movementYRef.current = ev.clientY;\n  }\n\n  function moveDrag(ev, context) {\n    const { from } = context;\n    const pos = context.pos;\n    const box = getOffset(tableNodeRef.current);\n\n    pos.x = box.x;\n\n    const min = dragScrollConfig.top;\n    if (pos.y < min) pos.y = min;\n    else {\n      const max =\n        box.height -\n        (hasHScroll && SCROLLSIZE > 0\n          ? SCROLLSIZE\n          : Math.round(dragScrollConfig.sense / 2)) -\n        dragScrollConfig.bottom;\n      if (pos.y > max) pos.y = max;\n    }\n\n    if (tableNodeRef.current.contains(context.targetNode)) {\n      const targetRow = locate(context.targetNode, 'data-id');\n      const to = toId(targetRow?.getAttribute('data-id'));\n\n      if (to && to !== from) {\n        context.to = to;\n\n        const rowHeight = autoRowHeight\n          ? dragNode?.offsetHeight\n          : sizes?.rowHeight;\n\n        if (dragNode && (scrollTop === 0 || pos.y > min + rowHeight - 1)) {\n          const targetRect = targetRow.getBoundingClientRect();\n          const dragNodeOffset = getOffset(dragNode);\n\n          const dragNodePos = dragNodeOffset.y;\n          const targetNodePos = targetRect.y;\n\n          const dir = dragNodePos > targetNodePos ? -1 : 1;\n          const initialMode = dir === 1 ? 'after' : 'before';\n          const diff = Math.abs(api.getRowIndex(from) - api.getRowIndex(to));\n\n          const mode =\n            diff !== 1\n              ? initialMode === 'before'\n                ? 'after'\n                : 'before'\n              : initialMode;\n\n          if (diff === 1) {\n            if (dir === -1 && ev.clientY > movementYRef.current) return;\n            if (dir === 1 && ev.clientY < movementYRef.current) return;\n          }\n\n          movementYRef.current = ev.clientY;\n\n          api.exec('move-item', {\n            id: from,\n            target: to,\n            mode,\n            inProgress: true,\n          });\n        }\n      }\n\n      onReorder && onReorder({ event: ev, context });\n    }\n\n    tryAutoScroll(ev, box, context, dragScrollConfig);\n  }\n\n  function endDrag(ev, context) {\n    const { from, to } = context;\n\n    api.exec('move-item', {\n      id: from,\n      target: to,\n      inProgress: false,\n    });\n\n    postDragRef.current = setTimeout(() => {\n      postDragRef.current = 0;\n    }, 1);\n\n    setDragItem(null);\n    setDragNode(null);\n    movementYRef.current = null;\n    resetAutoScroll(context);\n  }\n\n  function getScrollSize() {\n    const div = document.createElement('div');\n    div.style.cssText =\n      'position:absolute;left:-1000px;width:100px;padding:0px;margin:0px;min-height:100px;overflow-y:scroll;';\n    document.body.appendChild(div);\n    const width = div.offsetWidth - div.clientWidth;\n    document.body.removeChild(div);\n    return width;\n  }\n\n  const styleWidth = useMemo(() => {\n    return globalWidth > 0 ? { width: `${globalWidth}px` } : undefined;\n  }, [globalWidth]);\n\n  const dataElRef = useRef(null);\n  function adjustHeight() {\n    Promise.resolve().then(() => {\n      let rh = 0;\n      let re = renderStart;\n      const container = dataElRef.current;\n      if (!container) return;\n      Array.from(container.children).forEach((row, i) => {\n        rowHeightsRef.current[renderStart + i] = row.offsetHeight;\n        rh += row.offsetHeight;\n        re++;\n      });\n\n      setRenderedHeight(rh);\n      setRenderEnd(re);\n    });\n  }\n\n  useEffect(() => {\n    if (dataRows && autoRowHeight) adjustHeight();\n  }, [dataRows, autoRowHeight, renderStart]);\n\n  let [focus, setFocus] = useState();\n\n  useEffect(() => {\n    if (\n      focusCell &&\n      (!selectState ||\n        !visibleSelection.length ||\n        visibleSelection.includes(focusCell.row))\n    ) {\n      setFocus({ ...focusCell });\n    } else if (dataRows.length && renderColumns.data.length) {\n      if (\n        !focus ||\n        (visibleSelection.length && !visibleSelection.includes(focus.row)) ||\n        dataRows.findIndex((r) => r.id == focus.row) === -1 ||\n        renderColumns.data.findIndex(\n          (c) => c.id == focus.column && !c.collapsed,\n        ) === -1\n      ) {\n        const row = visibleSelection[0] || dataRows[0].id;\n        const cind = renderColumns.data.findIndex((c) => !c.collapsed);\n        if (cind !== -1) setFocus({ row, column: renderColumns.data[cind].id });\n        else setFocus(null);\n      }\n    } else setFocus(null);\n  }, [focusCell]);\n\n  // actions effects\n  const scrollRef = useRef(null);\n  useEffect(() => {\n    const node = tableNodeRef.current;\n    if (!node) return;\n    const cleanup = onresize(node, resize);\n    return () => {\n      if (typeof cleanup === 'function') cleanup();\n    };\n  }, [resize]);\n\n  const dragState = useRef({});\n  Object.assign(dragState.current, {\n    start: startDrag,\n    move: moveDrag,\n    end: endDrag,\n    getReorder: () => reorder,\n    getDraggableInfo: () => ({ hasDraggable: checkDraggable() }),\n  });\n\n  useEffect(() => {\n    const node = tableNodeRef.current;\n    if (!node) return;\n    const cleanup = drag(node, dragState);\n    return cleanup.destroy;\n  }, [reorder, tableNodeRef.current]);\n\n  useEffect(() => {\n    const node = tableNodeRef.current;\n    if (!node) return;\n    const cleanup = hotkeys(node, {\n      keys: hotkeysConfig !== false && {\n        ...defaultHotkeys,\n        'ctrl+z': undoState,\n        'ctrl+y': undoState,\n        ...hotkeysConfig,\n      },\n      exec: (v) => api.exec('hotkey', v),\n    });\n    return cleanup.destroy;\n  }, [api, undoState, hotkeysConfig]);\n\n  const scrollConfig = useRef({\n    scroll: api.getReactiveState().scroll,\n  });\n  scrollConfig.current.getWidth = () =>\n    (clientWidth || 0) - (hasVScroll ? SCROLLSIZE : 0);\n  scrollConfig.current.getHeight = () => visibleRowsHeight;\n  scrollConfig.current.getScrollMargin = () =>\n    leftColumns.width + rightColumns.width;\n\n  useEffect(() => {\n    scrollTo(scrollRef.current, scrollConfig.current);\n  }, []);\n\n  const bodyRef = useRef(null);\n  useEffect(() => {\n    const node = bodyRef.current;\n    if (!node) return;\n\n    const result = [];\n    result.push(\n      clickOutside(node, () => api.exec('focus-cell', { eventSource: 'click' }))\n        .destroy,\n    );\n    result.push(delegateClick(node, bodyClickHandlers.current));\n\n    return () => result.forEach((r) => r());\n  }, []);\n\n  const gridClassName = `wx-grid ${responsiveLevel ? `wx-responsive-${responsiveLevel}` : ''}`;\n\n  return (\n    <>\n      <div\n        className={'wx-4VuBwK2D ' + gridClassName}\n        style={{\n          ['--header-height']: `${headerHeight}px`,\n          ['--footer-height']: `${footerHeight}px`,\n          ['--split-left-width']: `${leftColumns.width}px`,\n          ['--split-right-width']: `${rightColumns.width}px`,\n        }}\n      >\n        <div\n          ref={tableNodeRef}\n          className=\"wx-4VuBwK2D wx-table-box\"\n          style={styleWidth}\n          role={tree ? 'treegrid' : 'grid'}\n          aria-colcount={renderColumns.data.length}\n          aria-rowcount={dataRows.length}\n          aria-multiselectable={tree && multiselect ? true : undefined}\n          tabIndex={-1}\n        >\n          <div\n            ref={scrollRef}\n            className=\"wx-4VuBwK2D wx-scroll\"\n            style={{\n              overflowX: hasHScroll ? 'scroll' : 'hidden',\n              overflowY: hasVScroll ? 'scroll' : 'hidden',\n            }}\n            onScroll={onScroll}\n          >\n            {header ? (\n              <div className=\"wx-4VuBwK2D wx-header-wrapper\">\n                <HeaderFooter\n                  contentWidth={contentWidth}\n                  deltaLeft={renderColumns.dh}\n                  columns={renderColumns.header}\n                  columnStyle={columnStyle}\n                  bodyHeight={visibleRowsHeight - +footer}\n                />\n              </div>\n            ) : null}\n            <div\n              ref={bodyRef}\n              className=\"wx-4VuBwK2D wx-body\"\n              style={{ width: `${contentWidth}px`, height: `${fullHeight}px` }}\n              onMouseDown={(ev) => lockSelection(ev)}\n            >\n              {overlay ? <Overlay overlay={overlay} /> : null}\n              <div\n                ref={dataElRef}\n                className=\"wx-4VuBwK2D wx-data\"\n                style={{\n                  paddingTop: `${renderRows.d}px`,\n                  paddingLeft: `${renderColumns.d}px`,\n                }}\n              >\n                {dataRows.map((row, rIndex) => {\n                  const isSelected = selectedRows.indexOf(row.id) !== -1;\n                  const isInactive = dragItem === row.id;\n                  const rowClass =\n                    'wx-row' +\n                    (autoRowHeight ? ' wx-autoheight' : '') +\n                    (rowStyle ? ' ' + rowStyle(row) : '') +\n                    (isSelected ? ' wx-selected' : '') +\n                    (isInactive ? ' wx-inactive' : '');\n                  const rowStyleProp = autoRowHeight\n                    ? { minHeight: `${row.rowHeight || defaultRowHeight}px` }\n                    : { height: `${row.rowHeight || defaultRowHeight}px` };\n                  return (\n                    <div\n                      key={row.id}\n                      className={'wx-4VuBwK2D ' + rowClass}\n                      data-id={row.id}\n                      data-context-id={row.id}\n                      style={rowStyleProp}\n                      role=\"row\"\n                      aria-rowindex={rIndex}\n                      aria-expanded={row.open}\n                      aria-level={tree ? row.$level + 1 : undefined}\n                      aria-selected={tree ? isSelected : undefined}\n                      tabIndex={-1}\n                    >\n                      {renderColumns.data.map((column) => {\n                        if (column.collapsed) {\n                          return (\n                            <div\n                              key={column.id}\n                              className=\"wx-4VuBwK2D wx-cell wx-collapsed\"\n                            ></div>\n                          );\n                        } else if (\n                          editorState?.id === row.id &&\n                          editorState.column == column.id\n                        ) {\n                          return (\n                            <Editor key={column.id} row={row} column={column} />\n                          );\n                        } else {\n                          return (\n                            <Cell\n                              key={column.id}\n                              row={row}\n                              column={column}\n                              columnStyle={columnStyle}\n                              cellStyle={cellStyle}\n                              reorder={reorder}\n                              focusable={\n                                focus?.row === row.id &&\n                                focus?.column == column.id\n                              }\n                            />\n                          );\n                        }\n                      })}\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n            {footer && (data || []).length ? (\n              <HeaderFooter\n                type={'footer'}\n                contentWidth={contentWidth}\n                deltaLeft={renderColumns.df}\n                columns={renderColumns.footer}\n                columnStyle={columnStyle}\n              />\n            ) : null}\n          </div>\n        </div>\n      </div>\n      {printConfig ? (\n        <Print\n          config={printConfig}\n          rowStyle={rowStyle}\n          columnStyle={columnStyle}\n          cellStyle={cellStyle}\n          header={header}\n          footer={footer}\n          reorder={reorder}\n        />\n      ) : null}\n    </>\n  );\n}\n\nexport default Layout;\n","import {\n  useState,\n  useMemo,\n  useEffect,\n  useRef,\n  useCallback,\n  useContext,\n  forwardRef,\n  useImperativeHandle,\n} from 'react';\n\n// core widgets lib\nimport { Locale } from '@svar-ui/react-core';\nimport { en } from '@svar-ui/grid-locales';\n\n// stores\nimport { EventBusRouter } from '@svar-ui/lib-state';\nimport { DataStore } from '@svar-ui/grid-store';\n\n// context\nimport { context } from '@svar-ui/react-core';\nimport StoreContext from '../context';\n\n// svelte store factory (used by DataStore)\nimport { writable } from '@svar-ui/lib-react';\n\n// ui\nimport Layout from './Layout.jsx';\n\nconst camelize = (s) =>\n  s\n    .split('-')\n    .map((part) => (part ? part.charAt(0).toUpperCase() + part.slice(1) : ''))\n    .join('');\n\nconst Grid = forwardRef(function Grid(\n  {\n    data = [],\n    columns = [],\n    rowStyle = null,\n    columnStyle = null,\n    cellStyle = null,\n    selectedRows,\n    select = true,\n    multiselect = false,\n    header = true,\n    footer = false,\n    dynamic = null,\n    overlay = null,\n    reorder = false,\n    onReorder = null,\n    autoRowHeight = false,\n    sizes,\n    split,\n    tree = false,\n    autoConfig = false,\n    init = null,\n    responsive = null,\n    sortMarks,\n    undo = false,\n    hotkeys = null,\n    ...restProps\n  },\n  ref,\n) {\n  // keep latest rest props for event routing\n  const restPropsRef = useRef();\n  restPropsRef.current = restProps;\n\n  // init stores\n  const dataStore = useMemo(() => new DataStore(writable), []);\n  const firstInRoute = useMemo(() => dataStore.in, [dataStore]);\n\n  const lastInRouteRef = useRef(null);\n  if (lastInRouteRef.current === null) {\n    lastInRouteRef.current = new EventBusRouter((a, b) => {\n      const name = 'on' + camelize(a);\n      if (restPropsRef.current && restPropsRef.current[name]) {\n        restPropsRef.current[name](b);\n      }\n    });\n    firstInRoute.setNext(lastInRouteRef.current);\n  }\n\n  // public API\n  const api = useMemo(\n    () => ({\n      getState: dataStore.getState.bind(dataStore),\n      getReactiveState: dataStore.getReactive.bind(dataStore),\n      getStores: () => ({ data: dataStore }),\n      exec: firstInRoute.exec,\n      setNext: (ev) => {\n        lastInRouteRef.current = lastInRouteRef.current.setNext(ev);\n        return lastInRouteRef.current;\n      },\n      intercept: firstInRoute.intercept.bind(firstInRoute),\n      on: firstInRoute.on.bind(firstInRoute),\n      detach: firstInRoute.detach.bind(firstInRoute),\n      getRow: dataStore.getRow.bind(dataStore),\n      getRowIndex: dataStore.getRowIndex.bind(dataStore),\n      getColumn: dataStore.getColumn.bind(dataStore),\n    }),\n    [dataStore, firstInRoute],\n  );\n\n  const [clientWidth, setClientWidth] = useState(0);\n  const [clientHeight, setClientHeight] = useState(0);\n  const [responsiveLevel, setResponsiveLevel] = useState(null);\n  const [responsiveConfig, setResponsiveConfig] = useState(null);\n\n  // auto config columns\n  const finalColumns = useMemo(() => {\n    if (autoConfig && !columns.length && data.length) {\n      const test = data[0];\n      const autoCols = [];\n\n      for (let key in test) {\n        if (key !== 'id' && key[0] !== '$') {\n          let col = {\n            id: key,\n            header: key[0].toUpperCase() + key.slice(1),\n          };\n\n          if (typeof autoConfig === 'object') {\n            col = { ...col, ...autoConfig };\n          }\n          autoCols.push(col);\n        }\n      }\n\n      return autoCols;\n    }\n\n    return (responsiveConfig && responsiveConfig.columns) ?? columns;\n  }, [autoConfig, columns, data, responsiveConfig]);\n\n  const finalSizes = useMemo(\n    () => (responsiveConfig && responsiveConfig.sizes) ?? sizes,\n    [responsiveConfig, sizes],\n  );\n\n  const resize = useCallback(\n    (rect) => {\n      setClientWidth(rect.width);\n      setClientHeight(rect.height);\n\n      if (responsive) {\n        const levels = Object.keys(responsive)\n          .map(Number)\n          .sort((a, b) => a - b);\n\n        const newLevel = levels.find((level) => rect.width <= level) ?? null;\n\n        if (newLevel !== responsiveLevel) {\n          setResponsiveConfig(responsive[newLevel]);\n          setResponsiveLevel(newLevel);\n        }\n      }\n    },\n    [responsive, responsiveLevel],\n  );\n\n\n  const _skin = useContext(context.theme);\n\n  const initOnceRef = useRef(0);\n  useEffect(() => {\n    if (!initOnceRef.current) {\n      if (init) init(api);\n    } else {\n      const prev = dataStore.getState();\n      dataStore.init({\n        data,\n        columns: finalColumns,\n        split: split || prev.split,\n        sizes: finalSizes || prev.sizes,\n        selectedRows: selectedRows || prev.selectedRows,\n        dynamic,\n        tree,\n        sortMarks: sortMarks || prev.sortMarks,\n        undo,\n        reorder,\n        _skin,\n        _select: select,\n      });\n    }\n    initOnceRef.current++;\n  }, [\n    dataStore,\n    data,\n    finalColumns,\n    split,\n    finalSizes,\n    selectedRows,\n    dynamic,\n    tree,\n    sortMarks,\n    undo,\n    reorder,\n    _skin,\n    select,\n    init,\n    api,\n  ]);\n\n  if (initOnceRef.current === 0) {\n    dataStore.init({\n      data,\n      columns: finalColumns,\n      split: split || { left: 0 },\n      sizes: finalSizes || {},\n      selectedRows: selectedRows || [],\n      dynamic,\n      tree,\n      sortMarks: sortMarks || {},\n      undo,\n      reorder,\n      _skin,\n      select,\n    });\n  }\n\n  // expose API via ref\n  useImperativeHandle(\n    ref,\n    () => ({\n      ...api,\n    }),\n    [api],\n  );\n\n  return (\n    <StoreContext.Provider value={api}>\n      <Locale words={en} optional={true}>\n        <Layout\n          header={header}\n          footer={footer}\n          overlay={overlay}\n          rowStyle={rowStyle}\n          columnStyle={columnStyle}\n          cellStyle={cellStyle}\n          onReorder={onReorder}\n          multiselect={multiselect}\n          autoRowHeight={autoRowHeight}\n          clientWidth={clientWidth}\n          clientHeight={clientHeight}\n          responsiveLevel={responsiveLevel}\n          resize={resize}\n          hotkeys={hotkeys}\n        />\n      </Locale>\n    </StoreContext.Provider>\n  );\n});\n\nexport default Grid;\n","import './HeaderMenuItem.css';\n\nfunction HeaderMenuItem({ item }) {\n  return (\n    <div\n      tabIndex={-1}\n      role=\"menuitem\"\n      aria-label={\n        item.hidden ? `Show ${item.text} column` : `Hide ${item.text} column`\n      }\n    >\n      <div\n        className={'wx-v13lZxja wx-icon' + (item.hidden ? ' wx-hidden' : '')}\n      >\n        <i className=\"wx-v13lZxja wxi-eye\"></i>\n      </div>\n      <span>{item.text}</span>\n    </div>\n  );\n}\n\nexport default HeaderMenuItem;\n","import { useEffect, useMemo } from 'react';\nimport { ContextMenu, registerMenuItem } from '@svar-ui/react-menu';\nimport HeaderMenuItem from './HeaderMenuItem.jsx';\nimport { useStoreLater } from '@svar-ui/lib-react';\n\nexport default function HeaderMenu({ columns = null, api, children }) {\n  useEffect(() => {\n    registerMenuItem('table-header', HeaderMenuItem);\n  }, []);\n\n  function getLabel(col) {\n    for (let i = col.header.length - 1; i >= 0; i--) {\n      const text = col.header[i].text;\n      if (text) return text;\n    }\n    return col.id;\n  }\n\n  function headerMenuClick(e) {\n    const col = e.action;\n    if (col) {\n      api.exec('hide-column', { id: col.id, mode: !col.hidden });\n    }\n  }\n\n  function open(id) {\n    return id;\n  }\n\n  const rColumns = useStoreLater(api, '_columns');\n\n  const headerMenuOptions = useMemo(() => {\n    if (api) {\n      const source = Array.isArray(rColumns) ? rColumns : [];\n      const included = columns ? source.filter((c) => columns[c.id]) : source;\n\n      return included.map((c) => {\n        const text = getLabel(c);\n        return {\n          id: c.id,\n          text,\n          type: 'table-header',\n          hidden: c.hidden,\n        };\n      });\n    } else {\n      return [];\n    }\n  }, [api, columns, rColumns]);\n\n  return (\n    <ContextMenu\n      dataKey=\"headerId\"\n      options={headerMenuOptions}\n      onClick={headerMenuClick}\n      at=\"point\"\n      resolver={open}\n    >\n      {typeof children === 'function' ? children() : children}\n    </ContextMenu>\n  );\n}\n","import { useEffect, useRef, useState } from 'react';\nimport { getRenderValue } from '@svar-ui/grid-store';\nimport './Tooltip.css';\n\nfunction Tooltip(props) {\n  const { content: Content = null, api, children } = props;\n\n  const areaRef = useRef(null);\n  const tooltipRef = useRef(null);\n\n  const [areaCoords, setAreaCoords] = useState();\n  const [tooltipData, setTooltipData] = useState();\n  const [pos, setPos] = useState();\n\n  function findAttribute(node) {\n    while (node) {\n      if (node.getAttribute) {\n        const id = node.getAttribute('data-row-id');\n        const colId = node.getAttribute('data-col-id');\n        if (id && api && colId) {\n          const col = api.getColumn(colId);\n          return { id, col, target: node };\n        }\n      }\n      node = node.parentNode;\n    }\n    return { id: null, col: null, target: null };\n  }\n\n  useEffect(() => {\n    const node = tooltipRef.current;\n    if (node && areaCoords && pos) {\n      let tooltipCoords = node.getBoundingClientRect();\n      let newLeft = pos.left;\n      let newTop = pos.top;\n      if (tooltipCoords.right >= areaCoords.right) {\n        newLeft = areaCoords.width - tooltipCoords.width - 5;\n      }\n      if (tooltipCoords.bottom >= areaCoords.bottom) {\n        newTop = pos.top - (tooltipCoords.bottom - areaCoords.bottom + 2);\n      }\n      if (newLeft !== pos.left || newTop !== pos.top) {\n        setPos({ ...pos, left: newLeft, top: newTop });\n      }\n    }\n  }, [areaCoords, pos]);\n\n  const timerRef = useRef();\n  const TIMEOUT = 300;\n\n  const debounce = (code) => {\n    clearTimeout(timerRef.current);\n    timerRef.current = setTimeout(() => {\n      code();\n    }, TIMEOUT);\n  };\n\n  function move(e) {\n    const { id, target, col } = findAttribute(e.target);\n    setPos(null);\n    if (!id) {\n      clearTimeout(timerRef.current);\n      return;\n    }\n    const clientX = e.clientX;\n\n    debounce(() => {\n      let text = '';\n      if (id) {\n        const data = getTooltipData(id);\n        setTooltipData(data);\n        text = getTooltipText(col, data);\n      }\n      const targetCoords = target.getBoundingClientRect();\n      const areaEl = areaRef.current;\n      if (!areaEl) return;\n      const areaRect = areaEl.getBoundingClientRect();\n      setAreaCoords(areaRect);\n      const top = targetCoords.top + targetCoords.height - areaRect.top;\n      const left = clientX - areaRect.left;\n      setPos({ top, left, col, text });\n    });\n  }\n\n  function getTooltipData(id) {\n    return api.getRow(id);\n  }\n\n  function getTooltipText(col, data) {\n    data = data || tooltipData;\n    if (typeof col.tooltip === 'function') return col.tooltip(data);\n    return getRenderValue(data, col) || '';\n  }\n\n  return (\n    <div className=\"wx-RYccULtD wx-area\" ref={areaRef} onMouseMove={move}>\n      {pos && pos.col.tooltip !== false && (Content || pos.text) ? (\n        <div\n          className=\"wx-RYccULtD tooltip\"\n          role=\"alert\"\n          tabIndex={0}\n          ref={tooltipRef}\n          style={{ top: pos.top + 'px', left: pos.left + 'px' }}\n        >\n          {Content ? <Content data={tooltipData} /> : pos.text}\n        </div>\n      ) : null}\n      {children}\n    </div>\n  );\n}\n\nexport default Tooltip;\n","import { useContext, useMemo } from 'react';\nimport { ContextMenu as WxContextMenu } from '@svar-ui/react-menu';\nimport { context } from '@svar-ui/react-core';\nimport { useStoreLater } from '@svar-ui/lib-react';\n\nimport {\n  defaultMenuOptions,\n  assignChecks,\n  handleAction,\n} from '@svar-ui/grid-store';\nimport { locale } from \"@svar-ui/lib-dom\";\nimport { en } from \"@svar-ui/grid-locales\";\nimport './ContextMenu.css';\n\nfunction ContextMenu({\n  api,\n  options = [...defaultMenuOptions],\n  at = 'point',\n  resolver,\n  dataKey,\n  filter,\n  css,\n  children,\n  handler,\n  onClick,\n}) {\n  const i18n = useContext(context.i18n);\n  const _ = useMemo(() => i18n ? i18n.getGroup('grid') : locale(en).getGroup('grid'), [i18n]);\n\n  const selectedRows = useStoreLater(api, 'selectedRows');\n  const data = useStoreLater(api, 'data');\n  const reorder = useStoreLater(api, 'reorder');\n\n  const normalizedOptions = useMemo(() => {\n    const filtered = filterItems(options);\n    const normalized = assignChecks(filtered);\n    applyLocale(normalized);\n    return normalized;\n  }, [options, reorder, data]);\n\n  function applyLocale(options) {\n    options.forEach(op => {\n      if (op.text) op.text = _(op.text);\n      if (op.subtext) op.subtext = _(op.subtext);\n      if (op.data) op.data = applyLocale(op.data);\n    });\n  }\n\n  const finalOptions = useMemo(() => {\n    const opts = [];\n    normalizedOptions.forEach(item => {\n      switch (item.id) {\n        case 'move-item:up':\n        case 'move-item:down':\n        case 'paste-row': {\n          if (!item.isDisabled || !api) {\n            opts.push(item);\n            return;\n          }\n          \n          const disabled = item.isDisabled(\n            item.id === 'paste-row' ? api : selectedRows,\n            data\n          );\n\n          opts.push({\n            ...item,\n            disabled,\n          });\n          break;\n        }\n        default: {\n          opts.push(item);\n          break;\n        }\n      }\n    });\n    return opts;\n  }, [normalizedOptions, selectedRows, data, api]);\n\n  function getItem(id) {\n    if (!selectedRows.includes(id)) {\n      api.exec('select-row', { id });\n    }\n    return id;\n  }\n\n  const handleClicks = (ev) => {\n    const option = ev.action;\n    if (option) handleAction(api, option.id);\n    onClick && onClick(ev);\n  };\n\n  function filterItems(items) {\n    if (reorder) return items;\n    return items.filter(({ id }) => {\n      return !(id === 'move-item:up' || id === 'move-item:down');\n    });\n  }\n\n  const resolverProp = resolver !== undefined ? resolver : getItem;\n\n  return (\n    <WxContextMenu\n      css={`wx-KKGLK8TH wx-table-menu ${css}`}\n      at={at}\n      dataKey={dataKey}\n      handler={handler}\n      options={finalOptions}\n      resolver={resolverProp}\n      filter={filter}\n      onClick={handleClicks}\n    >\n      {children}\n    </WxContextMenu>\n  );\n}\n\nexport default ContextMenu;\n","import { useMemo, useContext } from 'react';\nimport { Toolbar } from '@svar-ui/react-toolbar';\nimport {\n\tdefaultToolbarButtons,\n\tassignChecks,\n\thandleAction,\n} from '@svar-ui/grid-store';\nimport { locale } from '@svar-ui/lib-dom';\nimport { en } from '@svar-ui/grid-locales';\nimport { context } from '@svar-ui/react-core';\nimport { useStoreLater } from '@svar-ui/lib-react';\n\nexport default function ToolbarComponent({\n\tapi,\n\titems = [...defaultToolbarButtons],\n\tonClick,\n\t...restProps\n}) {\n\tconst i18nContext = useContext(context.i18n);\n\tconst _ =\n\t\ti18nContext?.getGroup('grid') || locale(en).getGroup('grid');\n\n\tconst selectedRows = useStoreLater(api, 'selectedRows');\n\tconst data = useStoreLater(api, 'data');\n\tconst history = useStoreLater(api, 'history');\n\tconst reorder = useStoreLater(api, 'reorder');\n\tconst undo = useStoreLater(api, 'undo');\n\n\tconst rowActions = [\n\t\t'open-editor',\n\t\t'delete-row',\n\t\t'copy-row',\n\t\t'cut-row',\n\t\t'paste-row',\n\t\t'move-item:up',\n\t\t'move-item:down',\n\t];\n\tconst historyActions = ['undo', 'redo'];\n\n\tconst normalizedItems = useMemo(() => {\n\t\tconst filtered = filterItems(items);\n\t\tconst normalized = assignChecks(filtered);\n\t\tapplyLocale(normalized);\n\t\treturn normalized;\n\n\t\tfunction filterItems(items) {\n\t\t\tif (undo && reorder) return items;\n\t\t\treturn items.filter(({ id }) => {\n\t\t\t\treturn !(\n\t\t\t\t\t(!undo && (id === 'undo' || id === 'redo')) ||\n\t\t\t\t\t(!reorder &&\n\t\t\t\t\t\t(id === 'move-item:up' || id === 'move-item:down'))\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\n\t\tfunction applyLocale(options) {\n\t\t\toptions.forEach(op => {\n\t\t\t\tif (op.text) op.text = _(op.text);\n\t\t\t\tif (op.menuText) op.menuText = _(op.menuText);\n\t\t\t\tif (op.items) op.items = applyLocale(op.items);\n\t\t\t});\n\t\t}\n\t}, [items, undo, reorder, _]);\n\n\tconst buttons = useMemo(() => {\n\t\tconst finalButtons = [];\n\t\tconst selected = selectedRows?.length;\n\t\tnormalizedItems.forEach(item => {\n\t\t\tconst action = item.id;\n\t\t\tif (action === 'add-row') {\n\t\t\t\tfinalButtons.push(item);\n\t\t\t} else if (rowActions.includes(action)) {\n\t\t\t\tif (!selected) return;\n\t\t\t\tfinalButtons.push({\n\t\t\t\t\t...item,\n\t\t\t\t\tdisabled:\n\t\t\t\t\t\titem.isDisabled &&\n\t\t\t\t\t\titem.isDisabled(\n\t\t\t\t\t\t\taction === 'paste-row' ? api : selectedRows,\n\t\t\t\t\t\t\tdata\n\t\t\t\t\t\t),\n\t\t\t\t});\n\t\t\t} else if (historyActions.includes(action)) {\n\t\t\t\tfinalButtons.push({\n\t\t\t\t\t...item,\n\t\t\t\t\tdisabled: item.isDisabled(history),\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tfinalButtons.push(item);\n\t\t\t}\n\t\t});\n\t\treturn finalButtons;\n\t}, [normalizedItems, selectedRows, data, history, api, rowActions, historyActions]);\n\n\tconst handleClicks = ev => {\n\t\tconst option = ev.item;\n\t\tif (option) handleAction(api, option.id);\n\t\tonClick && onClick(ev);\n\t};\n\n\treturn <Toolbar items={buttons} onClick={handleClicks} {...restProps} />;\n}\n","import { Material as CoreMaterial } from '@svar-ui/react-core';\nimport './Material.css';\n\nfunction Material({ fonts = true, children }) {\n  if (children) {\n    return <CoreMaterial fonts={fonts}>{children}</CoreMaterial>;\n  } else {\n    return <CoreMaterial fonts={fonts} />;\n  }\n}\n\nexport default Material;\n","import { Willow as WillowCore } from '@svar-ui/react-core';\nimport './Willow.css';\n\nfunction Willow({ fonts = true, children }) {\n  if (children) {\n    return <WillowCore fonts={fonts}>{children}</WillowCore>;\n  } else {\n    return <WillowCore fonts={fonts} />;\n  }\n}\n\nexport default Willow;\n","import { WillowDark as WillowDarkCore } from '@svar-ui/react-core';\nimport './WillowDark.css';\n\nfunction WillowDark({ fonts = true, children }) {\n  if (children) {\n    return <WillowDarkCore fonts={fonts}>{children}</WillowDarkCore>;\n  } else {\n    return <WillowDarkCore fonts={fonts} />;\n  }\n}\n\nexport default WillowDark;\n","import Grid from './components/Grid.jsx';\nimport HeaderMenu from './components/menus/HeaderMenu.jsx';\nimport Tooltip from './components/Tooltip.jsx';\nimport ContextMenu from './components/menus/ContextMenu.jsx';\nimport Toolbar from './components/Toolbar.jsx';\n\nimport Material from './themes/Material.jsx';\nimport Willow from './themes/Willow.jsx';\nimport WillowDark from './themes/WillowDark.jsx';\n\nexport {\n  getEditorConfig,\n  defaultMenuOptions,\n  defaultToolbarButtons,\n} from '@svar-ui/grid-store';\n\nimport { setEnv, env } from '@svar-ui/lib-dom';\nsetEnv(env);\n\nexport {\n  Grid,\n  HeaderMenu,\n  Tooltip,\n  ContextMenu,\n  Material,\n  Willow,\n  WillowDark,\n  Toolbar,\n};\n"],"names":["store","createContext","onresize","node","handler","ro","data","SHIFT","LONG_TOUCH_DELAY","getID","id","getOffset","box","body","top","left","getPos","ev","offset","reorder","config","cfg","context","touchTimer","startPos","started","touched","container","resetTimer","down","source","locate","move","p","start","end","scrollLeft","scrollTop","up","handleMouseDown","preventUserSelect","handleMouseMove","handleMouseUp","handleTouchStart","handleTouchEnd","handleTouchMove","handleContext","preventDefault","hasDraggable","full","SCROLL_SPEED_DELTA","initScrollState","tryAutoScroll","dragScrollConfig","bottom","sense","xScroll","yScroll","rPos","newDirX","newDirY","resetAutoScroll","startAutoScroll","dir","autoScroll","x","y","autoXScroll","autoYScroll","scroll","autoScrollTo","value","mode","getStyle","width","flexgrow","fixed","right","height","style","getCssName","column","cell","columnStyle","css","pos","Cell","props","row","cellStyle","children","focusable","setFocusable","useWritableProp","api","useContext","storeContext","focusCell","useStore","search","shouldHighlight","useMemo","buildCellCss","columnStyleFn","cellStyleFn","isDraggable","cellElRef","useRef","useEffect","toggleFocusAction","useCallback","highlightText","text","regex","className","shadowToggle","fixedRightToggle","CellComponent","jsxs","jsx","Fragment","action","getRenderValue","highlight","index","resize","dx","Component","filter","filterValue","filterRows","Text","Richselect","options","getOptions","template","d","getValue","opt","handleKeyDown","RichSelect","option","filters","Filter","filterValues","HeaderCell","lastRow","sortRow","bodyHeight","hasSplit","sortMarksValue","sortMark","startRef","resizeColumn","inProgress","sort","order","collapse","toggleCollapseColumn","toggleSortColumn","isCollapsed","overlay","collapsedTextStyle","getCell","key","collapsedClassName","normalClassName","gripRef","cleanup","FooterCell","React","HeaderFooter","deltaLeft","contentWidth","columns","type","sizes","split","rowHeights","renderedHeader","res","rowsCount","ri","inSpan","col","ci","isCommunity","getColumn","c","isLast","ind","idx","isSort","i","Overlay","isComponent","prop","actions","editor","setValue","useState","updateValue","closeAndSave","Combo","onAction","setText","filterOptions","setFilterOptions","a","navigate","keydown","ready","handleChange","e","nextText","inputRef","SuggestDropdown","Datepicker","nodeRef","Dropdown","Calendar","setKeydown","editors","Editor","closeEditor","ignore","save","ignoreFocus","cancel","keyHandler","computedStyle","ed","rootRef","destroy","clickOutside","role","ariaReadonly","_columns","getColumnCss","CellComp","styleObject","getPrintCellStyle","getPrintFilterValue","Grid","rowStyle","header","footer","headerColumns","getHeaderFooterPrintColumns","footerColumns","isDraggableIcon","rowIndex","Print","restProps","skin","grids","getPrintColumns","target","cloned","rule","cols","Layout","multiselect","onReorder","autoRowHeight","clientWidth","clientHeight","responsiveLevel","hotkeysConfig","dynamic","selectedRows","selectionChanged","useStoreWithCounter","selectState","editorState","tree","printConfig","undoState","rowHeightFromData","SCROLLSIZE","setSCROLLSIZE","getScrollSize","setScrollLeft","setScrollTop","hasAny","defaultRowHeight","tableNodeRef","dragItem","setDragItem","dragNode","setDragNode","leftColumns","rightColumns","centerColumns","center","fullWidth","acc","EXTRACOLUMNS","getHeaderPosition","delta","spanStartInd","h","renderColumns","dataCols","headerCols","footerCols","sum","rightSpanDelta","hCell","colspan","diff","headerPos","footerPos","dh","csH","df","csF","headerHeight","footerHeight","hasHScroll","visibleRowsHeight","visibleRows","rowHeightsRef","renderedHeight","setRenderedHeight","renderEnd","setRenderEnd","renderRows","deltaTop","EXTRAROWS","st","startInd","topHeight","visibleRowsCount","currentHeight","totalCount","fullHeight","count","totalHeight","hasVScroll","globalWidth","lastCallRef","dataRows","visibleSelection","s","r","renderStart","onScroll","lockSelection","checkDraggable","postDragRef","movementYRef","bodyClickHandlers","rowId","locateAttr","toggle","range","startDrag","sourceNode","from","itemNode","element","offsetX","vScrollSize","itemPos","moveDrag","min","max","targetRow","to","toId","rowHeight","targetRect","dragNodePos","targetNodePos","initialMode","endDrag","div","styleWidth","dataElRef","adjustHeight","rh","re","focus","setFocus","cind","scrollRef","dragState","drag","hotkeys","defaultHotkeys","v","scrollConfig","scrollTo","bodyRef","result","delegateClick","gridClassName","rIndex","isSelected","isInactive","rowClass","rowStyleProp","camelize","part","forwardRef","select","autoConfig","init","responsive","sortMarks","undo","ref","restPropsRef","dataStore","DataStore","writable","firstInRoute","lastInRouteRef","EventBusRouter","b","name","setClientWidth","setClientHeight","setResponsiveLevel","responsiveConfig","setResponsiveConfig","finalColumns","test","autoCols","finalSizes","rect","newLevel","level","_skin","initOnceRef","prev","useImperativeHandle","StoreContext","Locale","en","HeaderMenuItem","item","HeaderMenu","registerMenuItem","getLabel","headerMenuClick","open","rColumns","useStoreLater","headerMenuOptions","ContextMenu","Tooltip","Content","areaRef","tooltipRef","areaCoords","setAreaCoords","tooltipData","setTooltipData","setPos","findAttribute","colId","tooltipCoords","newLeft","newTop","timerRef","TIMEOUT","debounce","code","clientX","getTooltipData","getTooltipText","targetCoords","areaEl","areaRect","defaultMenuOptions","at","resolver","dataKey","onClick","i18n","_","locale","normalizedOptions","filtered","filterItems","normalized","assignChecks","applyLocale","op","finalOptions","opts","disabled","getItem","handleClicks","handleAction","items","resolverProp","WxContextMenu","ToolbarComponent","defaultToolbarButtons","history","rowActions","historyActions","normalizedItems","buttons","finalButtons","selected","Toolbar","Material","fonts","CoreMaterial","Willow","WillowCore","WillowDark","WillowDarkCore","setEnv","env"],"mappings":"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"}},
    {"offset": {"line": 14424, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@svar-ui/react-editor/dist/index.es.js","sources":["file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-editor/src/helpers.js","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-editor/src/en.js","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-editor/src/components/FormEditor.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-editor/src/editor.js","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-editor/src/components/Values.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-editor/src/components/Form.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-editor/src/components/Columns.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-editor/src/components/buttons/Toolbar.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-editor/src/components/buttons/buttons.js","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-editor/src/components/Panel.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-editor/src/components/Layout.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-editor/src/components/Editor.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-editor/src/themes/Material.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-editor/src/themes/Willow.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-editor/src/themes/WillowDark.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-editor/src/components/sections/ReadOnly.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-editor/src/components/sections/Section.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-editor/src/index.js"],"sourcesContent":["const handlers = {};\nexport function getItemHandler(type) {\n  return typeof type !== 'undefined'\n    ? handlers[type] || type\n    : handlers['text'];\n}\nexport function registerEditorItem(type, handler) {\n  handlers[type] = handler;\n}\n","export default {\n  editor: {},\n};\n","import { useEffect, useMemo, useRef, useContext } from 'react';\nimport { Field } from '@svar-ui/react-core';\nimport { context } from '@svar-ui/react-core';\nimport { getItemHandler } from '../helpers';\nimport './FormEditor.css';\n\nexport default function FormEditor(props) {\n  const {\n    editors,\n    data,\n    css = '',\n    errors,\n    focus = false,\n    onClick,\n    children,\n    onChange,\n  } = props;\n\n  const root = useRef(null);\n\n  useEffect(() => {\n    if (focus) {\n      const focused = document.activeElement;\n      if (focused && root.current && root.current.contains(focused)) return;\n\n      const input = root.current\n        ? root.current.querySelector(\n            'input:not([disabled]), textarea:not([disabled]), select:not([disabled])',\n          )\n        : null;\n\n      if (input) {\n        setTimeout(() => {\n          if (typeof input.select === 'function') {\n            input.select();\n          }\n          if (typeof input.focus === 'function') {\n            input.focus();\n          }\n        }, 300);\n      }\n    }\n  }, []);\n\n  const i18n = useContext(context.i18n);\n  const _ = useMemo(() => i18n.getGroup('editor'), [i18n]);\n\n  const overlay = useMemo(\n    () =>\n      editors.config[0].comp === 'readonly' &&\n      editors.config.every((editor) => !Object.keys(data).includes(editor.key)),\n    [editors, data],\n  );\n\n  return (\n    <div className={'wx-s2aE1xdZ wx-sections ' + css} ref={root}>\n      {children}\n      {overlay ? (\n        <div className=\"wx-s2aE1xdZ wx-overlay\">{_('No data')}</div>\n      ) : null}\n      {editors.config.map((editor) => {\n        if (!editor.hidden) {\n          const { key, onChange: onChangeEditor, ...otherProps } = editor;\n          if (editor.comp === 'readonly' || editor.comp === 'section') {\n            const Component = getItemHandler(editor.comp);\n            return (\n              <Component\n                key={key}\n                fieldKey={key}\n                label={editor.label}\n                value={data[key]}\n                {...otherProps}\n                onClick={onClick}\n              />\n            );\n          } else {\n            const Component2 = getItemHandler(editor.comp);\n            return (\n              <div key={key}>\n                <Field\n                  label={\n                    editor.labelTemplate\n                      ? editor.labelTemplate(data[key])\n                      : (editor.label ?? '')\n                  }\n                  required={editor.required}\n                >\n                    <Component2\n                      key={key}\n                      fieldKey={key}\n                      {...otherProps}\n                      onChange={\n                        onChangeEditor ||\n                        ((ev) => {\n                          onChange &&\n                            onChange({\n                              value: ev.value,\n                              key,\n                              input: ev.input,\n                            });\n                        })\n                      }\n                      label={undefined}\n                      error={errors && errors[key]}\n                      value={data[key]}\n                    />\n                </Field>\n                {errors && errors[key] && editor.validationMessage ? (\n                  <div className=\"wx-s2aE1xdZ wx-message\">\n                    {editor.validationMessage}\n                  </div>\n                ) : null}\n              </div>\n            );\n          }\n        }\n        return null;\n      })}\n    </div>\n  );\n}\n","import { uid, isSame } from '@svar-ui/lib-state';\n\nfunction rawGetter(key) {\n  if (typeof key === 'string' && key.includes('.')) {\n    const parts = key.split('.');\n    return (obj) => {\n      let out = obj;\n      parts.forEach((p) => {\n        out = out[p];\n      });\n      return out;\n    };\n  }\n\n  return (obj) => obj[key];\n}\nfunction rawSetter(key) {\n  if (typeof key === 'string' && key.includes('.')) {\n    const parts = key.split('.');\n    return (obj, v) => {\n      let out = obj;\n      parts.forEach((p, i) => {\n        if (i === parts.length - 1) out[p] = v;\n        else out = out[p];\n      });\n    };\n  }\n\n  return (obj, v) => (obj[key] = v);\n}\n\nexport function itemsToEditors(sections) {\n  const config = sections.map((s) => {\n    const obj = { ...s };\n    if (s.config) Object.assign(obj, s.config);\n\n    obj.key = s.key || uid();\n    obj.setter = s.setter || rawSetter(s.key);\n    obj.getter = s.getter || rawGetter(s.key);\n    return obj;\n  });\n\n  const getValues = (raw) => {\n    const out = {};\n    config.forEach((ed) => {\n      if (ed.comp === 'section') return;\n      if (ed.getter) out[ed.key] = ed.getter(raw);\n      else out[ed.key] = raw[ed.key];\n    });\n    return out;\n  };\n\n  const setValues = (out, values, changes) => {\n    const fields = changes.length\n      ? changes.map((key) => config.find((a) => a.key === key))\n      : config;\n    fields.forEach((ed) => {\n      if (ed.setter) ed.setter(out, values[ed.key]);\n      else out[ed.key] = values[ed.key];\n    });\n\n    return out;\n  };\n\n  const diff = (raw, values) => {\n    const initial = getValues(raw);\n    const changes = [];\n    config.forEach((ed) => {\n      const a = initial[ed.key];\n      const b = values[ed.key];\n      // we can have a situation when initial value is undefined\n      // but empty editor will return empty value instead of undefined\n      // this behavior is correct, but we need to ignore this case\n      if (!isSame(a, b) && (a !== undefined || !!b)) {\n        changes.push(ed.key);\n      }\n    });\n\n    return changes;\n  };\n\n  const validateValues = (values, changes, _) => {\n    let any = 0;\n    const errors = {};\n\n    const fields = changes?.length\n      ? changes.map((key) => config.find((a) => a.key === key))\n      : config;\n\n    fields.forEach((ed) => {\n      if (ed.required && !values[ed.key]) {\n        errors[ed.key] = {\n          errorType: 'required',\n        };\n        ed.validationMessage =\n          ed.validationMessage ?? _('This field is required');\n        any++;\n      } else if (ed.validation && !ed.validation(values[ed.key])) {\n        errors[ed.key] = {\n          errorType: 'validation',\n        };\n        ed.validationMessage = ed.validationMessage ?? _('Invalid value');\n        any++;\n      }\n    });\n\n    return any > 0 ? errors : null;\n  };\n\n  return {\n    config: config.filter((x) => x.comp !== 'hidden'),\n    getValues,\n    setValues,\n    diff,\n    validateValues,\n  };\n}\n","import { useState, useEffect, useMemo, useContext } from 'react';\nimport { itemsToEditors } from '../editor';\nimport { deepCopy, isSame } from '@svar-ui/lib-state';\nimport { useWritableProp } from '@svar-ui/lib-react';\nimport { context } from '@svar-ui/react-core';\n\nexport default function Values({\n  values: valuesProp,\n  items,\n  css,\n  activeBatch,\n  autoSave,\n  focus,\n  readonly,\n  topBar = true,\n  bottomBar = true,\n  layout = 'default',\n  placement = 'inline',\n  view: View,\n  children,\n  onChange,\n  onSave,\n  onAction,\n  onValidation,\n  hotkeys,\n}) {\n  const i18n = useContext(context.i18n);\n  const _ = i18n.getGroup('editor');\n\n  const [values, setValues] = useWritableProp(valuesProp);\n\n  const [activatedSection, setActivatedSection] = useState(null);\n\n  const editors = useMemo(() => {\n    const editorsObj = itemsToEditors(items);\n\n    if (activatedSection) {\n      editorsObj.config.forEach((x) => {\n        if (x.comp === 'section') {\n          if (x.key === activatedSection) {\n            if (x.sectionMode === 'accordion') {\n              if (!x.activeSection) {\n                editorsObj.config.forEach((y) => {\n                  if (y.comp === 'section' && y.key !== x.key) {\n                    y.activeSection = false;\n                  }\n                });\n                x.activeSection = true;\n              }\n            } else {\n              x.activeSection = !x.activeSection;\n            }\n          }\n        }\n      });\n    }\n\n    let sections = new Set();\n    let exclusive = null;\n\n    editorsObj.config.forEach((x) => {\n      if (x.sectionMode === 'exclusive' && x.activeSection) exclusive = x.key;\n      if (x.activeSection) sections.add(x.key);\n    });\n\n    editorsObj.config.forEach((x) => {\n      x.hidden =\n        x.hidden ||\n        (activeBatch && activeBatch !== x.batch) ||\n        (exclusive && x.key != exclusive && x.section !== exclusive) ||\n        (x.section && !sections.has(x.section));\n    });\n\n    if (readonly) {\n      return {\n        ...editorsObj,\n        config: editorsObj.config.map((s) => ({ ...s, comp: 'readonly' })),\n        diff: () => [],\n      };\n    }\n    return editorsObj;\n  }, [items, activatedSection, activeBatch, readonly]);\n\n  const [actualValues, setActualValues] = useState({});\n  const [data, setData] = useState({});\n\n  const d = values;\n\n  useEffect(() => {\n    if (values !== undefined) {\n      setActualValues(deepCopy(values));\n      setData(deepCopy(values));\n      if (d.errors) {\n        d.errors = runValidation();\n      }\n    }\n  }, [values]);\n\n  const [notSaved, setNotSaved] = useState([]);\n  useEffect(() => {\n    if (values) setNotSaved([]);\n  }, [values]);\n\n  function getUniqueFields(arr) {\n    return [...new Set(arr)];\n  }\n\n  function runValidation(changes) {\n    const check = editors.validateValues(actualValues, changes, _);\n\n    if (!isSame(check, d.errors)) {\n      onValidation && onValidation({ errors: check, values: actualValues });\n    }\n\n    return check;\n  }\n\n  function handleUpdate(changes, updateData) {\n    if (autoSave && !d.errors) {\n      const updated = editors.setValues(values, updateData ?? data, changes);\n      // Ensure the writable prop reflects the updated values\n      setValues(updated);\n      onSave && onSave({ changes, values: updated });\n    } else {\n      setNotSaved(changes);\n    }\n  }\n\n  function handleChanges({ value, key, input }) {\n    let newData = { ...(data || {}), [key]: value };\n    const event = {\n      key,\n      value,\n      update: newData,\n    };\n    if (input) event.input = input;\n    onChange && onChange(event);\n\n    if (!values) return;\n\n    newData = event.update;\n    setData(newData);\n\n    const changes = editors.diff(values, newData);\n\n    const newActualValues = editors.setValues(\n      { ...(actualValues || {}) },\n      newData,\n      getUniqueFields([...changes, key]),\n    );\n    setActualValues(newActualValues);\n\n    if (changes.length) {\n      const fieldsToValidate = autoSave\n        ? []\n        : getUniqueFields([...changes, ...Object.keys(d.errors ?? {}), key]);\n      d.errors = runValidation(fieldsToValidate);\n      handleUpdate(changes, newData);\n    } else {\n      const errorsFields = Object.keys(d.errors ?? {});\n      if (errorsFields.length) d.errors = runValidation(errorsFields);\n      setNotSaved([]);\n    }\n  }\n\n  function saveAction() {\n    if (!notSaved.length) return;\n    if (!autoSave) d.errors = runValidation();\n    if (!d.errors) {\n      onSave &&\n        onSave({\n          changes: notSaved,\n          values: actualValues,\n        });\n      const updated = editors.setValues(values, data, notSaved);\n      setValues(updated);\n      setNotSaved([]);\n\n      setValues({ ...actualValues });\n    }\n  }\n\n  function handleAction({ item }) {\n    if (item.id === 'save') {\n      saveAction();\n    } else if (item.id === 'toggle-section') {\n      setActivatedSection(item.key);\n    }\n    onAction && onAction({ item, values: actualValues, changes: notSaved });\n  }\n\n  return (\n    <View\n      topBar={topBar}\n      bottomBar={bottomBar}\n      placement={placement}\n      layout={layout}\n      readonly={readonly}\n      autoSave={autoSave}\n      css={css}\n      data={data}\n      editors={editors}\n      focus={focus}\n      hotkeys={hotkeys}\n      errors={d.errors}\n      onClick={handleAction}\n      onKeyDown={handleAction}\n      onChange={handleChanges}\n    >\n      {children}\n    </View>\n  );\n}\n","import { Locale } from '@svar-ui/react-core';\nimport en from '../en.js';\n\nimport Editor from './FormEditor.jsx';\nimport Values from './Values.jsx';\nimport './Form.css';\n\nfunction Form({\n  values = {},\n  items = [],\n  css = '',\n  activeBatch = null,\n  focus = false,\n  autoSave = true,\n  readonly = false,\n  children,\n  ...restProps\n}) {\n  const processedRestProps = {};\n  for (const key in restProps) {\n    if (/^on[a-z]/.test(key)) {\n      const newKey = 'on' + key.charAt(2).toUpperCase() + key.slice(3);\n      // If a camelCase version already exists on restProps, prefer that and skip the lower-case variant\n      if (newKey in restProps) {\n        continue;\n      }\n      processedRestProps[newKey] = restProps[key];\n      continue;\n    }\n    processedRestProps[key] = restProps[key];\n  }\n\n  return (\n    <Locale words={en} optional={true}>\n      <div className=\"wx-H902AF2Y wx-content\">\n        <Values\n          view={Editor}\n          values={values}\n          items={items}\n          css={css}\n          focus={focus}\n          activeBatch={activeBatch}\n          autoSave={autoSave}\n          readonly={readonly}\n          {...processedRestProps}\n        >\n          {children}\n        </Values>\n      </div>\n    </Locale>\n  );\n}\n\nexport default Form;\n","import { useMemo } from 'react';\nimport Editor from './FormEditor.jsx';\nimport './Columns.css';\n\nfunction Columns(props) {\n  const { editors, data, layout, errors, focus, onClick, onChange } = props;\n\n  const columns = useMemo(() => {\n    let cols = [];\n    if (layout === 'columns') {\n      cols = [\n        { ...editors, config: [] },\n        { ...editors, config: [] },\n      ];\n      editors.config.forEach((field) => {\n        const index = field.column === 'left' ? 0 : 1;\n        cols[index].config.push(field);\n      });\n\n      if (cols[0].config.length) {\n        const obj = cols[0].config[0];\n        if (obj.comp === 'text') {\n          cols[0][0] = {\n            ...obj,\n            css: 'title',\n            label: '',\n          };\n        }\n      }\n    }\n    return cols;\n  }, [layout, editors]);\n\n  if (layout === 'columns') {\n    return (\n      <div className=\"wx-bNrSbszs wx-cols\">\n        <div className=\"wx-bNrSbszs wx-left\">\n          <Editor\n            editors={columns[0]}\n            data={data}\n            errors={errors}\n            onClick={onClick}\n            onChange={onChange}\n          />\n        </div>\n        <div className=\"wx-bNrSbszs wx-right\">\n          <Editor\n            editors={columns[1]}\n            data={data}\n            focus={focus}\n            errors={errors}\n            onClick={onClick}\n            onChange={onChange}\n          />\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <Editor\n      editors={editors}\n      data={data}\n      focus={focus}\n      errors={errors}\n      onClick={onClick}\n      onChange={onChange}\n    />\n  );\n}\n\nexport default Columns;\n","import { useCallback } from 'react';\nimport { Toolbar as WxToolbar } from '@svar-ui/react-toolbar';\nimport './Toolbar.css';\n\nfunction Toolbar({\n  items,\n  values = null,\n  top = true,\n  onClick,\n  onChange: onChangeForm,\n}) {\n  const onChange = useCallback(\n    ({ item, value }) => {\n      onChangeForm && onChangeForm({ key: item.key, value });\n    },\n    [onChangeForm],\n  );\n\n  return items.length ? (\n    <div\n      className={`wx-66OW1j0R wx-editor-toolbar ${top ? 'wx-topbar' : 'wx-bottom'}`}\n    >\n      <WxToolbar\n        items={items}\n        values={values}\n        onClick={onClick}\n        onChange={onChange}\n      />\n    </div>\n  ) : null;\n}\n\nexport default Toolbar;\n","export const Spacer = () => ({ comp: 'spacer' });\nexport const CancelButton = (_) => ({\n  comp: 'button',\n  text: _('Cancel'),\n  id: 'cancel',\n});\nexport const SaveButton = (_) => ({\n  type: 'primary',\n  comp: 'button',\n  text: _('Save'),\n  id: 'save',\n});\nexport const CloseIcon = () => ({\n  comp: 'icon',\n  icon: 'wxi-close',\n  id: 'close',\n});\n","import { useContext, useMemo, useRef } from 'react';\nimport { context } from '@svar-ui/react-core';\nimport { useHotkeys } from '@svar-ui/lib-react';\n\nimport Columns from './Columns.jsx';\nimport Toolbar from './buttons/Toolbar.jsx';\n\nimport {\n  SaveButton,\n  CancelButton,\n  CloseIcon,\n  Spacer,\n} from './buttons/buttons.js';\n\nimport './Panel.css';\n\nexport default function Panel(props) {\n  const {\n    data,\n    editors,\n    focus,\n    css,\n    topBar,\n    bottomBar,\n    layout,\n    placement,\n    errors,\n    readonly,\n    autoSave,\n    children,\n    onClick,\n    onKeyDown,\n    onChange,\n    hotkeys,\n  } = props;\n\n  const i18n = useContext(context.i18n);\n  const _ = useMemo(() => i18n.getGroup('editor'), [i18n]);\n\n  const autoBars = useMemo(\n    () => topBar === true && bottomBar === true,\n    [topBar, bottomBar],\n  );\n\n  const tbar = useMemo(() => {\n    let bar = topBar && topBar.items ? topBar.items.map((b) => ({ ...b })) : [];\n\n    if (autoBars) {\n      if (!readonly) {\n        if (autoSave) bar = [Spacer(), CloseIcon()];\n        else if (placement !== 'modal')\n          bar = [Spacer(), CancelButton(_), SaveButton(_)];\n\n        if (layout === 'columns' && !bar.length)\n          bar = [Spacer(), SaveButton(_), CancelButton(_)];\n      } else {\n        bar = [Spacer(), CloseIcon()];\n      }\n    }\n\n    return bar;\n  }, [topBar, autoBars, readonly, autoSave, placement, layout, _]);\n\n  const bbar = useMemo(() => {\n    let bar =\n      bottomBar && bottomBar.items\n        ? bottomBar.items.map((b) => ({ ...b }))\n        : [];\n\n    if (autoBars) {\n      if (!readonly) {\n        if (placement === 'modal' && !autoSave)\n          bar = [Spacer(), SaveButton(_), CancelButton(_)];\n        if (layout === 'columns' && tbar.length) bar = [];\n      }\n    }\n\n    return bar;\n  }, [bottomBar, autoBars, readonly, placement, autoSave, layout, tbar, _]);\n\n  const buttons = useMemo(() => [...tbar, ...bbar], [tbar, bbar]);\n\n  const rootRef = useRef(null);\n  const getHotkeyRef = useRef(null);\n  getHotkeyRef.current = (event, ...args) => {\n    const bi = buttons.findIndex(b => args.includes(b.id));\n    if (bi === -1) return false;\n  \n    const target = event.target;\n    const item = buttons[bi];\n\n    if (\n      event.key == \"Escape\" &&\n      (target.closest(\".wx-combo\") ||\n        target.closest(\".wx-multicombo\") ||\n        target.closest(\".wx-richselect\"))\n    )\n    return;\n\n    if (\n      event.key == \"Delete\" &&\n      (target.tagName === \"INPUT\" || target.tagName === \"TEXTAREA\")\n    )\n    return;\n\n    event.preventDefault();\n    onKeyDown && onKeyDown({ item });    \n  };\n  \n\n  const hotkeysConfig = useMemo(() => {\n    if (hotkeys === false) return {};\n\n    return { \n      'ctrl+s': ev => getHotkeyRef.current(ev, 'save'),\n      'escape': ev => getHotkeyRef.current(ev, 'cancel', 'close'),\n      'ctrl+d': ev => getHotkeyRef.current(ev, 'delete'),\n      ...(hotkeys || {}),\n    };\n  }, [hotkeys]);\n  useHotkeys(hotkeysConfig, rootRef);\n\n  return (\n    <div className={css ? 'wx-85HDaNoA ' + css : 'wx-85HDaNoA'} ref={rootRef}>\n      <Toolbar\n        {...(topBar && typeof topBar === 'object' ? topBar : {})}\n        items={tbar}\n        values={data}\n        onClick={onClick}\n        onChange={onChange}\n      />\n      <div\n        className={`wx-85HDaNoA wx-content${layout === 'columns' ? ' wx-layout-columns' : ''}`}\n      >\n        {children}\n        <Columns\n          editors={editors}\n          layout={layout}\n          data={data}\n          focus={focus}\n          errors={errors}\n          onClick={onClick}\n          onChange={onChange}\n        />\n        <Toolbar\n          {...(bottomBar && typeof bottomBar === 'object' ? bottomBar : {})}\n          items={bbar}\n          values={data}\n          top={false}\n          onClick={onClick}\n          onChange={onChange}\n        />\n      </div>\n    </div>\n  );\n}\n","import { ModalArea, SideArea } from '@svar-ui/react-core';\nimport Panel from './Panel.jsx';\nimport './Layout.css';\n\nexport default function Layout(props) {\n  const { css, onClick, placement, ...restProps } = props;\n\n  function handleClose() {\n    onClick && onClick({ item: { id: 'close' } });\n  }\n\n  if (placement === 'modal') {\n    return (\n      <ModalArea>\n        <Panel\n          css={`wx-panel ${css}`}\n          onClick={onClick}\n          placement={placement}\n          {...restProps}\n        />\n      </ModalArea>\n    );\n  } else if (placement === 'sidebar') {\n    return (\n      <SideArea onCancel={handleClose}>\n        <Panel\n          css={`wx-panel ${css}`}\n          onClick={onClick}\n          placement={placement}\n          {...restProps}\n        />\n      </SideArea>\n    );\n  } else {\n    return (\n      <Panel\n        css={`wx-inline-form ${css}`}\n        onClick={onClick}\n        placement={placement}\n        {...restProps}\n      />\n    );\n  }\n}\n","import { Locale } from '@svar-ui/react-core';\nimport en from '../en.js';\n\nimport Layout from './Layout.jsx';\nimport Values from './Values.jsx';\n\nexport default function Editor(props) {\n  const {\n    values = {},\n    items = [],\n    css = '',\n    activeBatch = null,\n    topBar = true,\n    bottomBar = true,\n    focus = false,\n    autoSave = false,\n    layout = 'default',\n    readonly = false,\n    placement = 'inline',\n    children,\n    ...restProps\n  } = props;\n\n  const normalizedRestProps = Object.keys(restProps).reduce((acc, key) => {\n    if (/^on[a-z]/.test(key)) {\n      const newKey = 'on' + key.charAt(2).toUpperCase() + key.slice(3);\n      if (newKey in restProps) {\n        // Prefer existing camelCase prop if present; keep original key as-is to avoid overwriting\n        acc[key] = restProps[key];\n      } else {\n        acc[newKey] = restProps[key];\n      }\n    } else {\n      acc[key] = restProps[key];\n    }\n    return acc;\n  }, {});\n\n  return (\n    <Locale words={en} optional={true}>\n      <Values\n        view={Layout}\n        values={values}\n        items={items}\n        css={css}\n        activeBatch={activeBatch}\n        topBar={topBar}\n        bottomBar={bottomBar}\n        focus={focus}\n        autoSave={autoSave}\n        layout={layout}\n        readonly={readonly}\n        placement={placement}\n        {...normalizedRestProps}\n      >\n        {children}\n      </Values>\n    </Locale>\n  );\n}\n","import { Material as CoreMaterial } from '@svar-ui/react-core';\nimport './Material.css';\n\nexport default function Material({ fonts = true, children }) {\n  if (children) {\n    return <CoreMaterial fonts={fonts}>{children}</CoreMaterial>;\n  } else {\n    return <CoreMaterial fonts={fonts} />;\n  }\n}\n","import { Willow as CoreWillow } from '@svar-ui/react-core';\nimport './Willow.css';\n\nfunction Willow({ fonts = true, children }) {\n  return children ? (\n    <CoreWillow fonts={fonts}>{children}</CoreWillow>\n  ) : (\n    <CoreWillow fonts={fonts} />\n  );\n}\n\nexport default Willow;\n","import { WillowDark as WillowDarkInner } from '@svar-ui/react-core';\nimport './WillowDark.css';\n\nfunction WillowDark(props) {\n  const { fonts = true, children } = props;\n\n  if (children) {\n    return <WillowDarkInner fonts={fonts}>{children}</WillowDarkInner>;\n  }\n\n  return <WillowDarkInner fonts={fonts} />;\n}\n\nexport default WillowDark;\n","import { useMemo, useContext } from 'react';\nimport { Field } from '@svar-ui/react-core';\nimport { context } from '@svar-ui/react-core';\n\nfunction ReadOnly({ value, options, label }) {\n  const i18n = useContext(context.i18n);\n  const _ = i18n.getGroup('editor');\n\n  const text = useMemo(() => {\n    let t = value;\n    if (typeof value === 'boolean') {\n      t = value ? _('Yes') : _('No');\n    }\n\n    if (options) {\n      const option = options.find((o) => o.id === value);\n      if (option) {\n        t = option.label;\n      }\n    }\n\n    return t;\n  }, [value, options, _]);\n\n  if (text || text === 0) {\n    return <Field label={label}>{text}</Field>;\n  }\n\n  return null;\n}\n\nexport default ReadOnly;\n","import './Section.css';\n\nfunction Section({ fieldKey, label, activeSection, onClick }) {\n  return (\n    <div\n      className={`wx-OmgQq65I wx-section${activeSection ? ' wx-section-active' : ''}`}\n      onClick={() =>\n        onClick &&\n        onClick({\n          item: { id: 'toggle-section', key: activeSection ? null : fieldKey },\n        })\n      }\n    >\n      <h3>{label}</h3>\n      <i\n        className={`wx-OmgQq65I wxi-angle-${activeSection ? 'down' : 'right'} wx-icon`}\n      ></i>\n    </div>\n  );\n}\n\nexport default Section;\n","import { registerEditorItem } from './helpers';\nimport Form from './components/Form.jsx';\nimport Editor from './components/Editor.jsx';\n\nimport Material from './themes/Material.jsx';\nimport Willow from './themes/Willow.jsx';\nimport WillowDark from './themes/WillowDark.jsx';\n\nimport ReadOnly from './components/sections/ReadOnly.jsx';\nimport Section from './components/sections/Section.jsx';\nimport { Text } from '@svar-ui/react-core';\nimport { TextArea } from '@svar-ui/react-core';\nimport { Checkbox } from '@svar-ui/react-core';\n\nregisterEditorItem('text', Text);\nregisterEditorItem('textarea', TextArea);\nregisterEditorItem('checkbox', Checkbox);\n\nregisterEditorItem('readonly', ReadOnly);\nregisterEditorItem('section', Section);\n\nimport { env, setEnv } from '@svar-ui/lib-dom';\nsetEnv(env);\n\nexport { registerEditorItem, Form, Editor, Material, Willow, WillowDark };\n"],"names":["handlers","getItemHandler","type","registerEditorItem","handler","en","FormEditor","props","editors","data","css","errors","focus","onClick","children","onChange","root","useRef","useEffect","focused","input","i18n","useContext","context","_","useMemo","overlay","editor","key","onChangeEditor","otherProps","Component","jsx","Component2","Field","ev","rawGetter","parts","obj","out","p","rawSetter","v","i","itemsToEditors","sections","config","s","uid","getValues","raw","ed","setValues","values","changes","a","diff","initial","b","isSame","validateValues","any","x","Values","valuesProp","items","activeBatch","autoSave","readonly","topBar","bottomBar","layout","placement","View","onSave","onAction","onValidation","hotkeys","useWritableProp","activatedSection","setActivatedSection","useState","editorsObj","y","exclusive","actualValues","setActualValues","setData","d","deepCopy","runValidation","notSaved","setNotSaved","getUniqueFields","arr","check","handleUpdate","updateData","updated","handleChanges","value","newData","event","newActualValues","fieldsToValidate","errorsFields","saveAction","handleAction","item","Form","restProps","processedRestProps","newKey","Locale","Editor","Columns","columns","cols","field","index","jsxs","Toolbar","top","onChangeForm","useCallback","WxToolbar","Spacer","CancelButton","SaveButton","CloseIcon","Panel","onKeyDown","autoBars","tbar","bar","bbar","buttons","rootRef","getHotkeyRef","args","bi","target","hotkeysConfig","useHotkeys","Layout","handleClose","ModalArea","SideArea","normalizedRestProps","acc","Material","fonts","CoreMaterial","Willow","CoreWillow","WillowDark","WillowDarkInner","ReadOnly","options","label","text","t","option","o","Section","fieldKey","activeSection","Text","TextArea","Checkbox","setEnv","env"],"mappings":"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"}},
    {"offset": {"line": 15098, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@svar-ui/react-gantt/dist/index.es.js","sources":["file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-gantt/src/context.js","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-gantt/src/helpers/locate.js","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-gantt/src/helpers/reorder.js","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-gantt/src/components/grid/TextCell.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-gantt/src/components/grid/ActionCell.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-gantt/src/components/grid/Grid.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-gantt/src/components/chart/CellGrid.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-gantt/src/components/chart/Links.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-gantt/src/components/chart/BarSegments.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-gantt/src/components/chart/Bars.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-gantt/src/components/chart/TimeScale.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-gantt/src/helpers/debug.js","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-gantt/src/components/chart/Chart.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-gantt/src/components/Resizer.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-gantt/src/helpers/modeResizeObserver.js","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-gantt/src/components/Layout.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-gantt/src/helpers/prepareConfig.js","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-gantt/src/components/Gantt.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-gantt/src/components/Toolbar.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-gantt/src/components/ContextMenu.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-gantt/src/components/editor/Links.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-gantt/src/components/editor/DateTimePicker.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-gantt/src/components/Editor.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-gantt/src/components/grid/HeaderMenu.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-gantt/src/widgets/Tooltip.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-gantt/src/themes/Material.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-gantt/src/themes/Willow.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-gantt/src/themes/WillowDark.jsx","file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/node_modules/%40svar-ui/react-gantt/src/index.js"],"sourcesContent":["import { createContext } from 'react';\n\nconst store = createContext(null);\nexport default store;\n","export function getID(node) {\n  const id = node.getAttribute('data-id');\n  const numId = parseInt(id);\n  return isNaN(numId) || numId.toString() != id ? id : numId;\n}\n","import { getID } from './locate';\nimport { locate } from '@svar-ui/lib-dom';\n\nfunction getOffset(node, relative, ev) {\n  const box = node.getBoundingClientRect();\n  const base = relative.querySelector('.wx-body').getBoundingClientRect();\n\n  return {\n    top: box.top - base.top,\n    left: box.left - base.left,\n    dt: box.bottom - ev.clientY,\n    db: ev.clientY - box.top,\n  };\n}\n\nfunction checkSource(node) {\n  return node && node.getAttribute('data-context-id');\n}\n\nconst SHIFT = 5;\n\nexport function reorder(node, config) {\n  let source, clone, sid;\n  let x, y, base, detail;\n  let touched, touchTimer;\n\n  function down(event) {\n    x = event.clientX;\n    y = event.clientY;\n    base = {\n      ...getOffset(source, node, event),\n      y: config.getTask(sid).$y,\n    };\n\n    document.body.style.userSelect = 'none';\n  }\n\n  function handleTouchstart(event) {\n    source = locate(event);\n    if (!checkSource(source)) return;\n\n    sid = getID(source);\n\n    touchTimer = setTimeout(() => {\n      touched = true;\n      if (config && config.touchStart) config.touchStart();\n      down(event.touches[0]);\n    }, 500);\n\n    node.addEventListener('touchmove', handleTouchmove);\n    node.addEventListener('contextmenu', handleContext);\n    window.addEventListener('touchend', handleTouchend);\n  }\n\n  function handleContext(event) {\n    if (touched || touchTimer) {\n      event.preventDefault();\n      return false;\n    }\n  }\n\n  function handleMousedown(event) {\n    if (event.which !== 1) return;\n\n    source = locate(event);\n    if (!checkSource(source)) return;\n\n    sid = getID(source);\n\n    node.addEventListener('mousemove', handleMousemove);\n    window.addEventListener('mouseup', handleMouseup);\n\n    down(event);\n  }\n\n  function end(full) {\n    node.removeEventListener('mousemove', handleMousemove);\n    node.removeEventListener('touchmove', handleTouchmove);\n    document.body.removeEventListener('mouseup', handleMouseup);\n    document.body.removeEventListener('touchend', handleTouchend);\n    document.body.style.userSelect = '';\n\n    if (full) {\n      node.removeEventListener('mousedown', handleMousedown);\n      node.removeEventListener('touchstart', handleTouchstart);\n    }\n  }\n\n  function move(event) {\n    const dx = event.clientX - x;\n    const dy = event.clientY - y;\n    if (!clone) {\n      if (Math.abs(dx) < SHIFT && Math.abs(dy) < SHIFT) return;\n      if (config && config.start) {\n        if (config.start({ id: sid, e: event }) === false) return;\n      }\n\n      clone = source.cloneNode(true);\n      clone.style.pointerEvents = 'none';\n      clone.classList.add('wx-reorder-task');\n      clone.style.position = 'absolute';\n      clone.style.left = base.left + 'px';\n      clone.style.top = base.top + 'px';\n\n      source.style.visibility = 'hidden';\n      source.parentNode.insertBefore(clone, source);\n    }\n\n    if (clone) {\n      const top = Math.round(Math.max(0, base.top + dy));\n\n      if (config && config.move) {\n        if (config.move({ id: sid, top, detail }) === false) return;\n      }\n\n      const task = config.getTask(sid);\n      const y = task.$y;\n      //dnd may be blocked\n      if (!base.start && base.y == y) return up();\n\n      base.start = true;\n      base.y = task.$y - 4;\n      clone.style.top = top + 'px'; //task.$y - scroll\n\n      const targetNode = document.elementFromPoint(\n        event.clientX,\n        event.clientY,\n      );\n      const target = locate(targetNode);\n\n      if (target && target !== source) {\n        const tid = getID(target);\n        const box = target.getBoundingClientRect();\n        const line = box.top + box.height / 2;\n\n        const after =\n          event.clientY + base.db > line &&\n          target.nextElementSibling !== source;\n        const before =\n          event.clientY - base.dt < line &&\n          target.previousElementSibling !== source;\n\n        if (detail?.after == tid || detail?.before == tid) {\n          // avoid duplicate calls\n          detail = null;\n        } else if (after) {\n          // move down\n          detail = { id: sid, after: tid };\n        } else if (before) {\n          // move up\n          detail = { id: sid, before: tid };\n        }\n      }\n    }\n  }\n\n  function handleMousemove(event) {\n    move(event);\n  }\n\n  function handleTouchmove(event) {\n    if (touched) {\n      event.preventDefault();\n      move(event.touches[0]);\n    } else if (touchTimer) {\n      clearTimeout(touchTimer);\n      touchTimer = null;\n    }\n  }\n\n  function handleTouchend() {\n    touched = null;\n    if (touchTimer) {\n      clearTimeout(touchTimer);\n      touchTimer = null;\n    }\n    up();\n  }\n\n  function handleMouseup() {\n    up();\n  }\n\n  function up() {\n    if (source) {\n      source.style.visibility = '';\n    }\n    if (clone) {\n      clone.parentNode.removeChild(clone);\n      if (config && config.end) config.end({ id: sid, top: base.top });\n    }\n\n    sid = source = clone = base = detail = null;\n    end();\n  }\n\n  if (node.style.position !== 'absolute') node.style.position = 'relative';\n\n  node.addEventListener('mousedown', handleMousedown);\n  node.addEventListener('touchstart', handleTouchstart);\n\n  return {\n    destroy() {\n      end(true);\n    },\n  };\n}\n","import './TextCell.css';\n\nfunction TextCell({ row, column }) {\n  function getStyle(row, col) {\n    return {\n      justifyContent: col.align,\n      paddingLeft: `${(row.$level - 1) * 20}px`,\n    };\n  }\n\n  const CellComponent = column && column._cell;\n\n  return (\n    <div className=\"wx-pqc08MHU wx-content\" style={getStyle(row, column)}>\n      {row.data || row.lazy ? (\n        <i\n          className={`wx-pqc08MHU wx-toggle-icon wxi-menu-${row.open ? 'down' : 'right'}`}\n          data-action=\"open-task\"\n        />\n      ) : (\n        <i className=\"wx-pqc08MHU wx-toggle-placeholder\" />\n      )}\n      <div className=\"wx-pqc08MHU wx-text\">\n        {CellComponent ? <CellComponent row={row} column={column} /> : row.text}\n      </div>\n    </div>\n  );\n}\n\nexport default TextCell;\n","import { useMemo } from 'react';\nimport './ActionCell.css';\n\nfunction ActionCell({ column, cell }) {\n  const action = useMemo(() => column.id, [column?.id]);\n\n  return cell || column.id == 'add-task' ? (\n    <div style={{ textAlign: column.align }}>\n      <i\n        className=\"wx-9DAESAHW wx-action-icon wxi-plus\"\n        data-action={action}\n      ></i>\n    </div>\n  ) : null;\n}\n\nexport default ActionCell;\n","import {\n  useCallback,\n  useContext,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport { context } from '@svar-ui/react-core';\nimport { locateID, locateAttr } from '@svar-ui/lib-dom';\nimport { reorder } from '../../helpers/reorder';\nimport { prepareEditTask } from '@svar-ui/gantt-store';\nimport { Grid as WxGrid } from '@svar-ui/react-grid';\nimport TextCell from './TextCell.jsx';\nimport ActionCell from './ActionCell.jsx';\nimport { useWritableProp, useStore } from '@svar-ui/lib-react';\nimport storeContext from '../../context';\nimport './Grid.css';\n\nexport default function Grid(props) {\n  const {\n    readonly,\n    compactMode,\n    width = 0,\n    display = 'all',\n    columnWidth: columnWidthProp = 0,\n    onTableAPIChange,\n  } = props;\n  const [columnWidth, setColumnWidthProp] = useWritableProp(columnWidthProp);\n  const [tableAPI, setTableAPI] = useState();\n\n  const i18n = useContext(context.i18n);\n  const _ = useMemo(() => i18n.getGroup('gantt'), [i18n]);\n  const api = useContext(storeContext);\n\n  const scrollTopVal = useStore(api, 'scrollTop');\n  const cellHeightVal = useStore(api, 'cellHeight');\n  const scrollTask = useStore(api, '_scrollTask');\n  const selectedVal = useStore(api, '_selected');\n  const areaVal = useStore(api, 'area');\n  const rTasksVal = useStore(api, '_tasks');\n  const scalesVal = useStore(api, '_scales');\n  const columnsVal = useStore(api, 'columns');\n  const sortVal = useStore(api, '_sort');\n  const calendarVal = useStore(api, 'calendar');\n  const durationUnitVal = useStore(api, 'durationUnit');\n  const splitTasksVal = useStore(api, 'splitTasks');\n\n  const [dragTask, setDragTask] = useState(null);\n\n  const tasks = useMemo(() => {\n    if (!rTasksVal || !areaVal) return [];\n    return rTasksVal.slice(areaVal.start, areaVal.end);\n  }, [rTasksVal, areaVal]);\n\n  const execAction = useCallback(\n    (id, action) => {\n      if (action === 'add-task') {\n        api.exec(action, {\n          target: id,\n          task: { text: _('New Task') },\n          mode: 'child',\n          show: true,\n        });\n      } else if (action === 'open-task') {\n        const task = tasks.find((a) => a.id === id);\n        if (task?.data || task?.lazy)\n          api.exec(action, { id, mode: !task.open });\n      }\n    },\n    [tasks],\n  );\n\n  const onClick = useCallback(\n    (e) => {\n      const id = locateID(e);\n      const action = e.target.dataset.action;\n      if (action) e.preventDefault();\n      if (id) {\n        if (action === 'add-task' || action === 'open-task') {\n          execAction(id, action);\n        } else {\n          api.exec('select-task', {\n            id,\n            toggle: e.ctrlKey || e.metaKey,\n            range: e.shiftKey,\n            show: true,\n          });\n        }\n      } else if (action === 'add-task') {\n        execAction(null, action);\n      }\n    },\n    [api, execAction],\n  );\n\n  const tableRef = useRef(null);\n  const tableContainerRef = useRef(null);\n  const [gridWidth, setGridWidth] = useState(0);\n  const [updateFlex, setUpdateFlex] = useState(false);\n\n  useEffect(() => {\n    const node = tableContainerRef.current;\n    if (!node || typeof ResizeObserver === 'undefined') return;\n    const update = () => setGridWidth(node.clientWidth);\n    update();\n    const ro = new ResizeObserver(update);\n    ro.observe(node);\n    return () => ro.disconnect();\n  }, []);\n\n  const lastDetailRef = useRef(null);\n\n  const reorderTasks = useCallback(\n    (detail) => {\n      const id = detail.id;\n      const { before, after } = detail;\n      const inProgress = detail.onMove;\n\n      let target = before || after;\n      let mode = before ? 'before' : 'after';\n\n      if (inProgress) {\n        if (mode === 'after') {\n          const task = api.getTask(target);\n          if (task.data?.length && task.open) {\n            mode = 'before';\n            target = task.data[0].id;\n          }\n        }\n        lastDetailRef.current = { id, [mode]: target };\n      } else lastDetailRef.current = null;\n\n      api.exec('move-task', {\n        id,\n        mode,\n        target,\n        inProgress,\n      });\n    },\n    [api],\n  );\n\n  const scrollDelta = useMemo(() => areaVal?.from ?? 0, [areaVal]);\n  const headerHeight = useMemo(() => scalesVal?.height ?? 0, [scalesVal]);\n\n  const scrollX = useMemo(() => {\n    if (!compactMode && display !== 'grid') {\n      return (columnWidth ?? 0) > (width ?? 0);\n    } else {\n      return (columnWidth ?? 0) > (gridWidth ?? 0);\n    }\n  }, [compactMode, display, columnWidth, width, gridWidth]);\n\n  const tableStyle = useMemo(() => {\n    const style = {};\n    if ((scrollX && display === 'all') || (display === 'grid' && scrollX)) {\n      style.width = columnWidth;\n    } else if (display === 'grid') {\n      style.width = '100%';\n    }\n    return style;\n  }, [scrollX, display, columnWidth]);\n\n  const allTasks = useMemo(() => {\n    if (dragTask && !tasks.find((t) => t.id === dragTask.id)) {\n      return [...tasks, dragTask];\n    }\n    return tasks;\n  }, [tasks, dragTask]);\n\n  const cols = useMemo(() => {\n    let cols = (columnsVal || []).map((col) => {\n      col = { ...col };\n      const header = col.header;\n      if (typeof header === 'object') {\n        const text = header.text && _(header.text);\n        col.header = { ...header, text };\n      } else col.header = _(header);\n      return col;\n    });\n    const ti = cols.findIndex((c) => c.id === 'text');\n    const ai = cols.findIndex((c) => c.id === 'add-task');\n\n    if (ti !== -1) {\n      if (cols[ti].cell) cols[ti]._cell = cols[ti].cell;\n      cols[ti].cell = TextCell;\n    }\n    if (ai !== -1) {\n      cols[ai].cell = cols[ai].cell || ActionCell;\n\n      const header = cols[ai].header;\n      if (typeof header !== 'object') cols[ai].header = { text: header };\n      cols[ai].header.cell = header.cell || ActionCell;\n\n      if (readonly) {\n        cols.splice(ai, 1);\n      } else {\n        if (compactMode) {\n          const [actionCol] = cols.splice(ai, 1);\n          cols.unshift(actionCol);\n        }\n      }\n    }\n\n    if (cols.length > 0) cols[cols.length - 1].resize = false;\n    return cols;\n  }, [columnsVal, _, readonly, compactMode]);\n\n  const basis = useMemo(() => {\n    if (display === 'all') return `${width}px`;\n    if (display === 'grid') return 'calc(100% - 4px)';\n    return cols.find((c) => c.id === 'add-task') ? '50px' : '0';\n  }, [display, width, cols]);\n\n  const sortMarks = useMemo(() => {\n    if (allTasks && sortVal?.length) {\n      const marks = {};\n      sortVal.forEach(({ key, order }, index) => {\n        marks[key] = {\n          order,\n          ...(sortVal.length > 1 && { index }),\n        };\n      });\n      return marks;\n    }\n    return {};\n  }, [allTasks, sortVal]);\n\n  const checkFlex = useCallback(() => {\n    return cols.some((c) => c.flexgrow && !c.hidden);\n  }, []); // cols defined later; will use latest value when invoked\n\n  const hasFlexCol = useMemo(() => {\n    // updateFlex is used to trigger re-evaluation\n    void updateFlex;\n    return checkFlex();\n  }, [checkFlex, updateFlex]);\n\n  const fitColumns = useMemo(() => {\n    let filteredColumns =\n      display === 'chart' ? cols.filter((c) => c.id === 'add-task') : cols;\n\n    const containerWidth = display === 'all' ? width : gridWidth;\n    if (!hasFlexCol) {\n      let baseColumnWidth = columnWidth;\n      let forceReset = false;\n      if (cols.some((c) => c.$width)) {\n        let actualWidth = 0;\n        baseColumnWidth = cols.reduce((acc, col) => {\n          if (!col.hidden) {\n            actualWidth += col.width;\n            acc += col.$width || col.width;\n          }\n          return acc;\n        }, 0);\n\n        if (actualWidth > baseColumnWidth && baseColumnWidth > containerWidth)\n          forceReset = true;\n      }\n\n      if (forceReset || baseColumnWidth < containerWidth) {\n        let k = 1;\n        if (!forceReset)\n          k = (containerWidth - 50) / (baseColumnWidth - 50 || 1);\n        return filteredColumns.map((c) => {\n          if (c.id !== 'add-task' && !c.hidden) {\n            if (!c.$width) c.$width = c.width;\n            c.width = c.$width * k;\n          }\n          return c;\n        });\n      }\n    }\n    return filteredColumns;\n  }, [display, cols, hasFlexCol, columnWidth, width, gridWidth]);\n\n  const setColumnWidth = useCallback(\n    (resized) => {\n      if (!checkFlex()) {\n        const newColumnWidth = fitColumns.reduce((acc, col) => {\n          if (resized && col.$width) col.$width = col.width;\n          return acc + (col.hidden ? 0 : col.width);\n        }, 0);\n        if (newColumnWidth !== columnWidth) setColumnWidthProp(newColumnWidth);\n      }\n      setUpdateFlex(true);\n      setUpdateFlex(false);\n    },\n    [checkFlex, fitColumns, columnWidth, setColumnWidthProp],\n  );\n\n  const adjustColumns = useCallback(() => {\n    const flexCols = cols.filter((c) => c.flexgrow && !c.hidden);\n    if (flexCols.length === 1)\n      cols.forEach((c) => {\n        if (c.$width && !c.flexgrow && !c.hidden) c.width = c.$width;\n      });\n  }, []); // cols defined later; will use latest\n\n  const onDblClick = useCallback(\n    (e) => {\n      if (!readonly) {\n        const id = locateID(e);\n        const column = locateAttr(e, 'data-col-id');\n        const columnObj = column && cols.find((c) => c.id == column);\n        if (!columnObj?.editor && id) api.exec('show-editor', { id });\n      }\n    },\n    [api, readonly], // cols is defined later; relies on latest value at call time\n  );\n\n  const sel = useMemo(\n    () => (Array.isArray(selectedVal) ? selectedVal.map((o) => o.id) : []),\n    [selectedVal],\n  );\n\n  const setScrollOffset = useCallback(() => {\n    if (tableRef.current && allTasks !== null) {\n      const body = tableRef.current.querySelector('.wx-body');\n      if (body)\n        body.style.top = -((scrollTopVal ?? 0) - (scrollDelta ?? 0)) + 'px';\n    }\n    if (tableContainerRef.current) tableContainerRef.current.scrollTop = 0;\n  }, [allTasks, scrollTopVal, scrollDelta]);\n\n  useEffect(() => {\n    if (tableRef.current) {\n      setScrollOffset();\n    }\n  }, [scrollTopVal, scrollDelta, setScrollOffset]);\n\n  useEffect(() => {\n    const tableEl = tableRef.current;\n    if (!tableEl) return;\n    const bodyEl = tableEl.querySelector('.wx-table-box .wx-body');\n    if (!bodyEl || typeof ResizeObserver === 'undefined') return;\n    const ro = new ResizeObserver(() => {\n      setScrollOffset();\n    });\n    ro.observe(bodyEl);\n    return () => {\n      ro.disconnect();\n    };\n  }, [fitColumns, tableStyle, display, basis, allTasks, setScrollOffset]);\n\n  useEffect(() => {\n    if (!scrollTask || !tableAPI) return;\n\n    const { id } = scrollTask;\n    const focusCell = tableAPI.getState().focusCell;\n    if (\n      focusCell &&\n      focusCell.row !== id &&\n      tableRef.current &&\n      tableRef.current.contains(document.activeElement)\n    ) {\n      tableAPI.exec('focus-cell', {\n        row: id,\n        column: focusCell.column,\n      });\n    }\n  }, [scrollTask, tableAPI]);\n\n  const startReorder = useCallback(\n    ({ id }) => {\n      if (readonly) return false;\n\n      if (api.getTask(id).open) api.exec('open-task', { id, mode: false });\n\n      const t = api.getState()._tasks.find((t) => t.id === id);\n      setDragTask(t || null);\n      if (!t) return false;\n    },\n    [api, readonly],\n  );\n\n  const endReorder = useCallback(\n    ({ id, top }) => {\n      if (lastDetailRef.current) {\n        reorderTasks({ ...lastDetailRef.current, onMove: false });\n      } else {\n        api.exec('drag-task', {\n          id,\n          top: top + (scrollDelta ?? 0),\n          inProgress: false,\n        });\n      }\n      setDragTask(null);\n    },\n    [api, reorderTasks, scrollDelta],\n  );\n\n  const moveReorder = useCallback(\n    ({ id, top, detail }) => {\n      if (detail) {\n        reorderTasks({ ...detail, onMove: true });\n      }\n      api.exec('drag-task', {\n        id,\n        top: top + (scrollDelta ?? 0),\n        inProgress: true,\n      });\n    },\n    [api, reorderTasks, scrollDelta],\n  );\n\n  useEffect(() => {\n    const node = tableRef.current;\n    if (!node) return;\n    const action = reorder(node, {\n      start: startReorder,\n      end: endReorder,\n      move: moveReorder,\n      getTask: api.getTask,\n    });\n    return action.destroy;\n  }, [api, startReorder, endReorder, moveReorder]);\n\n  const handleHotkey = useCallback(\n    (ev) => {\n      const { key, isInput } = ev;\n      if (!isInput && (key === 'arrowup' || key === 'arrowdown')) {\n        ev.eventSource = 'grid';\n        api.exec('hotkey', ev);\n        return false;\n      } else if (key === 'enter') {\n        const focusCell = tableAPI?.getState().focusCell;\n        if (focusCell) {\n          const { row, column } = focusCell;\n          if (column === 'add-task') {\n            execAction(row, 'add-task');\n          } else if (column === 'text') {\n            execAction(row, 'open-task');\n          }\n        }\n      }\n    },\n    [api, execAction, tableAPI],\n  );\n\n  // FIXME - temporary hack to provide fresh values to grid's handlers\n  const handlersStateRef = useRef(null);\n  const setHandlersState = () => {\n    handlersStateRef.current = {\n      setTableAPI,\n      handleHotkey,\n      sortVal,\n      api,\n      adjustColumns,\n      setColumnWidth,\n      tasks,\n      calendarVal,\n      durationUnitVal,\n      splitTasksVal,\n      onTableAPIChange,\n    };\n  };\n  setHandlersState();\n  useEffect(() => {\n    setHandlersState();\n  }, [\n    setTableAPI,\n    handleHotkey,\n    sortVal,\n    api,\n    adjustColumns,\n    setColumnWidth,\n    tasks,\n    calendarVal,\n    durationUnitVal,\n    splitTasksVal,\n    onTableAPIChange,\n  ]);\n\n  const init = useCallback((tapi) => {\n    setTableAPI(tapi);\n    tapi.intercept('hotkey', (ev) => handlersStateRef.current.handleHotkey(ev));\n    tapi.intercept('scroll', () => false);\n    tapi.intercept('select-row', () => false);\n    tapi.intercept('sort-rows', (e) => {\n      const sortVal = handlersStateRef.current.sortVal;\n      const { key, add } = e;\n      const keySort = sortVal ? sortVal.find((s) => s.key === key) : null;\n      let order = 'asc';\n      if (keySort) order = !keySort || keySort.order === 'asc' ? 'desc' : 'asc';\n\n      api.exec('sort-tasks', {\n        key,\n        order,\n        add,\n      });\n      return false;\n    });\n\n    tapi.on('resize-column', () => {\n      handlersStateRef.current.setColumnWidth(true);\n    });\n\n    tapi.on('hide-column', (ev) => {\n      if (!ev.mode) handlersStateRef.current.adjustColumns();\n      handlersStateRef.current.setColumnWidth();\n    });\n\n    tapi.intercept('update-cell', (e) => {\n      const { id, column, value } = e;\n      const task = handlersStateRef.current.tasks.find((t) => t.id === id);\n\n      if (task) {\n        const update = { ...task };\n        let v = value;\n        if (v && !isNaN(v) && !(v instanceof Date)) v *= 1;\n        update[column] = v;\n\n        prepareEditTask(\n          update,\n          {\n            calendar: handlersStateRef.current.calendarVal,\n            durationUnit: handlersStateRef.current.durationUnitVal,\n            splitTasks: handlersStateRef.current.splitTasksVal,\n          },\n          column,\n        );\n\n        api.exec('update-task', {\n          id: id,\n          task: update,\n        });\n      }\n      return false;\n    });\n\n    onTableAPIChange && onTableAPIChange(tapi);\n  }, []);\n\n  return (\n    <div\n      className=\"wx-rHj6070p wx-table-container\"\n      style={{ flex: `0 0 ${basis}` }}\n      ref={tableContainerRef}\n    >\n      <div\n        ref={tableRef}\n        style={tableStyle}\n        className=\"wx-rHj6070p wx-table\"\n        onClick={onClick}\n        onDoubleClick={onDblClick}\n      >\n        <WxGrid\n          init={init}\n          sizes={{\n            rowHeight: cellHeightVal,\n            headerHeight: (headerHeight ?? 0) - 1,\n          }}\n          rowStyle={(row) =>\n            row.$reorder ? 'wx-rHj6070p wx-reorder-task' : 'wx-rHj6070p'\n          }\n          columnStyle={(col) =>\n            `wx-rHj6070p wx-text-${col.align}${col.id === 'add-task' ? ' wx-action' : ''}`\n          }\n          data={allTasks}\n          columns={fitColumns}\n          selectedRows={[...sel]}\n          sortMarks={sortMarks}\n        />\n      </div>\n    </div>\n  );\n}\n","import { useContext, useEffect, useRef, useState } from 'react';\nimport storeContext from '../../context';\nimport { grid } from '@svar-ui/gantt-store';\nimport { useStore } from '@svar-ui/lib-react';\n\nfunction CellGrid({ borders = '' }) {\n  const api = useContext(storeContext);\n  const cellWidth = useStore(api, 'cellWidth');\n  const cellHeight = useStore(api, 'cellHeight');\n\n  const nodeRef = useRef(null);\n  const [color, setColor] = useState('#e4e4e4');\n\n  useEffect(() => {\n    if (typeof getComputedStyle !== 'undefined' && nodeRef.current) {\n      const border = getComputedStyle(nodeRef.current).getPropertyValue(\n        '--wx-gantt-border',\n      );\n      setColor(border ? border.substring(border.indexOf('#')) : '#1d1e261a');\n    }\n  }, []);\n\n  const style = {\n    width: '100%',\n    height: '100%',\n    background:\n      cellWidth != null && cellHeight != null\n        ? `url(${grid(cellWidth, cellHeight, color, borders)})`\n        : undefined,\n    position: 'absolute',\n  };\n\n  return <div ref={nodeRef} style={style} />;\n}\n\nexport default CellGrid;\n","import { useCallback, useContext, useEffect, useRef } from 'react';\nimport storeContext from '../../context';\nimport { useStore } from '@svar-ui/lib-react';\nimport './Links.css';\n\nexport default function Links({ onSelectLink, selectedLink, readonly }) {\n  const api = useContext(storeContext);\n  const links = useStore(api, '_links');\n  const criticalPath = useStore(api, 'criticalPath');\n\n  const selectedLineRef = useRef(null);\n\n  const onClickOutside = useCallback(\n    (event) => {\n      const css = event?.target?.classList;\n      if (!css?.contains('wx-line') && !css?.contains('wx-delete-button')) {\n        onSelectLink(null);\n      }\n    },\n    [onSelectLink],\n  );\n\n  useEffect(() => {\n    if (!readonly && selectedLink && selectedLineRef.current) {\n      const handler = (event) => {\n        if (\n          selectedLineRef.current &&\n          !selectedLineRef.current.contains(event.target)\n        ) {\n          onClickOutside(event);\n        }\n      };\n      document.addEventListener('click', handler);\n      return () => {\n        document.removeEventListener('click', handler);\n      };\n    }\n  }, [readonly, selectedLink, onClickOutside]);\n\n  return (\n    <svg className=\"wx-dkx3NwEn wx-links\">\n      {(links || []).map((link) => {\n        const className =\n          'wx-dkx3NwEn wx-line' +\n          (criticalPath && link.$critical ? ' wx-critical' : '') +\n          (!readonly ? ' wx-line-selectable' : '');\n        return (\n          <polyline\n            className={className}\n            points={link.$p}\n            key={link.id}\n            onClick={() => !readonly && onSelectLink(link.id)}\n            data-link-id={link.id}\n          />\n        );\n      })}\n      {!readonly && selectedLink && (\n        <polyline\n          ref={selectedLineRef}\n          className=\"wx-dkx3NwEn wx-line wx-line-selected wx-line-selectable wx-delete-link\"\n          points={selectedLink.$p}\n        />\n      )}\n    </svg>\n  );\n}\n","import './BarSegments.css';\n\nfunction BarSegments(props) {\n  const { task, type } = props;\n\n  function segmentStyle(i) {\n    const s = task.segments[i];\n    return {\n      left: `${s.$x}px`,\n      top: '0px',\n      width: `${s.$w}px`,\n      height: '100%',\n    };\n  }\n\n  function getSegProgress(segmentIndex) {\n    if (!task.progress) return 0;\n\n    const progress = (task.duration * task.progress) / 100;\n    const segments = task.segments;\n    let duration = 0,\n      i = 0,\n      result = null;\n    do {\n      const s = segments[i];\n      if (i === segmentIndex) {\n        if (duration > progress) result = 0;\n        else result = Math.min((progress - duration) / s.duration, 1) * 100;\n      }\n      duration += s.duration;\n      i++;\n    } while (result === null && i < segments.length);\n    return result || 0;\n  }\n\n  return (\n    <div className=\"wx-segments wx-GKbcLEGA\">\n      {task.segments.map((seg, i) => (\n        <div\n          key={i}\n          className={`wx-segment wx-bar wx-${type} wx-GKbcLEGA`}\n          data-segment={i}\n          style={segmentStyle(i)}\n        >\n          {task.progress ? (\n            <div className=\"wx-progress-wrapper\">\n              <div\n                className=\"wx-progress-percent wx-GKbcLEGA\"\n                style={{ width: `${getSegProgress(i)}%` }}\n              ></div>\n            </div>\n          ) : null}\n          <div className=\"wx-content\">{seg.text || ''}</div>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default BarSegments;\n","import {\n  Fragment,\n  useCallback,\n  useContext,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport { locate, locateID } from '@svar-ui/lib-dom';\nimport { getID } from '../../helpers/locate';\nimport storeContext from '../../context';\nimport { useStore, useStoreWithCounter } from '@svar-ui/lib-react';\nimport { isSegmentMoveAllowed, extendDragOptions } from '@svar-ui/gantt-store';\nimport { Button } from '@svar-ui/react-core';\nimport Links from './Links.jsx';\nimport BarSegments from './BarSegments.jsx';\nimport './Bars.css';\n\nfunction Bars(props) {\n  const { readonly, taskTemplate: TaskTemplate } = props;\n\n  const api = useContext(storeContext);\n\n  const [rTasksValue, rTasksCounter] = useStoreWithCounter(api, '_tasks');\n  const [rLinksValue, rLinksCounter] = useStoreWithCounter(api, '_links');\n  const areaValue = useStore(api, 'area');\n  const scalesValue = useStore(api, '_scales');\n  const taskTypesValue = useStore(api, 'taskTypes');\n  const baselinesValue = useStore(api, 'baselines');\n  const selectedValue = useStore(api, '_selected');\n  const scrollTaskStore = useStore(api, '_scrollTask');\n  const criticalPath = useStore(api, 'criticalPath');\n  const tree = useStore(api, 'tasks');\n  const schedule = useStore(api, 'schedule');\n  const splitTasks = useStore(api, 'splitTasks');\n  const summary = useStore(api, 'summary');\n\n  const tasks = useMemo(() => {\n    if (!areaValue || !Array.isArray(rTasksValue)) return [];\n    const start = areaValue.start ?? 0;\n    const end = areaValue.end ?? 0;\n    return rTasksValue.slice(start, end).map((a) => ({ ...a }));\n  }, [rTasksCounter, areaValue]);\n\n  const lengthUnitWidth = useMemo(\n    () => scalesValue.lengthUnitWidth,\n    [scalesValue],\n  );\n\n  const ignoreNextClickRef = useRef(false);\n\n  const [linkFrom, setLinkFrom] = useState(undefined);\n  const [taskMove, setTaskMove] = useState(null);\n  const progressFromRef = useRef(null);\n\n  const [selectedLinkId, setSelectedLinkId] = useState(null);\n\n  const selectedLink = useMemo(() => {\n    return (\n      selectedLinkId && {\n        ...rLinksValue.find((link) => link.id === selectedLinkId),\n      }\n    );\n  }, [selectedLinkId, rLinksCounter]);\n\n  const [touched, setTouched] = useState(undefined);\n  const touchTimerRef = useRef(null);\n\n  const [totalWidth, setTotalWidth] = useState(0);\n\n  const containerRef = useRef(null);\n\n  const hasFocus = useMemo(() => {\n    const el = containerRef.current;\n    return !!(\n      selectedValue.length &&\n      el &&\n      el.contains(document.activeElement)\n    );\n  }, [selectedValue, containerRef.current]);\n\n  const focused = useMemo(() => {\n    return hasFocus && selectedValue[selectedValue.length - 1]?.id;\n  }, [hasFocus, selectedValue]);\n\n  useEffect(() => {\n    if (!scrollTaskStore) return;\n    if (hasFocus && scrollTaskStore) {\n      const { id } = scrollTaskStore;\n      const node = containerRef.current?.querySelector(\n        `.wx-bar[data-id='${id}']`,\n      );\n      if (node) node.focus({ preventScroll: true });\n    }\n  }, [scrollTaskStore]);\n\n  useEffect(() => {\n    const el = containerRef.current;\n    if (!el) return;\n    setTotalWidth(el.offsetWidth || 0);\n    if (typeof ResizeObserver !== 'undefined') {\n      const ro = new ResizeObserver((entries) => {\n        if (entries[0]) {\n          setTotalWidth(entries[0].contentRect.width);\n        }\n      });\n      ro.observe(el);\n      return () => ro.disconnect();\n    }\n  }, [containerRef.current]);\n\n  const startDrag = useCallback(() => {\n    document.body.style.userSelect = 'none';\n  }, []);\n\n  const endDrag = useCallback(() => {\n    document.body.style.userSelect = '';\n  }, []);\n\n  const getMoveMode = useCallback(\n    (node, e, task) => {\n      if (e.target.classList.contains('wx-line')) return '';\n      if (!task) task = api.getTask(getID(node));\n      if (task.type === 'milestone' || task.type === 'summary') return '';\n\n      const segmentNode = locate(e, 'data-segment');\n      if (segmentNode) node = segmentNode;\n\n      const { left, width } = node.getBoundingClientRect();\n      const p = (e.clientX - left) / width;\n      let delta = 0.2 / (width > 200 ? width / 200 : 1);\n      if (p < delta) return 'start';\n      if (p > 1 - delta) return 'end';\n      return '';\n    },\n    [api],\n  );\n\n  const down = useCallback(\n    (node, point) => {\n      const { clientX } = point;\n      const id = getID(node);\n      const task = api.getTask(id);\n      const css = point.target.classList;\n      if (point.target.closest('.wx-delete-button')) return;\n      if (!readonly) {\n        if (css.contains('wx-progress-marker')) {\n          const { progress } = api.getTask(id);\n          progressFromRef.current = {\n            id,\n            x: clientX,\n            progress,\n            dx: 0,\n            node,\n            marker: point.target,\n          };\n          point.target.classList.add('wx-progress-in-drag');\n        } else {\n          const mode = getMoveMode(node, point, task) || 'move';\n\n          const newTaskMove = {\n            id,\n            mode,\n            x: clientX,\n            dx: 0,\n            l: task.$x,\n            w: task.$w,\n          };\n\n          if (splitTasks && task.segments?.length) {\n            const segNode = locate(point, 'data-segment');\n            if (segNode) {\n              newTaskMove.segmentIndex = segNode.dataset['segment'] * 1;\n              extendDragOptions(task, newTaskMove);\n            }\n          }\n\n          setTaskMove(newTaskMove);\n        }\n        startDrag();\n      }\n    },\n    [api, readonly, getMoveMode, startDrag, splitTasks],\n  );\n\n  const mousedown = useCallback(\n    (e) => {\n      if (e.button !== 0) return;\n\n      const node = locate(e);\n      if (!node) return;\n\n      down(node, e);\n    },\n    [down],\n  );\n\n  const touchstart = useCallback(\n    (e) => {\n      const node = locate(e);\n      if (node) {\n        touchTimerRef.current = setTimeout(() => {\n          setTouched(true);\n          down(node, e.touches[0]);\n        }, 300);\n      }\n    },\n    [down],\n  );\n\n  const onSelectLink = useCallback((id) => {\n    setSelectedLinkId(id);\n  }, []);\n\n  const up = useCallback(() => {\n    if (progressFromRef.current) {\n      const { dx, id, marker, value } = progressFromRef.current;\n      progressFromRef.current = null;\n      if (typeof value != 'undefined' && dx)\n        api.exec('update-task', {\n          id,\n          task: { progress: value },\n          inProgress: false,\n        });\n      marker.classList.remove('wx-progress-in-drag');\n\n      ignoreNextClickRef.current = true;\n      endDrag();\n    } else if (taskMove) {\n      const { id, mode, dx, l, w, start, segment, index } = taskMove;\n      setTaskMove(null);\n      if (start) {\n        const diff = Math.round(dx / lengthUnitWidth);\n\n        if (!diff) {\n          api.exec('drag-task', {\n            id,\n            width: w,\n            left: l,\n            inProgress: false,\n            ...(segment && { segmentIndex: index }),\n          });\n        } else {\n          let update = {};\n          let task = api.getTask(id);\n          if (segment) task = task.segments[index];\n\n          if (mode === 'move') {\n            update.start = task.start;\n            update.end = task.end;\n          } else update[mode] = task[mode];\n\n          api.exec('update-task', {\n            id,\n            diff,\n            task: update,\n            ...(segment && { segmentIndex: index }),\n          });\n        }\n        ignoreNextClickRef.current = true;\n      }\n\n      endDrag();\n    }\n  }, [api, endDrag, taskMove, lengthUnitWidth]);\n\n  const move = useCallback(\n    (e, point) => {\n      const { clientX } = point;\n\n      if (!readonly) {\n        if (progressFromRef.current) {\n          const { node, x, id } = progressFromRef.current;\n          const dx = (progressFromRef.current.dx = clientX - x);\n\n          const diff = Math.round((dx / node.offsetWidth) * 100);\n          let progress = progressFromRef.current.progress + diff;\n          progressFromRef.current.value = progress = Math.min(\n            Math.max(0, progress),\n            100,\n          );\n\n          api.exec('update-task', {\n            id,\n            task: { progress },\n            inProgress: true,\n          });\n        } else if (taskMove) {\n          onSelectLink(null);\n          const { mode, l, w, x, id, start, segment, index } = taskMove;\n          const task = api.getTask(id);\n          const dx = clientX - x;\n          const minWidth = Math.round(lengthUnitWidth) || 1; \n          if (\n            (!start && Math.abs(dx) < 20) ||\n            (mode === \"start\" && w - dx < minWidth) ||\n            (mode === \"end\" && w + dx < minWidth) || \n            (mode === 'move' &&\n              ((dx < 0 && l + dx < 0) ||\n                (dx > 0 && l + w + dx > totalWidth))) ||\n            (taskMove.segment && !isSegmentMoveAllowed(task, taskMove))\n          )\n            return;\n\n          const nextTaskMove = { ...taskMove, dx };\n\n          let left, width;\n          if (mode === 'start') {\n            left = l + dx;\n            width = w - dx;\n          } else if (mode === 'end') {\n            left = l;\n            width = w + dx;\n          } else if (mode === 'move') {\n            left = l + dx;\n            width = w;\n          }\n\n          api.exec('drag-task', {\n            id,\n            width: width,\n            left: left,\n            inProgress: true,\n            start,\n            ...(segment && { segmentIndex: index }),\n          });\n\n          if (\n            !nextTaskMove.start &&\n            ((mode === 'move' && task.$x == l) ||\n              (mode !== 'move' && task.$w == w))\n          ) {\n            ignoreNextClickRef.current = true;\n            up();\n            return;\n          }\n          nextTaskMove.start = true;\n          setTaskMove(nextTaskMove);\n        } else {\n          const taskNode = locate(e);\n          if (taskNode) {\n            const task = api.getTask(getID(taskNode));\n            const segNode = locate(e, 'data-segment');\n            const barNode = segNode || taskNode;\n            const mode = getMoveMode(barNode, point, task);\n            barNode.style.cursor = mode && !readonly ? 'col-resize' : 'pointer';\n          }\n        }\n      }\n    },\n    [\n      api,\n      readonly,\n      taskMove,\n      lengthUnitWidth,\n      totalWidth,\n      getMoveMode,\n      onSelectLink,\n      up,\n    ],\n  );\n\n  const mousemove = useCallback(\n    (e) => {\n      move(e, e);\n    },\n    [move],\n  );\n\n  const touchmove = useCallback(\n    (e) => {\n      if (touched) {\n        e.preventDefault();\n        move(e, e.touches[0]);\n      } else if (touchTimerRef.current) {\n        clearTimeout(touchTimerRef.current);\n        touchTimerRef.current = null;\n      }\n    },\n    [touched, move],\n  );\n\n  const mouseup = useCallback(() => {\n    up();\n  }, [up]);\n\n  const touchend = useCallback(() => {\n    setTouched(null);\n    if (touchTimerRef.current) {\n      clearTimeout(touchTimerRef.current);\n      touchTimerRef.current = null;\n    }\n    up();\n  }, [up]);\n\n  useEffect(() => {\n    window.addEventListener('mouseup', mouseup);\n    return () => {\n      window.removeEventListener('mouseup', mouseup);\n    };\n  }, [mouseup]);\n\n  const onDblClick = useCallback(\n    (e) => {\n      if (!readonly) {\n        const id = locateID(e.target);\n        if (id && !e.target.classList.contains('wx-link')) {\n          const segmentIndex = locateID(e.target, 'data-segment');\n          api.exec('show-editor', {\n            id,\n            ...(segmentIndex !== null && { segmentIndex }),\n          });\n        }\n      }\n    },\n    [api, readonly],\n  );\n\n  const types = ['e2s', 's2s', 'e2e', 's2e'];\n  const getLinkType = useCallback((fromStart, toStart) => {\n    return types[(fromStart ? 1 : 0) + (toStart ? 0 : 2)];\n  }, []);\n\n  const alreadyLinked = useCallback(\n    (target, toStart) => {\n      const source = linkFrom.id;\n      const fromStart = linkFrom.start;\n\n      if (target === source) return true;\n\n      return !!rLinksValue.find((l) => {\n        return (\n          l.target == target &&\n          l.source == source &&\n          l.type === getLinkType(fromStart, toStart)\n        );\n      });\n    },\n    [linkFrom, rLinksCounter, getLinkType],\n  );\n\n  const removeLinkMarker = useCallback(() => {\n    if (linkFrom) {\n      setLinkFrom(null);\n    }\n  }, [linkFrom]);\n\n  const onClick = useCallback(\n    (e) => {\n      if (ignoreNextClickRef.current) {\n        ignoreNextClickRef.current = false;\n        return;\n      }\n\n      const id = locateID(e.target);\n      if (id) {\n        const css = e.target.classList;\n        if (css.contains('wx-link')) {\n          const toStart = css.contains('wx-left');\n          if (!linkFrom) {\n            setLinkFrom({ id, start: toStart });\n            return;\n          }\n\n          if (linkFrom.id !== id && !alreadyLinked(id, toStart)) {\n            api.exec('add-link', {\n              link: {\n                source: linkFrom.id,\n                target: id,\n                type: getLinkType(linkFrom.start, toStart),\n              },\n            });\n          }\n        } else if (css.contains('wx-delete-button-icon')) {\n          api.exec('delete-link', { id: selectedLinkId });\n          setSelectedLinkId(null);\n        } else {\n          let segmentIndex;\n          const segmentNode = locate(e, 'data-segment');\n          if (segmentNode) segmentIndex = segmentNode.dataset.segment * 1;\n          api.exec('select-task', {\n            id,\n            toggle: e.ctrlKey || e.metaKey,\n            range: e.shiftKey,\n            segmentIndex,\n          });\n        }\n      }\n      removeLinkMarker();\n    },\n    [\n      api,\n      linkFrom,\n      rLinksCounter,\n      selectedLink,\n      alreadyLinked,\n      getLinkType,\n      removeLinkMarker,\n    ],\n  );\n\n  const taskStyle = useCallback((task) => {\n    return {\n      left: `${task.$x}px`,\n      top: `${task.$y}px`,\n      width: `${task.$w}px`,\n      height: `${task.$h}px`,\n    };\n  }, []);\n\n  const baselineStyle = useCallback((task) => {\n    return {\n      left: `${task.$x_base}px`,\n      top: `${task.$y_base}px`,\n      width: `${task.$w_base}px`,\n      height: `${task.$h_base}px`,\n    };\n  }, []);\n\n  const contextmenu = useCallback(\n    (ev) => {\n      if (touched || touchTimerRef.current) {\n        ev.preventDefault();\n        return false;\n      }\n    },\n    [touched],\n  );\n\n  const taskTypeIds = useMemo(\n    () => taskTypesValue.map((t) => t.id),\n    [taskTypesValue],\n  );\n\n  const taskTypeCss = useCallback(\n    (type) => {\n      let css = taskTypeIds.includes(type) ? type : 'task';\n      if (!['task', 'milestone', 'summary'].includes(type)) {\n        css = `task ${css}`;\n      }\n      return css;\n    },\n    [taskTypeIds],\n  );\n\n  const forward = useCallback(\n    (ev) => {\n      api.exec(ev.action, ev.data);\n    },\n    [api],\n  );\n\n  const isTaskCritical = useCallback(\n    (taskId) => {\n      return criticalPath && tree.byId(taskId).$critical;\n    },\n    [criticalPath, tree],\n  );\n\n  const isLinkMarkerVisible = useCallback(\n    (id) => {\n      if (schedule?.auto) {\n        const summaryIds = tree.getSummaryId(id, true);\n        const linkFromSummaryIds = tree.getSummaryId(linkFrom.id, true);\n        return (\n          linkFrom?.id &&\n          !(Array.isArray(summaryIds) ? summaryIds : [summaryIds]).includes(\n            linkFrom.id,\n          ) &&\n          !(\n            Array.isArray(linkFromSummaryIds)\n              ? linkFromSummaryIds\n              : [linkFromSummaryIds]\n          ).includes(id)\n        );\n      }\n      return linkFrom;\n    },\n    [schedule, tree, linkFrom],\n  );\n\n  return (\n    <div\n      className=\"wx-GKbcLEGA wx-bars\"\n      style={{ lineHeight: `${tasks.length ? tasks[0].$h : 0}px` }}\n      ref={containerRef}\n      onContextMenu={contextmenu}\n      onMouseDown={mousedown}\n      onMouseMove={mousemove}\n      onTouchStart={touchstart}\n      onTouchMove={touchmove}\n      onTouchEnd={touchend}\n      onClick={onClick}\n      onDoubleClick={onDblClick}\n      onDragStart={(e) => {\n        e.preventDefault();\n        return false;\n      }}\n    >\n      <Links\n        onSelectLink={onSelectLink}\n        selectedLink={selectedLink}\n        readonly={readonly}\n      />\n      {tasks.map((task) => {\n        if (task.$skip && task.$skip_baseline) return null;\n        const barClass =\n          `wx-bar wx-${taskTypeCss(task.type)}` +\n          (touched && taskMove && task.id === taskMove.id ? ' wx-touch' : '') +\n          (linkFrom && linkFrom.id === task.id ? ' wx-selected' : '') +\n          (isTaskCritical(task.id) ? ' wx-critical' : '') +\n          (task.$reorder ? ' wx-reorder-task' : '') +\n          (splitTasks && task.segments ? ' wx-split' : '');\n        const leftLinkClass =\n          'wx-link wx-left' +\n          (linkFrom ? ' wx-visible' : '') +\n          (!linkFrom ||\n            (!alreadyLinked(task.id, true) && isLinkMarkerVisible(task.id))\n            ? ' wx-target'\n            : '') +\n          (linkFrom && linkFrom.id === task.id && linkFrom.start\n            ? ' wx-selected'\n            : '') +\n          (isTaskCritical(task.id) ? ' wx-critical' : '');\n        const rightLinkClass =\n          'wx-link wx-right' +\n          (linkFrom ? ' wx-visible' : '') +\n          (!linkFrom ||\n            (!alreadyLinked(task.id, false) && isLinkMarkerVisible(task.id))\n            ? ' wx-target'\n            : '') +\n          (linkFrom && linkFrom.id === task.id && !linkFrom.start\n            ? ' wx-selected'\n            : '') +\n          (isTaskCritical(task.id) ? ' wx-critical' : '');\n        return (\n          <Fragment key={task.id}>\n            {!task.$skip && (\n              <div\n                className={'wx-GKbcLEGA ' + barClass}\n                style={taskStyle(task)}\n                data-tooltip-id={task.id}\n                data-id={task.id}\n                tabIndex={focused === task.id ? 0 : -1}\n              >\n                {!readonly ? (\n                  task.id === selectedLink?.target &&\n                    selectedLink?.type[2] === 's' ? (\n                    <Button\n                      type=\"danger\"\n                      css=\"wx-left wx-delete-button wx-delete-link\"\n                    >\n                      <i className=\"wxi-close wx-delete-button-icon\"></i>\n                    </Button>\n                  ) : (\n                    <div className={'wx-GKbcLEGA ' + leftLinkClass}>\n                      <div className=\"wx-GKbcLEGA wx-inner\"></div>\n                    </div>\n                  )\n                ) : null}\n\n                {task.type !== 'milestone' ? (\n                  <>\n                    {task.progress && !(splitTasks && task.segments) ? (\n                      <div className=\"wx-GKbcLEGA wx-progress-wrapper\">\n                        <div\n                          className=\"wx-GKbcLEGA wx-progress-percent\"\n                          style={{ width: `${task.progress}%` }}\n                        ></div>\n                      </div>\n                    ) : null}\n                    {!readonly &&\n                      !(splitTasks && task.segments) &&\n                      !(task.type == 'summary' && summary?.autoProgress) ? (\n                      <div\n                        className=\"wx-GKbcLEGA wx-progress-marker\"\n                        style={{ left: `calc(${task.progress}% - 10px)` }}\n                      >\n                        {task.progress}\n                      </div>\n                    ) : null}\n                    {TaskTemplate ? (\n                      <TaskTemplate data={task} api={api} onAction={forward} />\n                    ) : splitTasks && task.segments ? (\n                      <BarSegments task={task} type={taskTypeCss(task.type)} />\n                    ) : (\n                      <div className=\"wx-GKbcLEGA wx-content\">\n                        {task.text || ''}\n                      </div>\n                    )}\n                  </>\n                ) : (\n                  <>\n                    <div className=\"wx-GKbcLEGA wx-content\"></div>\n                    {TaskTemplate ? (\n                      <TaskTemplate data={task} api={api} onAction={forward} />\n                    ) : (\n                      <div className=\"wx-GKbcLEGA wx-text-out\">{task.text}</div>\n                    )}\n                  </>\n                )}\n\n                {!readonly ? (\n                  task.id === selectedLink?.target &&\n                    selectedLink?.type[2] === 'e' ? (\n                    <Button\n                      type=\"danger\"\n                      css=\"wx-right wx-delete-button wx-delete-link\"\n                    >\n                      <i className=\"wxi-close wx-delete-button-icon\"></i>\n                    </Button>\n                  ) : (\n                    <div className={'wx-GKbcLEGA ' + rightLinkClass}>\n                      <div className=\"wx-GKbcLEGA wx-inner\"></div>\n                    </div>\n                  )\n                ) : null}\n              </div>\n            )}\n            {baselinesValue && !task.$skip_baseline ? (\n              <div\n                className={\n                  'wx-GKbcLEGA wx-baseline' +\n                  (task.type === 'milestone' ? ' wx-milestone' : '')\n                }\n                style={baselineStyle(task)}\n              ></div>\n            ) : null}\n          </Fragment>\n        );\n      })}\n    </div>\n  );\n}\n\nexport default Bars;\n","import { useContext } from 'react';\nimport storeContext from '../../context';\nimport { useStore } from '@svar-ui/lib-react';\nimport './TimeScale.css';\n\nfunction TimeScale(props) {\n  const { highlightTime } = props;\n\n  const api = useContext(storeContext);\n  const scales = useStore(api, '_scales');\n\n  return (\n    <div className=\"wx-ZkvhDKir wx-scale\" style={{ width: scales.width }}>\n      {(scales?.rows || []).map((row, rowIdx) => (\n        <div\n          className=\"wx-ZkvhDKir wx-row\"\n          style={{ height: `${row.height}px` }}\n          key={rowIdx}\n        >\n          {(row.cells || []).map((cell, cellIdx) => {\n            const extraClass = highlightTime\n              ? highlightTime(cell.date, cell.unit)\n              : '';\n            const className =\n              'wx-cell ' + (cell.css || '') + ' ' + (extraClass || '');\n            return (\n              <div\n                className={'wx-ZkvhDKir ' + className}\n                style={{ width: `${cell.width}px` }}\n                key={cellIdx}\n              >\n                {cell.value}\n              </div>\n            );\n          })}\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default TimeScale;\n","import { useRef, useEffect } from 'react';\n\nconst renderMetrics = new Map();\n\nexport function useRenderTime(label) {\n  const startTime = useRef(null);\n  const renderCount = useRef(0);\n  const rafRef = useRef(null);\n\n  const enabled =\n    typeof window !== 'undefined' && window.__RENDER_METRICS_ENABLED__;\n\n  if (startTime.current === null) {\n    startTime.current = performance.now();\n  }\n  renderCount.current++;\n\n  useEffect(() => {\n    if (!enabled) return;\n\n    cancelAnimationFrame(rafRef.current);\n\n    rafRef.current = requestAnimationFrame(() => {\n      const metric = {\n        label,\n        time: performance.now() - startTime.current,\n        renders: renderCount.current,\n        timestamp: Date.now(),\n      };\n\n      renderMetrics.set(label, metric);\n\n      window.dispatchEvent(\n        new CustomEvent('render-metric', { detail: metric }),\n      );\n    });\n\n    return () => cancelAnimationFrame(rafRef.current);\n  });\n}\n","import {\n  useState,\n  useEffect,\n  useMemo,\n  useRef,\n  useContext,\n  useCallback,\n} from 'react';\nimport CellGrid from './CellGrid.jsx';\nimport Bars from './Bars.jsx';\nimport { hotkeys } from '@svar-ui/grid-store';\nimport storeContext from '../../context';\nimport { useStore, useStoreWithCounter } from '@svar-ui/lib-react';\nimport './Chart.css';\nimport TimeScales from './TimeScale.jsx';\nimport { useRenderTime } from '../../helpers/debug.js';\n\nfunction Chart(props) {\n  const {\n    readonly,\n    fullWidth,\n    fullHeight,\n    taskTemplate,\n    cellBorders,\n    highlightTime,\n  } = props;\n\n  const api = useContext(storeContext);\n\n  const [selected, selectedCounter] = useStoreWithCounter(api, '_selected');\n  const rScrollTop = useStore(api, 'scrollTop');\n  const cellHeight = useStore(api, 'cellHeight');\n  const cellWidth = useStore(api, 'cellWidth');\n  const scales = useStore(api, '_scales');\n  const markers = useStore(api, '_markers');\n  const rScrollTask = useStore(api, '_scrollTask');\n  const zoom = useStore(api, 'zoom');\n\n  const [chartHeight, setChartHeight] = useState();\n  const chartRef = useRef(null);\n\n  const extraRows = 1 + (scales?.rows?.length || 0);\n  const selectStyle = useMemo(() => {\n    const t = [];\n    if (selected && selected.length && cellHeight) {\n      selected.forEach((obj) => {\n        t.push({ height: `${cellHeight}px`, top: `${obj.$y - 3}px` });\n      });\n    }\n    return t;\n  }, [selectedCounter, cellHeight]);\n\n  const chartGridHeight = useMemo(\n    () => Math.max(chartHeight || 0, fullHeight),\n    [chartHeight, fullHeight],\n  );\n\n  useEffect(() => {\n    const el = chartRef.current;\n    if (!el) return;\n\n    if (typeof rScrollTop === 'number') {\n      el.scrollTop = rScrollTop;\n    }\n  }, [rScrollTop]);\n\n  const onScroll = () => {\n    const scroll = { left: true };\n    setScroll(scroll);\n  };\n\n  function setScroll(scroll) {\n    const el = chartRef.current;\n    if (!el) return;\n    const pos = {};\n    if (scroll.left) pos.left = el.scrollLeft;\n    api.exec('scroll-chart', pos);\n  }\n\n  function dataRequest() {\n    const el = chartRef.current;\n    const clientHeightLocal = chartHeight || 0;\n    const num = Math.ceil(clientHeightLocal / (cellHeight || 1)) + 1;\n    const pos = Math.floor(((el && el.scrollTop) || 0) / (cellHeight || 1));\n    const start = Math.max(0, pos - extraRows);\n    const end = pos + num + extraRows;\n    const from = start * (cellHeight || 0);\n    api.exec('render-data', {\n      start,\n      end,\n      from,\n    });\n  }\n\n  useEffect(() => {\n    dataRequest();\n  }, [chartHeight, rScrollTop]);\n\n  const showTask = useCallback(\n    (value) => {\n      if (!value) return;\n\n      const { id, mode } = value;\n\n      if (mode.toString().indexOf('x') < 0) return;\n      const el = chartRef.current;\n      if (!el) return;\n      const { clientWidth } = el;\n      const task = api.getTask(id);\n      if (task.$x + task.$w < el.scrollLeft) {\n        api.exec('scroll-chart', { left: task.$x - (cellWidth || 0) });\n        el.scrollLeft = task.$x - (cellWidth || 0);\n      } else if (task.$x >= clientWidth + el.scrollLeft) {\n        const width = clientWidth < task.$w ? cellWidth || 0 : task.$w;\n        api.exec('scroll-chart', { left: task.$x - clientWidth + width });\n        el.scrollLeft = task.$x - clientWidth + width;\n      }\n    },\n    [api, cellWidth],\n  );\n\n  useEffect(() => {\n    showTask(rScrollTask);\n  }, [rScrollTask]);\n\n  function onWheel(e) {\n    if (zoom && (e.ctrlKey || e.metaKey)) {\n      e.preventDefault();\n      const el = chartRef.current;\n      const dir = -Math.sign(e.deltaY);\n      const offset = e.clientX - (el ? el.getBoundingClientRect().left : 0);\n      api.exec('zoom-scale', {\n        dir,\n        offset,\n      });\n    }\n  }\n\n  function getHoliday(cell) {\n    const style = highlightTime(cell.date, cell.unit);\n    if (style)\n      return {\n        css: style,\n        width: cell.width,\n      };\n    return null;\n  }\n\n  const holidays = useMemo(() => {\n    return scales &&\n      (scales.minUnit === 'hour' || scales.minUnit === 'day') &&\n      highlightTime\n      ? scales.rows[scales.rows.length - 1].cells.map(getHoliday)\n      : null;\n  }, [scales, highlightTime]);\n\n  const handleHotkey = useCallback(\n    (ev) => {\n      ev.eventSource = 'chart';\n      api.exec('hotkey', ev);\n    },\n    [api],\n  );\n\n  useEffect(() => {\n    const el = chartRef.current;\n    if (!el) return;\n    const update = () => setChartHeight(el.clientHeight);\n    update();\n    const ro = new ResizeObserver(() => update());\n    ro.observe(el);\n    return () => {\n      ro.disconnect();\n    };\n  }, [chartRef.current]);\n\n  const cleanupRef = useRef(null);\n\n  useEffect(() => {\n    const el = chartRef.current;\n    if (!el) return;\n    if (cleanupRef.current) return;\n    cleanupRef.current = hotkeys(el, {\n      keys: {\n        arrowup: true,\n        arrowdown: true,\n      },\n      exec: (v) => handleHotkey(v),\n    });\n    return () => {\n      cleanupRef.current?.destroy();\n      cleanupRef.current = null;\n    };\n  }, []);\n\n  useEffect(() => {\n    const node = chartRef.current;\n    if (!node) return;\n\n    const handler = onWheel;\n    node.addEventListener('wheel', handler);\n    return () => {\n      node.removeEventListener('wheel', handler);\n    };\n  }, [onWheel]);\n\n  useRenderTime(\"chart\");\n  \n  return (\n    <div\n      className=\"wx-mR7v2Xag wx-chart\"\n      tabIndex={-1}\n      ref={chartRef}\n      onScroll={onScroll}\n    >\n      <TimeScales highlightTime={highlightTime} scales={scales} />\n      {markers && markers.length ? (\n        <div\n          className=\"wx-mR7v2Xag wx-markers\"\n          style={{ height: `${chartGridHeight}px` }}\n        >\n          {markers.map((marker, i) => (\n            <div\n              key={i}\n              className={`wx-mR7v2Xag wx-marker ${marker.css || ''}`}\n              style={{ left: `${marker.left}px` }}\n            >\n              <div className=\"wx-mR7v2Xag wx-content\">{marker.text}</div>\n            </div>\n          ))}\n        </div>\n      ) : null}\n\n      <div\n        className=\"wx-mR7v2Xag wx-area\"\n        style={{ width: `${fullWidth}px`, height: `${chartGridHeight}px` }}\n      >\n        {holidays ? (\n          <div\n            className=\"wx-mR7v2Xag wx-gantt-holidays\"\n            style={{ height: '100%' }}\n          >\n            {holidays.map((holiday, i) =>\n              holiday ? (\n                <div\n                  key={i}\n                  className={'wx-mR7v2Xag ' + holiday.css}\n                  style={{\n                    width: `${holiday.width}px`,\n                    left: `${i * holiday.width}px`,\n                  }}\n                />\n              ) : null,\n            )}\n          </div>\n        ) : null}\n\n        <CellGrid borders={cellBorders} />\n\n        {selected && selected.length\n          ? selected.map((obj, index) =>\n              obj.$y ? (\n                <div\n                  key={obj.id}\n                  className=\"wx-mR7v2Xag wx-selected\"\n                  data-id={obj.id}\n                  style={selectStyle[index]}\n                ></div>\n              ) : null,\n            )\n          : null}\n\n        <Bars readonly={readonly} taskTemplate={taskTemplate} />\n      </div>\n    </div>\n  );\n}\n\nexport default Chart;\n","import { useState, useMemo, useRef, useCallback, useEffect } from 'react';\nimport { useWritableProp } from '@svar-ui/lib-react';\nimport './Resizer.css';\n\nfunction Resizer(props) {\n  const {\n    position = 'after',\n    size = 4,\n    dir = 'x',\n    onMove,\n    onDisplayChange,\n    compactMode,\n    containerWidth = 0,\n    leftThreshold = 50,\n    rightThreshold = 50,\n  } = props;\n\n  const [value, setValue] = useWritableProp(props.value ?? 0);\n  const [display, setDisplay] = useWritableProp(props.display ?? 'all');\n\n  function getBox(val) {\n    let offset = 0;\n    if (position == 'center') offset = size / 2;\n    else if (position == 'before') offset = size;\n\n    const box = {\n      size: [size + 'px', 'auto'],\n      p: [val - offset + 'px', '0px'],\n      p2: ['auto', '0px'],\n    };\n\n    if (dir != 'x') {\n      for (let name in box) box[name] = box[name].reverse();\n    }\n    return box;\n  }\n\n  const [active, setActive] = useState(false);\n  const [initialPosition, setInitialPosition] = useState(null);\n\n  const startRef = useRef(0);\n  const posRef = useRef();\n  const timeoutRef = useRef();\n  const displayRef = useRef(display);\n\n  useEffect(() => {\n    displayRef.current = display;\n  }, [display]);\n\n  useEffect(() => {\n    if (initialPosition === null && value > 0) {\n      setInitialPosition(value);\n    }\n  }, [initialPosition, value]);\n\n  function getEventPos(ev) {\n    return dir == 'x' ? ev.clientX : ev.clientY;\n  }\n\n  const move = useCallback(\n    (ev) => {\n      const newPos = posRef.current + getEventPos(ev) - startRef.current;\n\n      setValue(newPos);\n      let nextDisplay;\n\n      if (newPos <= leftThreshold) {\n        nextDisplay = 'chart';\n      } else if (containerWidth - newPos <= rightThreshold) {\n        nextDisplay = 'grid';\n      } else {\n        nextDisplay = 'all';\n      }\n\n      if (displayRef.current !== nextDisplay) {\n        setDisplay(nextDisplay);\n        displayRef.current = nextDisplay;\n      }\n\n      if (timeoutRef.current) clearTimeout(timeoutRef.current);\n      timeoutRef.current = setTimeout(() => onMove && onMove(newPos), 100);\n    },\n    [containerWidth, leftThreshold, rightThreshold, onMove],\n  );\n\n  const up = useCallback(() => {\n    document.body.style.cursor = '';\n    document.body.style.userSelect = '';\n    setActive(false);\n    window.removeEventListener('mousemove', move);\n    window.removeEventListener('mouseup', up);\n  }, [move]);\n\n  const cursor = useMemo(\n    () => (display !== 'all' ? 'auto' : dir == 'x' ? 'ew-resize' : 'ns-resize'),\n    [display, dir],\n  );\n\n  const down = useCallback(\n    (ev) => {\n      // Prevent dragging when in normal mode and only one view is visible\n      if (!compactMode && (display === 'grid' || display === 'chart')) {\n        return;\n      }\n\n      startRef.current = getEventPos(ev);\n\n      posRef.current = value;\n      setActive(true);\n\n      document.body.style.cursor = cursor;\n      document.body.style.userSelect = 'none';\n\n      window.addEventListener('mousemove', move);\n      window.addEventListener('mouseup', up);\n    },\n    [cursor, move, up, value, compactMode, display],\n  );\n\n  function resetToInitial() {\n    setDisplay('all');\n    if (initialPosition !== null) {\n      setValue(initialPosition);\n      if (onMove) onMove(initialPosition);\n    }\n  }\n\n  function handleExpand(direction) {\n    if (compactMode) {\n      const newDisplay = display === 'chart' ? 'grid' : 'chart';\n      setDisplay(newDisplay);\n      onDisplayChange(newDisplay);\n    } else {\n      if (display === 'grid' || display === 'chart') {\n        resetToInitial();\n        onDisplayChange('all');\n      } else {\n        const newDisplay = direction === 'left' ? 'chart' : 'grid';\n        setDisplay(newDisplay);\n        onDisplayChange(newDisplay);\n      }\n    }\n  }\n\n  function handleExpandLeft() {\n    handleExpand('left');\n  }\n\n  function handleExpandRight() {\n    handleExpand('right');\n  }\n\n  const b = useMemo(() => getBox(value), [value, position, size, dir]);\n\n  const rootClassName = [\n    'wx-resizer',\n    `wx-resizer-${dir}`,\n    `wx-resizer-display-${display}`,\n    active ? 'wx-resizer-active' : '',\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  return (\n    <div\n      className={'wx-pFykzMlT ' + rootClassName}\n      onMouseDown={down}\n      style={{ width: b.size[0], height: b.size[1], cursor }}\n    >\n      <div className=\"wx-pFykzMlT wx-button-expand-box\">\n        <div className=\"wx-pFykzMlT wx-button-expand-content wx-button-expand-left\">\n          <i\n            className=\"wx-pFykzMlT wxi-menu-left\"\n            onClick={handleExpandLeft}\n          ></i>\n        </div>\n        <div className=\"wx-pFykzMlT wx-button-expand-content wx-button-expand-right\">\n          <i\n            className=\"wx-pFykzMlT wxi-menu-right\"\n            onClick={handleExpandRight}\n          ></i>\n        </div>\n      </div>\n      <div className=\"wx-pFykzMlT wx-resizer-line\"></div>\n    </div>\n  );\n}\n\nexport default Resizer;\n","const COMPACT_WIDTH = 650;\n\nexport function modeObserver(callback) {\n  let observer;\n\n  function observe() {\n    observer = new ResizeObserver((entries) => {\n      for (let obj of entries) {\n        if (obj.target === document.body) {\n          let mode = obj.contentRect.width <= COMPACT_WIDTH;\n          callback(mode);\n        }\n      }\n    });\n\n    observer.observe(document.body);\n  }\n\n  function disconnect() {\n    if (observer) {\n      observer.disconnect();\n      observer = null;\n    }\n  }\n\n  return {\n    observe,\n    disconnect,\n  };\n}\n","import {\n  useState,\n  useEffect,\n  useMemo,\n  useRef,\n  useCallback,\n  useContext,\n} from 'react';\nimport { hotkeys } from '@svar-ui/grid-store';\nimport Grid from './grid/Grid.jsx';\nimport Chart from './chart/Chart.jsx';\nimport Resizer from './Resizer.jsx';\nimport { modeObserver } from '../helpers/modeResizeObserver';\nimport storeContext from '../context';\nimport { useStore } from '@svar-ui/lib-react';\nimport './Layout.css';\nimport { flushSync } from 'react-dom'\n\nfunction Layout(props) {\n  const {\n    taskTemplate,\n    readonly,\n    cellBorders,\n    highlightTime,\n    onTableAPIChange,\n  } = props;\n\n  const api = useContext(storeContext);\n\n  const rTasks = useStore(api, '_tasks');\n  const rScales = useStore(api, '_scales');\n  const rCellHeight = useStore(api, 'cellHeight');\n  const rColumns = useStore(api, 'columns');\n  const rScrollTask = useStore(api, '_scrollTask');\n  const undo = useStore(api, 'undo');\n  const [compactMode, setCompactMode] = useState(false);\n  let [gridWidth, setGridWidth] = useState(0);\n  const [ganttWidth, setGanttWidth] = useState(0);\n  const [ganttHeight, setGanttHeight] = useState(0);\n  const [innerWidth, setInnerWidth] = useState(undefined);\n  const [display, setDisplay] = useState('all');\n\n  const lastDisplay = useRef(null);\n\n  const handleResize = useCallback(\n    (mode) => {\n      setCompactMode((prev) => {\n        if (mode !== prev) {\n          if (mode) {\n            lastDisplay.current = display;\n            if (display === 'all') setDisplay('grid');\n          } else if (!lastDisplay.current || lastDisplay.current === 'all') {\n            setDisplay('all');\n          }\n        }\n        return mode;\n      });\n    },\n    [display],\n  );\n\n  useEffect(() => {\n    const ro = modeObserver(handleResize);\n    ro.observe();\n    return () => {\n      ro.disconnect();\n    };\n  }, [handleResize]);\n\n  const gridColumnWidth = useMemo(() => {\n    let w;\n    if (rColumns.every((c) => c.width && !c.flexgrow)) {\n      w = rColumns.reduce((acc, c) => acc + parseInt(c.width), 0);\n    } else {\n      if (compactMode && display === 'chart') {\n        w = parseInt(rColumns.find((c) => c.id === 'action')?.width) || 50;\n      } else {\n        w = 440;\n      }\n    }\n    gridWidth = w;\n    return w;\n  }, [rColumns, compactMode, display]);\n\n  useEffect(() => {\n    setGridWidth(gridColumnWidth);\n  }, [gridColumnWidth]);\n\n  const scrollSize = useMemo(\n    () => (ganttWidth ?? 0) - (innerWidth ?? 0),\n    [ganttWidth, innerWidth],\n  );\n  const fullWidth = useMemo(() => rScales.width, [rScales]);\n  const fullHeight = useMemo(\n    () => rTasks.length * rCellHeight,\n    [rTasks, rCellHeight],\n  );\n  const scrollHeight = useMemo(\n    () => rScales.height + fullHeight + scrollSize,\n    [rScales, fullHeight, scrollSize],\n  );\n  const totalWidth = useMemo(\n    () => gridWidth + fullWidth,\n    [gridWidth, fullWidth],\n  );\n\n  const chartRef = useRef(null);\n  const expandScale = useCallback(() => {\n    Promise.resolve().then(() => {\n      if ((ganttWidth ?? 0) > (totalWidth ?? 0)) {\n        const minWidth = (ganttWidth ?? 0) - gridWidth;\n        api.exec('expand-scale', { minWidth });\n      }\n    });\n  }, [ganttWidth, totalWidth, gridWidth, api]);\n\n  useEffect(() => {\n    let ro;\n    if (chartRef.current) {\n      ro = new ResizeObserver(expandScale);\n      ro.observe(chartRef.current);\n    }\n    return () => {\n      if (ro) ro.disconnect();\n    };\n  }, [chartRef.current, expandScale]);\n\n  useEffect(() => {\n    expandScale();\n  }, [fullWidth]);\n\n  const ganttDivRef = useRef(null);\n  const pseudoRowsRef = useRef(null);\n\n  const onScroll = useCallback(() => {\n    const el = ganttDivRef.current;\n    if (el) {\n      api.exec('scroll-chart', {\n        top: el.scrollTop,\n      });\n    }\n  }, [api]);\n\n  const latest = useRef({\n    rTasks: [],\n    rScales: { height: 0 },\n    rCellHeight: 0,\n    scrollSize: 0,\n    ganttDiv: null,\n    ganttHeight: 0,\n  });\n\n  useEffect(() => {\n    latest.current = {\n      rTasks,\n      rScales,\n      rCellHeight,\n      scrollSize,\n      ganttDiv: ganttDivRef.current,\n      ganttHeight: ganttHeight ?? 0,\n    };\n  }, [rTasks, rScales, rCellHeight, scrollSize, ganttHeight]);\n\n  const scrollToTask = useCallback(\n    (value) => {\n      if (!value) return;\n      const {\n        rTasks: t,\n        rScales: sc,\n        rCellHeight: ch,\n        scrollSize: ss,\n        ganttDiv: el,\n        ganttHeight: gh,\n      } = latest.current;\n      if (!el) return;\n      const { id } = value;\n      const index = t.findIndex((tt) => tt.id === id);\n      if (index > -1) {\n        const height = gh - sc.height;\n        const scrollY = index * ch;\n        const now = el.scrollTop;\n        let top = null;\n        if (scrollY < now) {\n          top = scrollY;\n        } else if (scrollY + ch > now + height) {\n          top = scrollY - height + ch + ss;\n        }\n        if (top !== null) {\n          api.exec('scroll-chart', { top: Math.max(top, 0) });\n          ganttDivRef.current.scrollTop = Math.max(top, 0);\n        }\n      }\n    },\n    [api],\n  );\n\n  useEffect(() => {\n    scrollToTask(rScrollTask);\n  }, [rScrollTask]);\n\n  useEffect(() => {\n    const ganttDiv = ganttDivRef.current;\n    const pseudoRows = pseudoRowsRef.current;\n    if (!ganttDiv || !pseudoRows) return;\n    const update = () => {\n      flushSync(() => {\n        setGanttHeight(ganttDiv.offsetHeight);\n        setGanttWidth(ganttDiv.offsetWidth);\n        setInnerWidth(pseudoRows.offsetWidth);\n      });\n    };\n    const ro = new ResizeObserver(update);\n    ro.observe(ganttDiv);\n    return () => ro.disconnect();\n  }, [ganttDivRef.current]);\n\n  const layoutRef = useRef(null);\n  const cleanupRef = useRef(null);\n\n  useEffect(() => {\n    if (cleanupRef.current) {\n      cleanupRef.current.destroy();\n      cleanupRef.current = null;\n    }\n    const node = layoutRef.current;\n    if (!node) return;\n\n    cleanupRef.current = hotkeys(node, {\n      keys: {\n        'ctrl+c': true,\n        'ctrl+v': true,\n        'ctrl+x': true,\n        'ctrl+d': true,\n        backspace: true,\n        'ctrl+z': undo,\n        'ctrl+y': undo,\n      },\n      exec: (ev) => {\n        if (!ev.isInput) api.exec('hotkey', ev);\n      },\n    });\n\n    return () => {\n      cleanupRef.current?.destroy();\n      cleanupRef.current = null;\n    };\n  }, [undo]);\n\n  return (\n    <div className=\"wx-jlbQoHOz wx-gantt\" ref={ganttDivRef} onScroll={onScroll}>\n      <div\n        className=\"wx-jlbQoHOz wx-pseudo-rows\"\n        style={{ height: scrollHeight, width: '100%' }}\n        ref={pseudoRowsRef}\n      >\n        <div\n          className=\"wx-jlbQoHOz wx-stuck\"\n          style={{\n            height: ganttHeight,\n            width: innerWidth,\n          }}\n        >\n          <div tabIndex={0} className=\"wx-jlbQoHOz wx-layout\" ref={layoutRef}>\n            {rColumns.length ? (\n              <>\n                <Grid\n                  display={display}\n                  compactMode={compactMode}\n                  columnWidth={gridColumnWidth}\n                  width={gridWidth}\n                  readonly={readonly}\n                  fullHeight={fullHeight}\n                  onTableAPIChange={onTableAPIChange}\n                />\n                <Resizer\n                  value={gridWidth}\n                  display={display}\n                  compactMode={compactMode}\n                  containerWidth={ganttWidth}\n                  onMove={(value) => setGridWidth(value)}\n                  onDisplayChange={(display) => setDisplay(display)}\n                />\n              </>\n            ) : null}\n\n            <div className=\"wx-jlbQoHOz wx-content\" ref={chartRef}>\n              <Chart\n                readonly={readonly}\n                fullWidth={fullWidth}\n                fullHeight={fullHeight}\n                taskTemplate={taskTemplate}\n                cellBorders={cellBorders}\n                highlightTime={highlightTime}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Layout;\n","import { dateToString } from '@svar-ui/lib-dom';\n\nexport function getUnitFormats(_) {\n  return {\n    year: '%Y',\n    quarter: `${_('Q')} %Q`,\n    month: '%M',\n    week: `${_('Week')} %w`,\n    day: '%M %j',\n    hour: '%H:%i',\n  };\n}\n\nfunction normalizeFormatter(value, calendarLocale) {\n  return typeof value === 'function'\n    ? value\n    : dateToString(value, calendarLocale);\n}\n\nexport function prepareScales(scales, calendarLocale) {\n  return scales.map(({ format, ...scale }) => ({\n    ...scale,\n    format: normalizeFormatter(format, calendarLocale),\n  }));\n}\n\nexport function prepareFormats(calendarLocale, _) {\n  const formats = getUnitFormats(_);\n  for (let unit in formats) {\n    formats[unit] = dateToString(formats[unit], calendarLocale);\n  }\n  return formats;\n}\n\nexport function prepareColumns(columns, calendarLocale) {\n  if (!columns || !columns.length) return columns;\n  const format = dateToString('%d-%m-%Y', calendarLocale);\n\n  return columns.map((col) => {\n    if (col.template) return col;\n\n    if (col.id === 'start' || col.id == 'end') {\n      return {\n        ...col,\n        //store locale template for unscheduled tasks\n        _template: (b) => format(b),\n        template: (b) => format(b),\n      };\n    }\n    if (col.id === 'duration') {\n      return {\n        ...col,\n        _template: (b) => b,\n        template: (b) => b,\n      };\n    }\n    return col;\n  });\n}\n\nexport function prepareZoom(zoom, calendarLocale) {\n  if (!zoom.levels) {\n    return zoom;\n  }\n\n  return {\n    ...zoom,\n    levels: zoom.levels.map((level) => ({\n      ...level,\n      scales: prepareScales(level.scales, calendarLocale),\n    })),\n  };\n}\n","import {\n  forwardRef,\n  useEffect,\n  useMemo,\n  useRef,\n  useImperativeHandle,\n  useState,\n  useContext,\n} from 'react';\n\n// core widgets lib\nimport { context } from '@svar-ui/react-core';\n\n// locales\nimport { locale as l } from '@svar-ui/lib-dom';\nimport { en } from '@svar-ui/gantt-locales';\nimport { en as coreEn } from '@svar-ui/core-locales';\n\n// stores\nimport { EventBusRouter } from '@svar-ui/lib-state';\nimport {\n  DataStore,\n  defaultColumns,\n  defaultTaskTypes,\n  parseTaskDates,\n  normalizeZoom,\n  normalizeLinks,\n} from '@svar-ui/gantt-store';\n\n// context\nimport StoreContext from '../context';\n\n// store factory\nimport { writable } from '@svar-ui/lib-react';\n\n// ui\nimport Layout from './Layout.jsx';\n\n// helpers\nimport {\n  prepareScales,\n  prepareFormats,\n  prepareColumns,\n  prepareZoom,\n} from '../helpers/prepareConfig.js';\n\nconst camelize = (s) =>\n  s\n    .split('-')\n    .map((part) => (part ? part.charAt(0).toUpperCase() + part.slice(1) : ''))\n    .join('');\n\nconst defaultScales = [\n  { unit: 'month', step: 1, format: '%F %Y' },\n  { unit: 'day', step: 1, format: '%j' },\n];\n\nconst Gantt = forwardRef(function Gantt(\n  {\n    taskTemplate = null,\n    markers = [],\n    taskTypes = defaultTaskTypes,\n    tasks = [],\n    selected = [],\n    activeTask = null,\n    links = [],\n    scales = defaultScales,\n    columns = defaultColumns,\n    start = null,\n    end = null,\n    lengthUnit = 'day',\n    durationUnit = 'day',\n    cellWidth = 100,\n    cellHeight = 38,\n    scaleHeight = 36,\n    readonly = false,\n    cellBorders = 'full',\n    zoom = false,\n    baselines = false,\n    highlightTime: highlightTimeProp = null,\n    init = null,\n    autoScale = true,\n    unscheduledTasks = false,\n    criticalPath = null,\n    schedule = { type: 'forward' },\n    projectStart = null,\n    projectEnd = null,\n    calendar = null,\n    undo = false,\n    splitTasks = false,\n    summary = null,\n    _export = false,\n    ...restProps\n  },\n  ref,\n) {\n  // keep latest rest props for event routing\n  const restPropsRef = useRef();\n  restPropsRef.current = restProps;\n\n  // init stores\n  const dataStore = useMemo(() => new DataStore(writable), []);\n\n  // locale and formats\n  // uses same logic as the Locale component\n  const words = useMemo(() => ({ ...coreEn, ...en }), []);\n  const i18nCtx = useContext(context.i18n);\n  const locale = useMemo(() => {\n    if (!i18nCtx) return l(words);\n    return i18nCtx.extend(words, true);\n  }, [i18nCtx, words]);\n\n  // prepare configuration objects\n  const lCalendar = useMemo(() => locale.getRaw().calendar, [locale]);\n\n  const normalizedConfig = useMemo(() => {\n    let config = {\n      zoom: prepareZoom(zoom, lCalendar),\n      scales: prepareScales(scales, lCalendar),\n      columns: prepareColumns(columns, lCalendar),\n      links: normalizeLinks(links),\n      cellWidth,\n    };\n    if (config.zoom) {\n      config = {\n        ...config,\n        ...normalizeZoom(\n          config.zoom,\n          prepareFormats(lCalendar, locale.getGroup('gantt')),\n          config.scales,\n          cellWidth,\n        ),\n      };\n    }\n    return config;\n  }, [zoom, scales, columns, links, cellWidth, lCalendar, locale]);\n\n  // parse task dates effect\n  const parsedTasksRef = useRef(null);\n  if (parsedTasksRef.current !== tasks) {\n    if (!_export) {\n      parseTaskDates(tasks, { durationUnit, splitTasks, calendar });\n    }\n    parsedTasksRef.current = tasks;\n  }\n  useEffect(() => {\n    if (!_export) {\n      parseTaskDates(tasks, { durationUnit, splitTasks, calendar });\n    }\n  }, [tasks, durationUnit, calendar, splitTasks, _export]);\n\n  const firstInRoute = useMemo(() => dataStore.in, [dataStore]);\n\n  const lastInRouteRef = useRef(null);\n  if (lastInRouteRef.current === null) {\n    lastInRouteRef.current = new EventBusRouter((a, b) => {\n      const name = 'on' + camelize(a);\n      if (restPropsRef.current && restPropsRef.current[name]) {\n        restPropsRef.current[name](b);\n      }\n    });\n    firstInRoute.setNext(lastInRouteRef.current);\n  }\n\n  // writable prop for two-way binding tableAPI\n  const [tableAPI, setTableAPI] = useState(null);\n  const tableAPIRef = useRef(null);\n  tableAPIRef.current = tableAPI;\n\n  // public API\n  const api = useMemo(\n    () => ({\n      getState: dataStore.getState.bind(dataStore),\n      getReactiveState: dataStore.getReactive.bind(dataStore),\n      getStores: () => ({ data: dataStore }),\n      exec: firstInRoute.exec,\n      setNext: (ev) => {\n        lastInRouteRef.current = lastInRouteRef.current.setNext(ev);\n        return lastInRouteRef.current;\n      },\n      intercept: firstInRoute.intercept.bind(firstInRoute),\n      on: firstInRoute.on.bind(firstInRoute),\n      detach: firstInRoute.detach.bind(firstInRoute),\n      getTask: dataStore.getTask.bind(dataStore),\n      serialize: () => dataStore.serialize(),\n      getTable: (waitRender) =>\n        waitRender\n          ? new Promise((res) => setTimeout(() => res(tableAPIRef.current), 1))\n          : tableAPIRef.current,\n      getHistory: () => dataStore.getHistory(),\n    }),\n    [dataStore, firstInRoute],\n  );\n\n  // expose API via ref\n  useImperativeHandle(\n    ref,\n    () => ({\n      ...api,\n    }),\n    [api],\n  );\n\n  const initOnceRef = useRef(0);\n  useEffect(() => {\n    if (!initOnceRef.current) {\n      if (init) init(api);\n    } else {\n      // const prev = dataStore.getState();\n      dataStore.init({\n        tasks,\n        links: normalizedConfig.links,\n        start,\n        columns: normalizedConfig.columns,\n        end,\n        lengthUnit,\n        cellWidth: normalizedConfig.cellWidth,\n        cellHeight,\n        scaleHeight,\n        scales: normalizedConfig.scales,\n        taskTypes,\n        zoom: normalizedConfig.zoom,\n        selected,\n        activeTask,\n        baselines,\n        autoScale,\n        unscheduledTasks,\n        markers,\n        durationUnit,\n        criticalPath,\n        schedule,\n        projectStart,\n        projectEnd,\n        calendar,\n        undo,\n        _weekStart: lCalendar.weekStart,\n        splitTasks,\n        summary,\n      });\n    }\n    initOnceRef.current++;\n  }, [\n    api,\n    init,\n    tasks,\n    normalizedConfig,\n    start,\n    end,\n    lengthUnit,\n    cellHeight,\n    scaleHeight,\n    taskTypes,\n    selected,\n    activeTask,\n    baselines,\n    autoScale,\n    unscheduledTasks,\n    markers,\n    durationUnit,\n    criticalPath,\n    schedule,\n    projectStart,\n    projectEnd,\n    calendar,\n    undo,\n    lCalendar,\n    splitTasks,\n    summary,\n    dataStore,\n  ]);\n\n  if (initOnceRef.current === 0) {\n    dataStore.init({\n      tasks,\n      links: normalizedConfig.links,\n      start,\n      columns: normalizedConfig.columns,\n      end,\n      lengthUnit,\n      cellWidth: normalizedConfig.cellWidth,\n      cellHeight,\n      scaleHeight,\n      scales: normalizedConfig.scales,\n      taskTypes,\n      zoom: normalizedConfig.zoom,\n      selected,\n      activeTask,\n      baselines,\n      autoScale,\n      unscheduledTasks,\n      markers,\n      durationUnit,\n      criticalPath,\n      schedule,\n      projectStart,\n      projectEnd,\n      calendar,\n      undo,\n      _weekStart: lCalendar.weekStart,\n      splitTasks,\n      summary,\n    });\n  }\n\n  // highlightTime from calendar\n  const highlightTime = useMemo(() => {\n    if (calendar) {\n      return (day, unit) => {\n        if (unit == 'day' && !calendar.getDayHours(day)) return 'wx-weekend';\n        if (unit == 'hour' && !calendar.getDayHours(day)) return 'wx-weekend';\n        return '';\n      };\n    }\n    return highlightTimeProp;\n  }, [calendar, highlightTimeProp]);\n\n  return (\n    <context.i18n.Provider value={locale}>\n      <StoreContext.Provider value={api}>\n        <Layout\n          taskTemplate={taskTemplate}\n          readonly={readonly}\n          cellBorders={cellBorders}\n          highlightTime={highlightTime}\n          onTableAPIChange={setTableAPI}\n        />\n      </StoreContext.Provider>\n    </context.i18n.Provider>\n  );\n});\n\nexport default Gantt;\n","import { useContext, useMemo } from 'react';\nimport { Toolbar as WxToolbar } from '@svar-ui/react-toolbar';\nimport { useStoreLater } from '@svar-ui/lib-react';\nimport {\n  handleAction,\n  getToolbarButtons,\n  isHandledAction,\n} from '@svar-ui/gantt-store';\nimport { locale } from '@svar-ui/lib-dom';\nimport { en } from '@svar-ui/gantt-locales';\nimport { context } from '@svar-ui/react-core';\n\nexport default function Toolbar({ api = null, items = [] }) {\n  const i18nCtx = useContext(context.i18n);\n  const i18nLocal = useMemo(() => (i18nCtx ? i18nCtx : locale(en)), [i18nCtx]);\n  const _ = useMemo(() => i18nLocal.getGroup('gantt'), [i18nLocal]);\n\n  const _selected = useStoreLater(api, '_selected');\n  const undo = useStoreLater(api, 'undo');\n  const history = useStoreLater(api, 'history');\n  const splitTasks = useStoreLater(api, 'splitTasks');\n\n  const historyActions = ['undo', 'redo'];\n\n  const finalItems = useMemo(() => {\n    const fullButtons = getToolbarButtons({ undo: true, splitTasks: true });\n    const buttons = items.length\n      ? items\n      : getToolbarButtons({\n          undo,\n          splitTasks,\n        });\n    return buttons.map((b) => {\n      let item = { ...b, disabled: false };\n      item.handler = isHandledAction(fullButtons, item.id)\n        ? (it) => handleAction(api, it.id, null, _)\n        : item.handler;\n      if (item.text) item.text = _(item.text);\n      if (item.menuText) item.menuText = _(item.menuText);\n      return item;\n    });\n  }, [items, api, _, undo, splitTasks]);\n\n  const buttons = useMemo(() => {\n    const finalButtons = [];\n    finalItems.forEach((item) => {\n      const action = item.id;\n      if (action === 'add-task') {\n        finalButtons.push(item);\n      } else if (!historyActions.includes(action)) {\n        if (!_selected?.length || !api) return;\n        finalButtons.push({\n          ...item,\n          disabled:\n            item.isDisabled &&\n            _selected.some((task) => item.isDisabled(task, api.getState())),\n        });\n      } else if (historyActions.includes(action)) {\n        finalButtons.push({\n          ...item,\n          disabled: item.isDisabled(history),\n        });\n      }\n    });\n    // filter out consecutive separators\n    return finalButtons.filter((button, index) => {\n      if (api && button.isHidden)\n        return !_selected.some((task) => button.isHidden(task, api.getState()));\n      if (button.comp === 'separator') {\n        const nextButton = finalButtons[index + 1];\n        if (!nextButton || nextButton.comp === 'separator') return false;\n      }\n      return true;\n    });\n  }, [api, _selected, history, finalItems]);\n\n  if (!i18nCtx) {\n    return (\n      <context.i18n.Provider value={i18nLocal}>\n        <WxToolbar items={buttons} />\n      </context.i18n.Provider>\n    );\n  }\n\n  return <WxToolbar items={buttons} />;\n}\n","import {\n  useEffect,\n  useMemo,\n  useRef,\n  useCallback,\n  useContext,\n  forwardRef,\n  useImperativeHandle,\n} from 'react';\nimport { ContextMenu as WxContextMenu } from '@svar-ui/react-menu';\nimport { handleAction, getMenuOptions, isHandledAction } from '@svar-ui/gantt-store';\nimport { locale, locateID } from '@svar-ui/lib-dom';\nimport { en } from '@svar-ui/gantt-locales';\nimport { en as coreEn } from '@svar-ui/core-locales';\nimport { context } from '@svar-ui/react-core';\nimport { useStoreLater } from '@svar-ui/lib-react';\nimport './ContextMenu.css';\n\nconst ContextMenu = forwardRef(function ContextMenu(\n  {\n    options: optionsInit = [],\n    api = null,\n    resolver = null,\n    filter = null,\n    at = 'point',\n    children,\n    onClick,\n    css,\n  },\n  ref,\n) {\n  const menuRef = useRef(null);\n  const activeIdRef = useRef(null);\n\n  // i18n context\n  const i18nCtx = useContext(context.i18n);\n  const l = useMemo(() => i18nCtx || locale({ ...en, ...coreEn }), [i18nCtx]);\n  const _ = useMemo(() => l.getGroup('gantt'), [l]);\n\n  const taskTypesVal = useStoreLater(api, 'taskTypes');\n  const selectedVal = useStoreLater(api, 'selected');\n  const selectedTasksVal = useStoreLater(api, '_selected');\n  const splitTasksVal = useStoreLater(api, 'splitTasks');\n  const summaryVal = useStoreLater(api, 'summary');\n\n  const config = useMemo(\n    () => ({\n      splitTasks: splitTasksVal,\n      taskTypes: taskTypesVal,\n      summary: summaryVal,\n    }),\n    [splitTasksVal, taskTypesVal, summaryVal],\n  );\n\n  const fullOptions = useMemo(() => getMenuOptions(config), [config]);\n\n  useEffect(() => {\n    if (!api) return;\n\n    api.on('scroll-chart', () => {\n      if (menuRef.current && menuRef.current.show) menuRef.current.show();\n    });\n    api.on('drag-task', () => {\n      if (menuRef.current && menuRef.current.show) menuRef.current.show();\n    });\n  }, [api]);\n\n  function applyLocaleFn(opts) {\n    return opts.map((op) => {\n      op = { ...op };\n      if (op.text) op.text = _(op.text);\n      if (op.subtext) op.subtext = _(op.subtext);\n      if (op.data) op.data = applyLocaleFn(op.data);\n      return op;\n    });\n  }\n\n  function getOptions() {\n    const finalOptions = optionsInit.length\n      ? optionsInit\n      : getMenuOptions(config);\n\n    return applyLocaleFn(finalOptions);\n  }\n\n  const cOptions = useMemo(() => {\n    return getOptions();\n  }, [api, optionsInit, config, _]);\n\n  const selectedTasks = useMemo(\n    () => (selectedTasksVal && selectedTasksVal.length ? selectedTasksVal : []),\n    [selectedTasksVal],\n  );\n\n  const itemResolver = useCallback(\n    (id, ev) => {\n      let task = id ? api?.getTask(id) : null;\n      if (resolver) {\n        const result = resolver(id, ev);\n        task = result === true ? task : result;\n      }\n      if (task) {\n        const segmentIndex = locateID(ev.target, 'data-segment');\n        if (segmentIndex !== null)\n          activeIdRef.current = { id: task.id, segmentIndex };\n        else activeIdRef.current = task.id;\n\n        if (!Array.isArray(selectedVal) || !selectedVal.includes(task.id)) {\n          api && api.exec && api.exec('select-task', { id: task.id });\n        }\n      }\n      return task;\n    },\n    [api, resolver, selectedVal],\n  );\n\n  const menuAction = useCallback(\n    (ev) => {\n      const action = ev.action;\n      if (action) {\n        const isAction = isHandledAction(fullOptions, action.id);\n        if (isAction) handleAction(api, action.id, activeIdRef.current, _);\n        onClick && onClick(ev);\n      }\n    },\n    [api, _, onClick, fullOptions],\n  );\n\n  const filterMenu = useCallback(\n    (item, task) => {\n      // for single selection from resolver _selected are empty\n      // due to setAsyncState causing _selected to lag\n      const tasks = selectedTasks.length ? selectedTasks : task ? [task] : [];\n\n      let result = filter ? tasks.every((t) => filter(item, t)) : true;\n\n      if (result) {\n        if (item.isHidden)\n          result = !tasks.some((t) =>\n            item.isHidden(t, api.getState(), activeIdRef.current),\n          );\n        if (item.isDisabled) {\n          const disabled = tasks.some((t) =>\n            item.isDisabled(t, api.getState(), activeIdRef.current),\n          );\n          item.disabled = disabled;\n        }\n      }\n      return result;\n    },\n    [filter, selectedTasks, api],\n  );\n\n  useImperativeHandle(ref, () => ({\n    show: (ev, obj) => {\n      if (menuRef.current && menuRef.current.show) {\n        menuRef.current.show(ev, obj);\n      }\n    },\n  }));\n\n  const onContextMenu = useCallback((e) => {\n    if (menuRef.current && menuRef.current.show) {\n      menuRef.current.show(e);\n    }\n  }, []);\n\n  const content = (\n    <>\n      <WxContextMenu\n        filter={filterMenu}\n        options={cOptions}\n        dataKey={'id'}\n        resolver={itemResolver}\n        onClick={menuAction}\n        at={at}\n        ref={menuRef}\n        css={css}\n      />\n      <span onContextMenu={onContextMenu} data-menu-ignore=\"true\">\n        {typeof children === 'function' ? children() : children}\n      </span>\n    </>\n  );\n\n  if (!i18nCtx && context.i18n?.Provider) {\n    const Provider = context.i18n.Provider;\n    return <Provider value={l}>{content}</Provider>;\n  }\n\n  return content;\n});\n\nexport default ContextMenu;\n","import { useState, useEffect, useMemo, useContext } from 'react';\nimport { Field, Combo, Text } from '@svar-ui/react-core';\nimport { context } from '@svar-ui/react-core';\nimport { useStore } from '@svar-ui/lib-react';\nimport './Links.css';\n\nexport default function Links({ api, autoSave, onLinksChange }) {\n  const i18n = useContext(context.i18n);\n  const _ = i18n.getGroup('gantt');\n\n  const activeTask = useStore(api, 'activeTask');\n  const _activeTask = useStore(api, '_activeTask');\n  const links = useStore(api, '_links');\n  const schedule = useStore(api, 'schedule');\n  const unscheduledTasks = useStore(api, 'unscheduledTasks');\n\n  const [linksData, setLinksData] = useState();\n\n  function getLinksData() {\n    if (activeTask) {\n      const inLinks = links\n        .filter((a) => a.target == activeTask)\n        .map((link) => ({ link, task: api.getTask(link.source) }));\n\n      const outLinks = links\n        .filter((a) => a.source == activeTask)\n        .map((link) => ({ link, task: api.getTask(link.target) }));\n\n      return [\n        { title: _('Predecessors'), data: inLinks },\n        { title: _('Successors'), data: outLinks },\n      ];\n    }\n  }\n\n  useEffect(() => {\n    setLinksData(getLinksData());\n  }, [activeTask, links]);\n\n  const list = useMemo(\n    () => [\n      { id: 'e2s', label: _('End-to-start') },\n      { id: 's2s', label: _('Start-to-start') },\n      { id: 'e2e', label: _('End-to-end') },\n      { id: 's2e', label: _('Start-to-end') },\n    ],\n    [_],\n  );\n\n  function deleteLink(id) {\n    if (autoSave) {\n      api.exec('delete-link', { id });\n    } else {\n      setLinksData((prev) =>\n        (prev || []).map((group) => ({\n          ...group,\n          data: group.data.filter((item) => item.link.id !== id),\n        })),\n      );\n      onLinksChange &&\n        onLinksChange({\n          id,\n          action: 'delete-link',\n          data: { id },\n        });\n    }\n  }\n\n  function handleChange(id, update) {\n    if (autoSave) {\n      api.exec('update-link', {\n        id,\n        link: update,\n      });\n    } else {\n      setLinksData((prev) =>\n        (prev || []).map((group) => ({\n          ...group,\n          data: group.data.map((item) =>\n            item.link.id === id\n              ? { ...item, link: { ...item.link, ...update } }\n              : item,\n          ),\n        })),\n      );\n      onLinksChange &&\n        onLinksChange({\n          id,\n          action: 'update-link',\n          data: {\n            id,\n            link: update,\n          },\n        });\n    }\n  }\n\n  return (\n    <>\n      {(linksData || []).map((group, idx) =>\n        group.data.length ? (\n          <div className=\"wx-j93aYGQf wx-links\" key={idx}>\n            <context.fieldId.Provider value={null}>\n              <Field label={group.title} position=\"top\">\n                <table>\n                  <tbody>\n                    {group.data.map((obj) => (\n                      <tr key={obj.link.id}>\n                        <td className=\"wx-j93aYGQf wx-cell\">\n                          <div className=\"wx-j93aYGQf wx-task-name\">\n                            {obj.task.text || ''}\n                          </div>\n                        </td>\n                        {schedule?.auto && obj.link.type === 'e2s' ? (\n                          <td className=\"wx-j93aYGQf wx-cell wx-link-lag\">\n                            <Text\n                              type=\"number\"\n                              placeholder={_('Lag')}\n                              value={obj.link.lag}\n                              disabled={\n                                unscheduledTasks && _activeTask?.unscheduled\n                              }\n                              onChange={(ev) => {\n                                if (!ev.input)\n                                  handleChange(obj.link.id, { lag: ev.value });\n                              }}\n                            />\n                          </td>\n                        ) : null}\n                        <td className=\"wx-j93aYGQf wx-cell\">\n                          <div className=\"wx-j93aYGQf wx-wrapper\">\n                            <Combo\n                              value={obj.link.type}\n                              placeholder={_('Select link type')}\n                              options={list}\n                              onChange={(ev) =>\n                                handleChange(obj.link.id, { type: ev.value })\n                              }\n                            >\n                              {({ option }) => option.label}\n                            </Combo>\n                          </div>\n                        </td>\n\n                        <td className=\"wx-j93aYGQf wx-cell\">\n                          <i\n                            className=\"wx-j93aYGQf wxi-delete wx-delete-icon\"\n                            onClick={() => deleteLink(obj.link.id)}\n                            role=\"button\"\n                          ></i>\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </Field>\n            </context.fieldId.Provider>\n          </div>\n        ) : null,\n      )}\n    </>\n  );\n}\n","import { DatePicker, TimePicker } from '@svar-ui/react-core';\nimport './DateTimePicker.css';\n\nexport default function DateTimePicker(props) {\n  const { value, time, format, onchange, onChange, ...restProps } = props;\n  const onChangeHandler = onChange ?? onchange;\n\n  function handleDateChange(ev) {\n    const current = new Date(ev.value);\n    current.setHours(value.getHours());\n    current.setMinutes(value.getMinutes());\n\n    onChangeHandler && onChangeHandler({ value: current });\n  }\n\n  return (\n    <div className=\"wx-hFsbgDln date-time-controll\">\n      <DatePicker\n        {...restProps}\n        value={value}\n        onChange={handleDateChange}\n        format={format}\n        buttons={['today']}\n        clear={false}\n      />\n      {time ? (\n        <TimePicker value={value} onChange={onChangeHandler} format={format} />\n      ) : null}\n    </div>\n  );\n}\n","import { useState, useEffect, useMemo, useCallback, useContext } from 'react';\nimport { Editor as WxEditor, registerEditorItem } from '@svar-ui/react-editor';\nimport { Locale, RichSelect, Slider, Counter, TwoState } from '@svar-ui/react-core';\nimport { getEditorItems, prepareEditTask } from '@svar-ui/gantt-store';\nimport { dateToString, locale } from '@svar-ui/lib-dom';\nimport { en } from '@svar-ui/gantt-locales';\nimport { en as coreEn } from '@svar-ui/core-locales';\nimport { context } from '@svar-ui/react-core';\n\nimport Links from './editor/Links.jsx';\nimport DateTimePicker from './editor/DateTimePicker.jsx';\nimport { useStore } from '@svar-ui/lib-react';\n\n// helpers\nimport { modeObserver } from '../helpers/modeResizeObserver';\n\nimport './Editor.css';\n\nregisterEditorItem('select', RichSelect);\nregisterEditorItem('date', DateTimePicker);\nregisterEditorItem('twostate', TwoState);\nregisterEditorItem('slider', Slider);\nregisterEditorItem('counter', Counter);\nregisterEditorItem('links', Links);\n\nfunction Editor({\n  api,\n  items = [],\n  css = '',\n  layout = 'default',\n  readonly = false,\n  placement = 'sidebar',\n  bottomBar = true,\n  topBar = true,\n  autoSave = true,\n  focus = false,\n  hotkeys = {},\n}) {\n  const lFromCtx = useContext(context.i18n);\n  const l = useMemo(() => lFromCtx || locale({ ...en, ...coreEn }), [lFromCtx]);\n  const _ = useMemo(() => l.getGroup('gantt'), [l]);\n  const i18nData = l.getRaw();\n  const dateFormat = useMemo(() => {\n    const f = i18nData.gantt?.dateFormat || i18nData.formats?.dateFormat;\n    return dateToString(f, i18nData.calendar);\n  }, [i18nData]);\n\n  const normalizedTopBar = useMemo(() => {\n    if (topBar === true && !readonly) {\n      const buttons = [\n        { comp: 'icon', icon: 'wxi-close', id: 'close' },\n        { comp: 'spacer' },\n        {\n          comp: 'button',\n          type: 'danger',\n          text: _('Delete'),\n          id: 'delete',\n        },\n      ];\n      if (autoSave) return { items: buttons };\n      return {\n        items: [\n          ...buttons,\n          {\n            comp: 'button',\n            type: 'primary',\n            text: _('Save'),\n            id: 'save',\n          },\n        ],\n      };\n    }\n    return topBar;\n  }, [topBar, readonly, autoSave, _]);\n\n  // resize\n  const [compactMode, setCompactMode] = useState(false);\n  const styleCss = useMemo(\n    () => (compactMode ? 'wx-full-screen' : ''),\n    [compactMode],\n  );\n\n  const handleResize = useCallback((mode) => {\n    setCompactMode(mode);\n  }, []);\n\n  useEffect(() => {\n    const ro = modeObserver(handleResize);\n    ro.observe();\n    return () => {\n      ro.disconnect();\n    };\n  }, [handleResize]);\n\n  const activeTask = useStore(api, '_activeTask');\n  const taskId = useStore(api, 'activeTask');\n  const unscheduledTasks = useStore(api, 'unscheduledTasks');\n  const summary = useStore(api, 'summary');\n  const links = useStore(api, 'links');\n  const splitTasks = useStore(api, 'splitTasks');\n  const segmentIndex = useMemo(\n    () => splitTasks && taskId?.segmentIndex,\n    [splitTasks, taskId],\n  );\n  const isSegment = useMemo(\n    () => segmentIndex || segmentIndex === 0,\n    [segmentIndex],\n  );\n  const taskTypes = useStore(api, 'taskTypes');\n  const baseItems = useMemo(\n    () => getEditorItems({ unscheduledTasks, summary, taskTypes }),\n    [unscheduledTasks, summary, taskTypes],\n  );\n  const undo = useStore(api, 'undo');\n\n  const [linksActionsMap, setLinksActionsMap] = useState({});\n  const [inProgress, setInProgress] = useState(null);\n  const [editorValues, setEditorValues] = useState();\n  const [editorErrors, setEditorErrors] = useState(null);\n\n  const task = useMemo(() => {\n    if (!activeTask) return null;\n    let data;\n    if (isSegment && activeTask.segments)\n      data = { ...activeTask.segments[segmentIndex] };\n    else data = { ...activeTask };\n\n    if (readonly) {\n      // preserve parent to differentiate between segment and task\n      let values = { parent: data.parent };\n      baseItems.forEach(({ key, comp }) => {\n        if (comp !== 'links') {\n          const value = data[key];\n          if (comp === 'date' && value instanceof Date) {\n            values[key] = dateFormat(value);\n          } else if (comp === 'slider' && key === 'progress') {\n            values[key] = `${value}%`;\n          } else {\n            values[key] = value;\n          }\n        }\n      });\n      return values;\n    }\n    return data || null;\n  }, [activeTask, isSegment, segmentIndex, readonly, baseItems, dateFormat]);\n\n  useEffect(() => {\n    setEditorValues(task);\n  }, [task]);\n\n  useEffect(() => {\n    setLinksActionsMap({});\n    setEditorErrors(null);\n    setInProgress(null);\n  }, [taskId]);\n\n  function prepareEditorItems(localItems, taskData) {\n    return localItems.map((a) => {\n      const item = { ...a };\n      if (a.config) item.config = { ...item.config };\n      if (item.comp === 'links' && api) {\n        item.api = api;\n        item.autoSave = autoSave;\n        item.onLinksChange = handleLinksChange;\n      }\n      if (item.comp === 'select' && item.key === 'type') {\n        const options = item.options ?? [];\n        item.options = options.map((t) => ({\n          ...t,\n          label: _(t.label),\n        }));\n      }\n\n      if (item.comp === 'slider' && item.key === 'progress') {\n        item.labelTemplate = (value) => `${_(item.label)} ${value}%`;\n      }\n\n      if (item.label) item.label = _(item.label);\n      if (item.config?.placeholder)\n        item.config.placeholder = _(item.config.placeholder);\n\n      if (taskData) {\n        if (item.isDisabled && item.isDisabled(taskData, api.getState())) {\n          item.disabled = true;\n        } else delete item.disabled;\n      }\n      return item;\n    });\n  }\n\n  const editorItems = useMemo(() => {\n    let eItems = items.length ? items : baseItems;\n    eItems = prepareEditorItems(eItems, editorValues);\n    if (!editorValues) return eItems;\n    return eItems.filter(\n      (item) => !item.isHidden || !item.isHidden(editorValues, api.getState()),\n    );\n  }, [items, baseItems, editorValues, _, api, autoSave]);\n\n  const editorKeys = useMemo(\n    () => editorItems.map((i) => i.key),\n    [editorItems],\n  );\n\n  function handleLinksChange({ id, action, data }) {\n    setLinksActionsMap((prev) => ({\n      ...prev,\n      [id]: { action, data },\n    }));\n  }\n\n  const saveLinks = useCallback(() => {\n    for (let link in linksActionsMap) {\n      if (links.byId(link)) {\n        const { action, data } = linksActionsMap[link];\n        api.exec(action, data);\n      }\n    }\n  }, [api, linksActionsMap, links]);\n\n  const deleteTask = useCallback(() => {\n    const id = taskId?.id || taskId;\n    if (isSegment) {\n      if (activeTask?.segments) {\n        const segments = activeTask.segments.filter(\n          (s, index) => index !== segmentIndex,\n        );\n        api.exec('update-task', {\n          id,\n          task: { segments },\n        });\n      }\n    } else {\n      api.exec('delete-task', { id });\n    }\n  }, [api, taskId, isSegment, activeTask, segmentIndex]);\n\n  const hide = useCallback(() => {\n    api.exec('show-editor', { id: null });\n  }, [api]);\n\n  const handleAction = useCallback(\n    (ev) => {\n      const { item, changes } = ev;\n      if (item.id === 'delete') {\n        deleteTask();\n      }\n      if (item.id === 'save') {\n        if (!changes.length) saveLinks();\n        else hide();\n      }\n      if (item.comp) hide();\n    },\n    [api, taskId, autoSave, saveLinks, deleteTask, hide],\n  );\n\n  const normalizeTask = useCallback(\n    (t, key, input) => {\n      if (unscheduledTasks && t.type === 'summary') t.unscheduled = false;\n\n      prepareEditTask(t, api.getState(), key);\n      if (!input) setInProgress(false);\n      return t;\n    },\n    [unscheduledTasks, api],\n  );\n\n  const save = useCallback(\n    (values) => {\n      values = {\n        ...values,\n        unscheduled:\n          unscheduledTasks && values.unscheduled && values.type !== 'summary',\n      };\n      delete values.links;\n      delete values.data;\n\n      if (\n        editorKeys.indexOf('duration') === -1 ||\n        (values.segments && !values.duration)\n      )\n        delete values.duration;\n\n      const data = {\n        id: taskId?.id || taskId,\n        task: values,\n        ...(isSegment && { segmentIndex }),\n      };\n      if (autoSave && inProgress) data.inProgress = inProgress;\n\n      api.exec('update-task', data);\n\n      if (!autoSave) saveLinks();\n    },\n    [\n      api,\n      taskId,\n      unscheduledTasks,\n      autoSave,\n      saveLinks,\n      editorKeys,\n      isSegment,\n      segmentIndex,\n      inProgress,\n    ],\n  );\n\n  const handleChange = useCallback(\n    (ev) => {\n      let { update, key, input } = ev;\n\n      if (input) setInProgress(true);\n\n      ev.update = normalizeTask({ ...update }, key, input);\n\n      if (!autoSave) setEditorValues(ev.update);\n      else if (!editorErrors && !input) {\n        const item = editorItems.find((i) => i.key === key);\n        const v = update[key];\n        const isValid = !item.validation || item.validation(v);\n        if (isValid && (!item.required || v)) save(ev.update);\n      }\n    },\n    [autoSave, normalizeTask, editorErrors, editorItems, save],\n  );\n\n  const handleSave = useCallback(\n    (ev) => {\n      if (!autoSave) save(ev.values);\n    },\n    [autoSave, save],\n  );\n\n  const handleValidation = useCallback((check) => {\n    // get all errors after onchange action\n    setEditorErrors(check.errors);\n  }, []);\n\n  const defaultHotkeys = useMemo(\n    () =>\n      undo\n        ? {\n            'ctrl+z': (ev) => {\n              ev.preventDefault();\n              api.exec('undo');\n            },\n            'ctrl+y': (ev) => {\n              ev.preventDefault();\n              api.exec('redo');\n            },\n          }\n        : {},\n    [undo, api],\n  );\n\n  return task ? (\n    <Locale>\n      <WxEditor\n        css={`wx-XkvqDXuw wx-gantt-editor ${styleCss} ${css}`}\n        items={editorItems}\n        values={task}\n        topBar={normalizedTopBar}\n        bottomBar={bottomBar}\n        placement={placement}\n        layout={layout}\n        readonly={readonly}\n        autoSave={autoSave}\n        focus={focus}\n        onAction={handleAction}\n        onSave={handleSave}\n        onValidation={handleValidation}\n        onChange={handleChange}\n        hotkeys={hotkeys && { ...defaultHotkeys, ...hotkeys }}\n      />\n    </Locale>\n  ) : null;\n}\n\nexport default Editor;\n","import { useState, useEffect } from 'react';\nimport { HeaderMenu as HeaderMenuInner } from '@svar-ui/react-grid';\n\nconst HeaderMenu = ({ children, columns = null, api }) => {\n  const [tableAPI, setTableAPI] = useState(null);\n  useEffect(() => {\n    if (!api) return;\n    api.getTable(true).then(setTableAPI);\n  }, [api]);\n\n  return (\n    <HeaderMenuInner api={tableAPI} columns={columns}>\n      {children}\n    </HeaderMenuInner>\n  );\n};\n\nexport default HeaderMenu;\n","import { useState, useEffect, useRef } from 'react';\nimport './Tooltip.css';\n\nfunction Tooltip(props) {\n  const { api, content: Content, children } = props;\n\n  const areaRef = useRef(null);\n  const tooltipNodeRef = useRef(null);\n\n  const [areaCoords, setAreaCoords] = useState({});\n  const [tooltipData, setTooltipData] = useState(null);\n  const [pos, setPos] = useState({});\n\n  function findAttribute(node) {\n    while (node) {\n      if (node.getAttribute) {\n        const id = node.getAttribute('data-tooltip-id');\n        const at = node.getAttribute('data-tooltip-at');\n        const tooltip = node.getAttribute('data-tooltip');\n        if (id || tooltip) return { id, tooltip, target: node, at };\n      }\n      node = node.parentNode;\n    }\n\n    return { id: null, tooltip: null, target: null, at: null };\n  }\n\n  useEffect(() => {\n    const tooltipNode = tooltipNodeRef.current;\n    if (tooltipNode && pos && (pos.text || Content)) {\n      const tooltipCoords = tooltipNode.getBoundingClientRect();\n\n      let updated = false;\n      let newLeft = pos.left;\n      let newTop = pos.top;\n\n      if (tooltipCoords.right >= areaCoords.right) {\n        newLeft = areaCoords.width - tooltipCoords.width - 5;\n        updated = true;\n      }\n      if (tooltipCoords.bottom >= areaCoords.bottom) {\n        newTop = pos.top - (tooltipCoords.bottom - areaCoords.bottom + 2);\n        updated = true;\n      }\n\n      if (updated) {\n        setPos((prev) => {\n          if (!prev) return prev;\n          return { ...prev, left: newLeft, top: newTop };\n        });\n      }\n    }\n  }, [pos, areaCoords, Content]);\n\n  const timerRef = useRef(null);\n  const TIMEOUT = 300;\n  const debounce = (code) => {\n    clearTimeout(timerRef.current);\n    timerRef.current = setTimeout(() => {\n      code();\n    }, TIMEOUT);\n  };\n\n  function move(e) {\n    let { id, tooltip, target, at } = findAttribute(e.target);\n    setPos(null);\n    setTooltipData(null);\n\n    if (!tooltip) {\n      if (!id) {\n        clearTimeout(timerRef.current);\n        return;\n      } else {\n        tooltip = getTaskText(id);\n      }\n    }\n\n    const clientX = e.clientX;\n\n    debounce(() => {\n      if (id) {\n        setTooltipData(getTaskObj(prepareId(id)));\n      }\n\n      const targetCoords = target.getBoundingClientRect();\n      const areaEl = areaRef.current;\n      const areaRect = areaEl\n        ? areaEl.getBoundingClientRect()\n        : { top: 0, left: 0, right: 0, bottom: 0, width: 0, height: 0 };\n\n      let top, left;\n      if (at === 'left') {\n        top = targetCoords.top + 5 - areaRect.top;\n        left = targetCoords.right + 5 - areaRect.left;\n      } else {\n        top = targetCoords.top + targetCoords.height - areaRect.top;\n        left = clientX - areaRect.left;\n      }\n\n      setAreaCoords(areaRect);\n      setPos({ top, left, text: tooltip });\n    });\n  }\n\n  function getTaskObj(id) {\n    return api?.getTask(prepareId(id)) || null;\n  }\n\n  function getTaskText(id) {\n    return getTaskObj(id)?.text || '';\n  }\n\n  function prepareId(id) {\n    const numId = parseInt(id);\n    return isNaN(numId) ? id : numId;\n  }\n\n  return (\n    <div\n      className=\"wx-KG0Lwsqo wx-tooltip-area\"\n      ref={areaRef}\n      onMouseMove={move}\n    >\n      {pos && (pos.text || Content) ? (\n        <div\n          className=\"wx-KG0Lwsqo wx-gantt-tooltip\"\n          ref={tooltipNodeRef}\n          style={{ top: `${pos.top}px`, left: `${pos.left}px` }}\n        >\n          {Content ? (\n            <Content data={tooltipData} />\n          ) : pos.text ? (\n            <div className=\"wx-KG0Lwsqo wx-gantt-tooltip-text\">{pos.text}</div>\n          ) : null}\n        </div>\n      ) : null}\n\n      {children}\n    </div>\n  );\n}\n\nexport default Tooltip;\n","import { Material as CoreMaterial } from '@svar-ui/react-core';\nimport './Material.css';\n\nfunction Material({ fonts = true, children }) {\n  if (children) {\n    return <CoreMaterial fonts={fonts}>{children()}</CoreMaterial>;\n  } else {\n    return <CoreMaterial fonts={fonts} />;\n  }\n}\n\nexport default Material;\n","import { Willow as CoreWillow } from '@svar-ui/react-core';\nimport './Willow.css';\n\nfunction Willow({ fonts = true, children }) {\n  return children ? (\n    <CoreWillow fonts={fonts}>{children}</CoreWillow>\n  ) : (\n    <CoreWillow fonts={fonts} />\n  );\n}\n\nexport default Willow;\n","import { WillowDark as WillowDarkCore } from '@svar-ui/react-core';\nimport './WillowDark.css';\n\nexport default function WillowDark({ fonts = true, children }) {\n  if (children) {\n    return <WillowDarkCore fonts={fonts}>{children}</WillowDarkCore>;\n  } else {\n    return <WillowDarkCore fonts={fonts} />;\n  }\n}\n","import Gantt from './components/Gantt.jsx';\nimport Toolbar from './components/Toolbar.jsx';\nimport ContextMenu from './components/ContextMenu.jsx';\nimport Editor from './components/Editor.jsx';\nimport HeaderMenu from './components/grid/HeaderMenu.jsx';\n\nimport Tooltip from './widgets/Tooltip.jsx';\n\nimport Material from './themes/Material.jsx';\nimport Willow from './themes/Willow.jsx';\nimport WillowDark from './themes/WillowDark.jsx';\n\nimport pkg from '../package.json' with { type: 'json' };\n\nexport {\n  defaultEditorItems,\n  defaultToolbarButtons,\n  defaultMenuOptions,\n  defaultColumns,\n  defaultTaskTypes,\n  getEditorItems,\n  getToolbarButtons,\n  getMenuOptions,\n  registerScaleUnit,\n} from '@svar-ui/gantt-store';\n\nexport { registerEditorItem } from '@svar-ui/react-editor';\n\nexport const version = pkg.version;\n\nexport {\n  Gantt,\n  ContextMenu,\n  HeaderMenu,\n  Toolbar,\n  Tooltip,\n  Editor,\n  Material,\n  Willow,\n  WillowDark,\n};\n"],"names":["store","createContext","getID","node","id","numId","getOffset","relative","ev","box","base","checkSource","SHIFT","reorder","config","source","clone","sid","x","y","detail","touched","touchTimer","down","event","handleTouchstart","locate","handleTouchmove","handleContext","handleTouchend","handleMousedown","handleMousemove","handleMouseup","end","full","move","dx","dy","top","task","up","targetNode","target","tid","line","after","before","TextCell","row","column","getStyle","col","CellComponent","jsxs","jsx","ActionCell","cell","action","useMemo","Grid","props","readonly","compactMode","width","display","columnWidthProp","onTableAPIChange","columnWidth","setColumnWidthProp","useWritableProp","tableAPI","setTableAPI","useState","i18n","useContext","context","_","api","storeContext","scrollTopVal","useStore","cellHeightVal","scrollTask","selectedVal","areaVal","rTasksVal","scalesVal","columnsVal","sortVal","calendarVal","durationUnitVal","splitTasksVal","dragTask","setDragTask","tasks","execAction","useCallback","a","onClick","e","locateID","tableRef","useRef","tableContainerRef","gridWidth","setGridWidth","updateFlex","setUpdateFlex","useEffect","update","ro","lastDetailRef","reorderTasks","inProgress","mode","scrollDelta","headerHeight","scrollX","tableStyle","style","allTasks","t","cols","header","text","ti","c","ai","actionCol","basis","sortMarks","marks","key","order","index","checkFlex","hasFlexCol","fitColumns","filteredColumns","containerWidth","baseColumnWidth","forceReset","actualWidth","acc","k","setColumnWidth","resized","newColumnWidth","adjustColumns","onDblClick","locateAttr","sel","o","setScrollOffset","body","tableEl","bodyEl","focusCell","startReorder","endReorder","moveReorder","handleHotkey","isInput","handlersStateRef","setHandlersState","init","tapi","add","keySort","s","value","v","prepareEditTask","WxGrid","CellGrid","borders","cellWidth","cellHeight","nodeRef","color","setColor","border","grid","Links","onSelectLink","selectedLink","links","criticalPath","selectedLineRef","onClickOutside","css","handler","link","className","BarSegments","type","segmentStyle","i","getSegProgress","segmentIndex","progress","segments","duration","result","seg","Bars","TaskTemplate","rTasksValue","rTasksCounter","useStoreWithCounter","rLinksValue","rLinksCounter","areaValue","scalesValue","taskTypesValue","baselinesValue","selectedValue","scrollTaskStore","tree","schedule","splitTasks","summary","start","lengthUnitWidth","ignoreNextClickRef","linkFrom","setLinkFrom","taskMove","setTaskMove","progressFromRef","selectedLinkId","setSelectedLinkId","setTouched","touchTimerRef","totalWidth","setTotalWidth","containerRef","hasFocus","el","focused","entries","startDrag","endDrag","getMoveMode","segmentNode","left","p","delta","point","clientX","newTaskMove","segNode","extendDragOptions","mousedown","touchstart","marker","l","w","segment","diff","minWidth","isSegmentMoveAllowed","nextTaskMove","taskNode","barNode","mousemove","touchmove","mouseup","touchend","types","getLinkType","fromStart","toStart","alreadyLinked","removeLinkMarker","taskStyle","baselineStyle","contextmenu","taskTypeIds","taskTypeCss","forward","isTaskCritical","taskId","isLinkMarkerVisible","summaryIds","linkFromSummaryIds","barClass","leftLinkClass","rightLinkClass","Fragment","Button","TimeScale","highlightTime","scales","rowIdx","cellIdx","extraClass","renderMetrics","useRenderTime","label","startTime","renderCount","rafRef","enabled","metric","Chart","fullWidth","fullHeight","taskTemplate","cellBorders","selected","selectedCounter","rScrollTop","markers","rScrollTask","zoom","chartHeight","setChartHeight","chartRef","extraRows","selectStyle","obj","chartGridHeight","onScroll","setScroll","scroll","pos","dataRequest","num","from","showTask","clientWidth","onWheel","dir","offset","getHoliday","holidays","cleanupRef","hotkeys","TimeScales","holiday","Resizer","position","size","onMove","onDisplayChange","leftThreshold","rightThreshold","setValue","setDisplay","getBox","val","name","active","setActive","initialPosition","setInitialPosition","startRef","posRef","timeoutRef","displayRef","getEventPos","newPos","nextDisplay","cursor","resetToInitial","handleExpand","direction","newDisplay","handleExpandLeft","handleExpandRight","b","rootClassName","COMPACT_WIDTH","modeObserver","callback","observer","observe","disconnect","Layout","rTasks","rScales","rCellHeight","rColumns","undo","setCompactMode","ganttWidth","setGanttWidth","ganttHeight","setGanttHeight","innerWidth","setInnerWidth","lastDisplay","handleResize","prev","gridColumnWidth","scrollSize","scrollHeight","expandScale","ganttDivRef","pseudoRowsRef","latest","scrollToTask","sc","ch","ss","gh","tt","height","scrollY","now","ganttDiv","pseudoRows","flushSync","layoutRef","getUnitFormats","normalizeFormatter","calendarLocale","dateToString","prepareScales","format","scale","prepareFormats","formats","unit","prepareColumns","columns","prepareZoom","level","camelize","part","defaultScales","Gantt","forwardRef","taskTypes","defaultTaskTypes","activeTask","defaultColumns","lengthUnit","durationUnit","scaleHeight","baselines","highlightTimeProp","autoScale","unscheduledTasks","projectStart","projectEnd","calendar","_export","restProps","ref","restPropsRef","dataStore","DataStore","writable","words","coreEn","en","i18nCtx","locale","lCalendar","normalizedConfig","normalizeLinks","normalizeZoom","parsedTasksRef","parseTaskDates","firstInRoute","lastInRouteRef","EventBusRouter","tableAPIRef","waitRender","res","useImperativeHandle","initOnceRef","day","StoreContext","Toolbar","items","i18nLocal","_selected","useStoreLater","history","historyActions","finalItems","fullButtons","getToolbarButtons","item","isHandledAction","it","handleAction","buttons","finalButtons","button","nextButton","WxToolbar","ContextMenu","optionsInit","resolver","filter","at","children","menuRef","activeIdRef","taskTypesVal","selectedTasksVal","summaryVal","fullOptions","getMenuOptions","applyLocaleFn","opts","op","getOptions","finalOptions","cOptions","selectedTasks","itemResolver","menuAction","filterMenu","disabled","onContextMenu","content","WxContextMenu","Provider","autoSave","onLinksChange","_activeTask","linksData","setLinksData","getLinksData","inLinks","outLinks","list","deleteLink","group","handleChange","idx","Field","Text","Combo","option","DateTimePicker","time","onchange","onChange","onChangeHandler","handleDateChange","current","DatePicker","TimePicker","registerEditorItem","RichSelect","TwoState","Slider","Counter","Editor","layout","placement","bottomBar","topBar","focus","lFromCtx","i18nData","dateFormat","f","normalizedTopBar","styleCss","isSegment","baseItems","getEditorItems","linksActionsMap","setLinksActionsMap","setInProgress","editorValues","setEditorValues","editorErrors","setEditorErrors","data","values","comp","prepareEditorItems","localItems","taskData","handleLinksChange","options","editorItems","eItems","editorKeys","saveLinks","deleteTask","hide","changes","normalizeTask","input","save","handleSave","handleValidation","check","defaultHotkeys","Locale","WxEditor","HeaderMenu","HeaderMenuInner","Tooltip","Content","areaRef","tooltipNodeRef","areaCoords","setAreaCoords","tooltipData","setTooltipData","setPos","findAttribute","tooltip","tooltipNode","tooltipCoords","updated","newLeft","newTop","timerRef","TIMEOUT","debounce","code","getTaskText","getTaskObj","prepareId","targetCoords","areaEl","areaRect","Material","fonts","CoreMaterial","Willow","CoreWillow","WillowDark","WillowDarkCore","version","pkg"],"mappings":"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"}}]
}