{
  "metadata": {
    "project_name": "Refactor: [COMPONENT/AREA]",
    "approved_by": "[YOUR NAME]",
    "approved_at": "[DATE]"
  },
  "work_areas": [
    {
      "id": "1.0",
      "title": "Analysis",
      "description": "Understand what needs refactoring and why"
    },
    {
      "id": "2.0",
      "title": "Safety Net",
      "description": "Ensure we can refactor without breaking things"
    },
    {
      "id": "3.0",
      "title": "Refactoring",
      "description": "Perform the refactoring incrementally"
    },
    {
      "id": "4.0",
      "title": "Validation",
      "description": "Verify refactoring improved things without regressions"
    }
  ],
  "packets": [
    {
      "id": "REF-001",
      "wbs_ref": "1.1",
      "area_id": "1.0",
      "title": "Document current state and pain points",
      "scope": "Analyze existing code. Document why it needs refactoring: complexity, duplication, performance, maintainability. Output: analysis.md"
    },
    {
      "id": "REF-002",
      "wbs_ref": "1.2",
      "area_id": "1.0",
      "title": "Define target design",
      "scope": "Describe what 'good' looks like. Target architecture, patterns to apply, expected improvements. Output: target-design.md"
    },
    {
      "id": "REF-003",
      "wbs_ref": "1.3",
      "area_id": "1.0",
      "title": "Identify refactoring sequence",
      "scope": "Plan the order of changes. Identify safe stopping points. Each step should leave code working. Output: refactor-plan.md"
    },
    {
      "id": "REF-004",
      "wbs_ref": "2.1",
      "area_id": "2.0",
      "title": "Audit existing test coverage",
      "scope": "Check current tests. Identify gaps in coverage. Note which areas are safe to refactor vs. need tests first."
    },
    {
      "id": "REF-005",
      "wbs_ref": "2.2",
      "area_id": "2.0",
      "title": "Add characterization tests",
      "scope": "Add tests that capture current behavior (even if imperfect). These protect against unintended changes during refactoring."
    },
    {
      "id": "REF-006",
      "wbs_ref": "2.3",
      "area_id": "2.0",
      "title": "Set up continuous testing",
      "scope": "Ensure tests run on every change. Set up pre-commit hooks or CI to catch regressions immediately."
    },
    {
      "id": "REF-007",
      "wbs_ref": "3.1",
      "area_id": "3.0",
      "title": "Refactor step 1",
      "scope": "Execute first refactoring step per plan. Run tests after. Commit if green. Each commit should be independently deployable."
    },
    {
      "id": "REF-008",
      "wbs_ref": "3.2",
      "area_id": "3.0",
      "title": "Refactor step 2",
      "scope": "Execute second refactoring step. Run tests. Commit if green. Continue pattern of small, verified changes."
    },
    {
      "id": "REF-009",
      "wbs_ref": "3.3",
      "area_id": "3.0",
      "title": "Refactor step 3",
      "scope": "Execute third refactoring step. Run tests. Commit if green. Add more steps if needed."
    },
    {
      "id": "REF-010",
      "wbs_ref": "4.1",
      "area_id": "4.0",
      "title": "Final test pass",
      "scope": "Run full test suite. Manual testing of affected areas. Verify no regressions introduced."
    },
    {
      "id": "REF-011",
      "wbs_ref": "4.2",
      "area_id": "4.0",
      "title": "Measure improvements",
      "scope": "Compare before/after metrics. Code complexity, test coverage, performance. Document improvements achieved."
    },
    {
      "id": "REF-012",
      "wbs_ref": "4.3",
      "area_id": "4.0",
      "title": "Update documentation",
      "scope": "Update any docs affected by refactoring. Add architecture decision records if significant. Clean up any temporary code."
    }
  ],
  "dependencies": {
    "REF-002": ["REF-001"],
    "REF-003": ["REF-002"],
    "REF-004": ["REF-003"],
    "REF-005": ["REF-004"],
    "REF-006": ["REF-005"],
    "REF-007": ["REF-006"],
    "REF-008": ["REF-007"],
    "REF-009": ["REF-008"],
    "REF-010": ["REF-009"],
    "REF-011": ["REF-010"],
    "REF-012": ["REF-011"]
  }
}
