{
  "metadata": {
    "plan_id": "PRD-V5-PLAN-2026-02-25",
    "title": "Substrate Phase 5 Delivery Packet Plan",
    "authority": "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md",
    "generated_at": "2026-02-25",
    "notes": "Derived from Phase 5 master PRD; intended as governed execution packet baseline."
  },
  "packets": [
    {
      "packet_id": "P5-00-CONTRACT-BASELINE",
      "wbs_refs": [
        "0.1"
      ],
      "title": "Publish authoritative contracts for API, events, policy, and determinism",
      "purpose": "Convert Phase 5 PRD requirements into explicit implementation contracts.",
      "status": "PENDING",
      "owner": "codex",
      "priority": "CRITICAL",
      "preconditions": [],
      "required_inputs": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md"
      ],
      "required_actions": [
        "Convert Phase 5 PRD requirements into explicit implementation contracts. Output: versioned API schema, event schema, policy schema, and determinism/concurrency rules."
      ],
      "required_outputs": [
        "Evidence artifacts for P5-00-CONTRACT-BASELINE"
      ],
      "validation_checks": [
        "Run packet-scoped tests/commands for P5-00-CONTRACT-BASELINE",
        "Record evidence paths and validation output for P5-00-CONTRACT-BASELINE"
      ],
      "exit_criteria": [
        "Packet P5-00-CONTRACT-BASELINE meets scope, validation, and evidence requirements"
      ],
      "halt_conditions": [
        "Dependency or contract prerequisites unresolved",
        "Deterministic governance invariants violated"
      ],
      "references": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md",
        "docs/codex-migration/prd-v5.0-wbs-draft.json"
      ]
    },
    {
      "packet_id": "P5-01-GOVERNANCE-POLICY-CORE",
      "wbs_refs": [
        "1.1"
      ],
      "title": "Implement shared governance and policy decision core",
      "purpose": "Route CLI/API/UI/agent actions through one deterministic transition and policy pipeline.",
      "status": "PENDING",
      "owner": "codex",
      "priority": "CRITICAL",
      "preconditions": [
        "P5-00-CONTRACT-BASELINE complete"
      ],
      "required_inputs": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md"
      ],
      "required_actions": [
        "Route CLI/API/UI/agent actions through one deterministic transition and policy pipeline. Output: shared decision envelope and parity tests."
      ],
      "required_outputs": [
        "Evidence artifacts for P5-01-GOVERNANCE-POLICY-CORE"
      ],
      "validation_checks": [
        "Run packet-scoped tests/commands for P5-01-GOVERNANCE-POLICY-CORE",
        "Record evidence paths and validation output for P5-01-GOVERNANCE-POLICY-CORE"
      ],
      "exit_criteria": [
        "Packet P5-01-GOVERNANCE-POLICY-CORE meets scope, validation, and evidence requirements"
      ],
      "halt_conditions": [
        "Dependency or contract prerequisites unresolved",
        "Deterministic governance invariants violated"
      ],
      "references": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md",
        "docs/codex-migration/prd-v5.0-wbs-draft.json"
      ]
    },
    {
      "packet_id": "P5-02-AGENT-LLM-PROMPT-RUNTIME",
      "wbs_refs": [
        "1.2"
      ],
      "title": "Implement agent runtime, model adapter layer, and prompt governance",
      "purpose": "Deliver governed execution flow with model abstraction and versioned prompts.",
      "status": "PENDING",
      "owner": "codex",
      "priority": "MEDIUM",
      "preconditions": [
        "P5-01-GOVERNANCE-POLICY-CORE complete"
      ],
      "required_inputs": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md"
      ],
      "required_actions": [
        "Deliver governed execution flow with model abstraction and versioned prompts. Output: runtime pipeline, adapter interface, prompt registry and approval workflow."
      ],
      "required_outputs": [
        "Evidence artifacts for P5-02-AGENT-LLM-PROMPT-RUNTIME"
      ],
      "validation_checks": [
        "Run packet-scoped tests/commands for P5-02-AGENT-LLM-PROMPT-RUNTIME",
        "Record evidence paths and validation output for P5-02-AGENT-LLM-PROMPT-RUNTIME"
      ],
      "exit_criteria": [
        "Packet P5-02-AGENT-LLM-PROMPT-RUNTIME meets scope, validation, and evidence requirements"
      ],
      "halt_conditions": [
        "Dependency or contract prerequisites unresolved",
        "Deterministic governance invariants violated"
      ],
      "references": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md",
        "docs/codex-migration/prd-v5.0-wbs-draft.json"
      ]
    },
    {
      "packet_id": "P5-03-BUDGET-RAG-STRUCTURED-OUTPUT",
      "wbs_refs": [
        "1.3"
      ],
      "title": "Implement budget enforcement, scoped RAG, and structured output validation",
      "purpose": "Enforce token budgets pre/post execution, scoped retrieval limits, and schema-validated outputs.",
      "status": "PENDING",
      "owner": "codex",
      "priority": "CRITICAL",
      "preconditions": [
        "P5-02-AGENT-LLM-PROMPT-RUNTIME complete"
      ],
      "required_inputs": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md"
      ],
      "required_actions": [
        "Enforce token budgets pre/post execution, scoped retrieval limits, and schema-validated outputs. Output: budget ledger integration, RAG scope guards, schema validation gate."
      ],
      "required_outputs": [
        "Evidence artifacts for P5-03-BUDGET-RAG-STRUCTURED-OUTPUT"
      ],
      "validation_checks": [
        "Run packet-scoped tests/commands for P5-03-BUDGET-RAG-STRUCTURED-OUTPUT",
        "Record evidence paths and validation output for P5-03-BUDGET-RAG-STRUCTURED-OUTPUT"
      ],
      "exit_criteria": [
        "Packet P5-03-BUDGET-RAG-STRUCTURED-OUTPUT meets scope, validation, and evidence requirements"
      ],
      "halt_conditions": [
        "Dependency or contract prerequisites unresolved",
        "Deterministic governance invariants violated"
      ],
      "references": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md",
        "docs/codex-migration/prd-v5.0-wbs-draft.json"
      ]
    },
    {
      "packet_id": "P5-04-AI-AUDIT-OBSERVABILITY",
      "wbs_refs": [
        "1.4"
      ],
      "title": "Implement AI execution observability and immutable audit events",
      "purpose": "Capture execution, policy, token, and constraint telemetry with immutable logging.",
      "status": "PENDING",
      "owner": "codex",
      "priority": "MEDIUM",
      "preconditions": [
        "P5-03-BUDGET-RAG-STRUCTURED-OUTPUT complete"
      ],
      "required_inputs": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md"
      ],
      "required_actions": [
        "Capture execution, policy, token, and constraint telemetry with immutable logging. Output: event schema and metrics instrumentation."
      ],
      "required_outputs": [
        "Evidence artifacts for P5-04-AI-AUDIT-OBSERVABILITY"
      ],
      "validation_checks": [
        "Run packet-scoped tests/commands for P5-04-AI-AUDIT-OBSERVABILITY",
        "Record evidence paths and validation output for P5-04-AI-AUDIT-OBSERVABILITY"
      ],
      "exit_criteria": [
        "Packet P5-04-AI-AUDIT-OBSERVABILITY meets scope, validation, and evidence requirements"
      ],
      "halt_conditions": [
        "Dependency or contract prerequisites unresolved",
        "Deterministic governance invariants violated"
      ],
      "references": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md",
        "docs/codex-migration/prd-v5.0-wbs-draft.json"
      ]
    },
    {
      "packet_id": "P5-05-AI-SECURITY-GUARDS",
      "wbs_refs": [
        "1.5"
      ],
      "title": "Implement backend security guardrails for governed execution",
      "purpose": "Enforce actor identity, capability checks, and no bypass mutation paths in AI execution surfaces.",
      "status": "PENDING",
      "owner": "codex",
      "priority": "CRITICAL",
      "preconditions": [
        "P5-01-GOVERNANCE-POLICY-CORE complete",
        "P5-03-BUDGET-RAG-STRUCTURED-OUTPUT complete"
      ],
      "required_inputs": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md"
      ],
      "required_actions": [
        "Enforce actor identity, capability checks, and no bypass mutation paths in AI execution surfaces. Output: security middleware and guard tests."
      ],
      "required_outputs": [
        "Evidence artifacts for P5-05-AI-SECURITY-GUARDS"
      ],
      "validation_checks": [
        "Run packet-scoped tests/commands for P5-05-AI-SECURITY-GUARDS",
        "Record evidence paths and validation output for P5-05-AI-SECURITY-GUARDS"
      ],
      "exit_criteria": [
        "Packet P5-05-AI-SECURITY-GUARDS meets scope, validation, and evidence requirements"
      ],
      "halt_conditions": [
        "Dependency or contract prerequisites unresolved",
        "Deterministic governance invariants violated"
      ],
      "references": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md",
        "docs/codex-migration/prd-v5.0-wbs-draft.json"
      ]
    },
    {
      "packet_id": "P5-06-AI-BACKEND-DOD",
      "wbs_refs": [
        "1.6"
      ],
      "title": "Demonstrate AI backend Definition of Done",
      "purpose": "Run end-to-end governed AI execution scenario covering policy, budgets, RAG, structured outputs, and audit.",
      "status": "PENDING",
      "owner": "codex",
      "priority": "CRITICAL",
      "preconditions": [
        "P5-04-AI-AUDIT-OBSERVABILITY complete",
        "P5-05-AI-SECURITY-GUARDS complete"
      ],
      "required_inputs": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md"
      ],
      "required_actions": [
        "Run end-to-end governed AI execution scenario covering policy, budgets, RAG, structured outputs, and audit. Output: reproducible evidence report."
      ],
      "required_outputs": [
        "Evidence artifacts for P5-06-AI-BACKEND-DOD"
      ],
      "validation_checks": [
        "Run packet-scoped tests/commands for P5-06-AI-BACKEND-DOD",
        "Record evidence paths and validation output for P5-06-AI-BACKEND-DOD"
      ],
      "exit_criteria": [
        "Packet P5-06-AI-BACKEND-DOD meets scope, validation, and evidence requirements"
      ],
      "halt_conditions": [
        "Dependency or contract prerequisites unresolved",
        "Deterministic governance invariants violated"
      ],
      "references": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md",
        "docs/codex-migration/prd-v5.0-wbs-draft.json"
      ]
    },
    {
      "packet_id": "P5-07-MULTIUSER-GOVERNANCE-SCHEMA",
      "wbs_refs": [
        "2.1"
      ],
      "title": "Implement multi-user identity/project and governance core schema",
      "purpose": "Create users, projects, memberships, roles, entities, and relationships schema with isolation constraints.",
      "status": "PENDING",
      "owner": "codex",
      "priority": "CRITICAL",
      "preconditions": [
        "P5-00-CONTRACT-BASELINE complete"
      ],
      "required_inputs": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md"
      ],
      "required_actions": [
        "Create users, projects, memberships, roles, entities, and relationships schema with isolation constraints. Output: migrations and schema tests."
      ],
      "required_outputs": [
        "Evidence artifacts for P5-07-MULTIUSER-GOVERNANCE-SCHEMA"
      ],
      "validation_checks": [
        "Run packet-scoped tests/commands for P5-07-MULTIUSER-GOVERNANCE-SCHEMA",
        "Record evidence paths and validation output for P5-07-MULTIUSER-GOVERNANCE-SCHEMA"
      ],
      "exit_criteria": [
        "Packet P5-07-MULTIUSER-GOVERNANCE-SCHEMA meets scope, validation, and evidence requirements"
      ],
      "halt_conditions": [
        "Dependency or contract prerequisites unresolved",
        "Deterministic governance invariants violated"
      ],
      "references": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md",
        "docs/codex-migration/prd-v5.0-wbs-draft.json"
      ]
    },
    {
      "packet_id": "P5-08-EXECUTION-DATA-SEARCH-JOBS",
      "wbs_refs": [
        "2.2"
      ],
      "title": "Implement execution, prompt, budget, RAG, search, and background job infrastructure",
      "purpose": "Deliver execution/token tables, document/embedding storage, indexed search, and async processing.",
      "status": "PENDING",
      "owner": "codex",
      "priority": "MEDIUM",
      "preconditions": [
        "P5-07-MULTIUSER-GOVERNANCE-SCHEMA complete"
      ],
      "required_inputs": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md"
      ],
      "required_actions": [
        "Deliver execution/token tables, document/embedding storage, indexed search, and async processing. Output: migrations, workers, and integration tests."
      ],
      "required_outputs": [
        "Evidence artifacts for P5-08-EXECUTION-DATA-SEARCH-JOBS"
      ],
      "validation_checks": [
        "Run packet-scoped tests/commands for P5-08-EXECUTION-DATA-SEARCH-JOBS",
        "Record evidence paths and validation output for P5-08-EXECUTION-DATA-SEARCH-JOBS"
      ],
      "exit_criteria": [
        "Packet P5-08-EXECUTION-DATA-SEARCH-JOBS meets scope, validation, and evidence requirements"
      ],
      "halt_conditions": [
        "Dependency or contract prerequisites unresolved",
        "Deterministic governance invariants violated"
      ],
      "references": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md",
        "docs/codex-migration/prd-v5.0-wbs-draft.json"
      ]
    },
    {
      "packet_id": "P5-09-INFRA-OBSERVABILITY-DEPLOY",
      "wbs_refs": [
        "2.3"
      ],
      "title": "Implement infrastructure observability and Docker deployment profile",
      "purpose": "Wire structured logging, metrics/tracing, health endpoints, and reproducible Docker-first runtime.",
      "status": "PENDING",
      "owner": "codex",
      "priority": "HIGH",
      "preconditions": [
        "P5-08-EXECUTION-DATA-SEARCH-JOBS complete"
      ],
      "required_inputs": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md"
      ],
      "required_actions": [
        "Wire structured logging, metrics/tracing, health endpoints, and reproducible Docker-first runtime. Output: compose profile and runbook."
      ],
      "required_outputs": [
        "Evidence artifacts for P5-09-INFRA-OBSERVABILITY-DEPLOY"
      ],
      "validation_checks": [
        "Run packet-scoped tests/commands for P5-09-INFRA-OBSERVABILITY-DEPLOY",
        "Record evidence paths and validation output for P5-09-INFRA-OBSERVABILITY-DEPLOY"
      ],
      "exit_criteria": [
        "Packet P5-09-INFRA-OBSERVABILITY-DEPLOY meets scope, validation, and evidence requirements"
      ],
      "halt_conditions": [
        "Dependency or contract prerequisites unresolved",
        "Deterministic governance invariants violated"
      ],
      "references": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md",
        "docs/codex-migration/prd-v5.0-wbs-draft.json"
      ]
    },
    {
      "packet_id": "P5-10-BACKEND-INFRA-DOD",
      "wbs_refs": [
        "2.4"
      ],
      "title": "Demonstrate backend infrastructure Definition of Done",
      "purpose": "Validate schema, execution persistence, reporting endpoints, search, observability, and reproducible deployment.",
      "status": "PENDING",
      "owner": "codex",
      "priority": "CRITICAL",
      "preconditions": [
        "P5-09-INFRA-OBSERVABILITY-DEPLOY complete"
      ],
      "required_inputs": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md"
      ],
      "required_actions": [
        "Validate schema, execution persistence, reporting endpoints, search, observability, and reproducible deployment. Output: backend infra validation report."
      ],
      "required_outputs": [
        "Evidence artifacts for P5-10-BACKEND-INFRA-DOD"
      ],
      "validation_checks": [
        "Run packet-scoped tests/commands for P5-10-BACKEND-INFRA-DOD",
        "Record evidence paths and validation output for P5-10-BACKEND-INFRA-DOD"
      ],
      "exit_criteria": [
        "Packet P5-10-BACKEND-INFRA-DOD meets scope, validation, and evidence requirements"
      ],
      "halt_conditions": [
        "Dependency or contract prerequisites unresolved",
        "Deterministic governance invariants violated"
      ],
      "references": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md",
        "docs/codex-migration/prd-v5.0-wbs-draft.json"
      ]
    },
    {
      "packet_id": "P5-11-FRONTEND-FOUNDATION",
      "wbs_refs": [
        "3.1"
      ],
      "title": "Implement frontend foundation shell and governed data flow",
      "purpose": "Build Next.js layout, navigation, project context, and API-only mutation architecture.",
      "status": "PENDING",
      "owner": "codex",
      "priority": "MEDIUM",
      "preconditions": [
        "P5-00-CONTRACT-BASELINE complete",
        "P5-09-INFRA-OBSERVABILITY-DEPLOY complete"
      ],
      "required_inputs": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md"
      ],
      "required_actions": [
        "Build Next.js layout, navigation, project context, and API-only mutation architecture. Output: app shell and core state wiring."
      ],
      "required_outputs": [
        "Evidence artifacts for P5-11-FRONTEND-FOUNDATION"
      ],
      "validation_checks": [
        "Run packet-scoped tests/commands for P5-11-FRONTEND-FOUNDATION",
        "Record evidence paths and validation output for P5-11-FRONTEND-FOUNDATION"
      ],
      "exit_criteria": [
        "Packet P5-11-FRONTEND-FOUNDATION meets scope, validation, and evidence requirements"
      ],
      "halt_conditions": [
        "Dependency or contract prerequisites unresolved",
        "Deterministic governance invariants violated"
      ],
      "references": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md",
        "docs/codex-migration/prd-v5.0-wbs-draft.json"
      ]
    },
    {
      "packet_id": "P5-12-CORE-AI-WORKSPACES",
      "wbs_refs": [
        "3.2"
      ],
      "title": "Implement governed chat, RAG assistant, prompt lab, and agent console",
      "purpose": "Deliver primary AI workspaces with visible budget/governance indicators and execution traceability.",
      "status": "PENDING",
      "owner": "codex",
      "priority": "MEDIUM",
      "preconditions": [
        "P5-11-FRONTEND-FOUNDATION complete",
        "P5-06-AI-BACKEND-DOD complete"
      ],
      "required_inputs": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md"
      ],
      "required_actions": [
        "Deliver primary AI workspaces with visible budget/governance indicators and execution traceability. Output: core workspace pages and integration tests."
      ],
      "required_outputs": [
        "Evidence artifacts for P5-12-CORE-AI-WORKSPACES"
      ],
      "validation_checks": [
        "Run packet-scoped tests/commands for P5-12-CORE-AI-WORKSPACES",
        "Record evidence paths and validation output for P5-12-CORE-AI-WORKSPACES"
      ],
      "exit_criteria": [
        "Packet P5-12-CORE-AI-WORKSPACES meets scope, validation, and evidence requirements"
      ],
      "halt_conditions": [
        "Dependency or contract prerequisites unresolved",
        "Deterministic governance invariants violated"
      ],
      "references": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md",
        "docs/codex-migration/prd-v5.0-wbs-draft.json"
      ]
    },
    {
      "packet_id": "P5-13-OPS-WORKSPACES",
      "wbs_refs": [
        "3.3"
      ],
      "title": "Implement operational workspaces and visibility surfaces",
      "purpose": "Deliver document management, kanban/gantt, risk register, knowledge base, approvals, and timeline viewer with governance visibility.",
      "status": "PENDING",
      "owner": "codex",
      "priority": "MEDIUM",
      "preconditions": [
        "P5-11-FRONTEND-FOUNDATION complete",
        "P5-08-EXECUTION-DATA-SEARCH-JOBS complete"
      ],
      "required_inputs": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md"
      ],
      "required_actions": [
        "Deliver document management, kanban/gantt, risk register, knowledge base, approvals, and timeline viewer with governance visibility. Output: operational workspace suite."
      ],
      "required_outputs": [
        "Evidence artifacts for P5-13-OPS-WORKSPACES"
      ],
      "validation_checks": [
        "Run packet-scoped tests/commands for P5-13-OPS-WORKSPACES",
        "Record evidence paths and validation output for P5-13-OPS-WORKSPACES"
      ],
      "exit_criteria": [
        "Packet P5-13-OPS-WORKSPACES meets scope, validation, and evidence requirements"
      ],
      "halt_conditions": [
        "Dependency or contract prerequisites unresolved",
        "Deterministic governance invariants violated"
      ],
      "references": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md",
        "docs/codex-migration/prd-v5.0-wbs-draft.json"
      ]
    },
    {
      "packet_id": "P5-14-FRONTEND-DOD",
      "wbs_refs": [
        "3.4"
      ],
      "title": "Demonstrate frontend Definition of Done",
      "purpose": "Validate all major workspaces, charts, search, template installer UX, and policy-violation visibility.",
      "status": "PENDING",
      "owner": "codex",
      "priority": "CRITICAL",
      "preconditions": [
        "P5-12-CORE-AI-WORKSPACES complete",
        "P5-13-OPS-WORKSPACES complete"
      ],
      "required_inputs": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md"
      ],
      "required_actions": [
        "Validate all major workspaces, charts, search, template installer UX, and policy-violation visibility. Output: frontend validation report and walkthrough."
      ],
      "required_outputs": [
        "Evidence artifacts for P5-14-FRONTEND-DOD"
      ],
      "validation_checks": [
        "Run packet-scoped tests/commands for P5-14-FRONTEND-DOD",
        "Record evidence paths and validation output for P5-14-FRONTEND-DOD"
      ],
      "exit_criteria": [
        "Packet P5-14-FRONTEND-DOD meets scope, validation, and evidence requirements"
      ],
      "halt_conditions": [
        "Dependency or contract prerequisites unresolved",
        "Deterministic governance invariants violated"
      ],
      "references": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md",
        "docs/codex-migration/prd-v5.0-wbs-draft.json"
      ]
    },
    {
      "packet_id": "P5-15-TEMPLATE-CONTRACT-INSTALLER",
      "wbs_refs": [
        "4.1"
      ],
      "title": "Implement template package contract and installation engine",
      "purpose": "Define template manifest/component schemas and transactional install flow with governance checks.",
      "status": "PENDING",
      "owner": "codex",
      "priority": "HIGH",
      "preconditions": [
        "P5-00-CONTRACT-BASELINE complete",
        "P5-07-MULTIUSER-GOVERNANCE-SCHEMA complete",
        "P5-11-FRONTEND-FOUNDATION complete"
      ],
      "required_inputs": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md"
      ],
      "required_actions": [
        "Define template manifest/component schemas and transactional install flow with governance checks. Output: template validator and installer service."
      ],
      "required_outputs": [
        "Evidence artifacts for P5-15-TEMPLATE-CONTRACT-INSTALLER"
      ],
      "validation_checks": [
        "Run packet-scoped tests/commands for P5-15-TEMPLATE-CONTRACT-INSTALLER",
        "Record evidence paths and validation output for P5-15-TEMPLATE-CONTRACT-INSTALLER"
      ],
      "exit_criteria": [
        "Packet P5-15-TEMPLATE-CONTRACT-INSTALLER meets scope, validation, and evidence requirements"
      ],
      "halt_conditions": [
        "Dependency or contract prerequisites unresolved",
        "Deterministic governance invariants violated"
      ],
      "references": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md",
        "docs/codex-migration/prd-v5.0-wbs-draft.json"
      ]
    },
    {
      "packet_id": "P5-16-TEMPLATE-LIBRARY-VERSIONING",
      "wbs_refs": [
        "4.2"
      ],
      "title": "Implement built-in template library, versioning, migrations, and rollback",
      "purpose": "Ship baseline template catalog with upgrade/downgrade mechanics and audit logging.",
      "status": "PENDING",
      "owner": "codex",
      "priority": "HIGH",
      "preconditions": [
        "P5-15-TEMPLATE-CONTRACT-INSTALLER complete"
      ],
      "required_inputs": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md"
      ],
      "required_actions": [
        "Ship baseline template catalog with upgrade/downgrade mechanics and audit logging. Output: template library and migration framework."
      ],
      "required_outputs": [
        "Evidence artifacts for P5-16-TEMPLATE-LIBRARY-VERSIONING"
      ],
      "validation_checks": [
        "Run packet-scoped tests/commands for P5-16-TEMPLATE-LIBRARY-VERSIONING",
        "Record evidence paths and validation output for P5-16-TEMPLATE-LIBRARY-VERSIONING"
      ],
      "exit_criteria": [
        "Packet P5-16-TEMPLATE-LIBRARY-VERSIONING meets scope, validation, and evidence requirements"
      ],
      "halt_conditions": [
        "Dependency or contract prerequisites unresolved",
        "Deterministic governance invariants violated"
      ],
      "references": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md",
        "docs/codex-migration/prd-v5.0-wbs-draft.json"
      ]
    },
    {
      "packet_id": "P5-17-TEMPLATE-DOD",
      "wbs_refs": [
        "4.3"
      ],
      "title": "Demonstrate template system Definition of Done",
      "purpose": "Validate install, seed, governance enforcement, version tracking, rollback, and safe uninstall behavior.",
      "status": "PENDING",
      "owner": "codex",
      "priority": "CRITICAL",
      "preconditions": [
        "P5-16-TEMPLATE-LIBRARY-VERSIONING complete"
      ],
      "required_inputs": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md"
      ],
      "required_actions": [
        "Validate install, seed, governance enforcement, version tracking, rollback, and safe uninstall behavior. Output: template system validation report."
      ],
      "required_outputs": [
        "Evidence artifacts for P5-17-TEMPLATE-DOD"
      ],
      "validation_checks": [
        "Run packet-scoped tests/commands for P5-17-TEMPLATE-DOD",
        "Record evidence paths and validation output for P5-17-TEMPLATE-DOD"
      ],
      "exit_criteria": [
        "Packet P5-17-TEMPLATE-DOD meets scope, validation, and evidence requirements"
      ],
      "halt_conditions": [
        "Dependency or contract prerequisites unresolved",
        "Deterministic governance invariants violated"
      ],
      "references": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md",
        "docs/codex-migration/prd-v5.0-wbs-draft.json"
      ]
    },
    {
      "packet_id": "P5-18-ANALYTICS-PIPELINE-APIS",
      "wbs_refs": [
        "5.1"
      ],
      "title": "Implement analytics aggregation model and API endpoints",
      "purpose": "Build aggregate tables/views, scheduled jobs, and project-scoped analytics endpoints with filters.",
      "status": "PENDING",
      "owner": "codex",
      "priority": "HIGH",
      "preconditions": [
        "P5-08-EXECUTION-DATA-SEARCH-JOBS complete",
        "P5-04-AI-AUDIT-OBSERVABILITY complete"
      ],
      "required_inputs": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md"
      ],
      "required_actions": [
        "Build aggregate tables/views, scheduled jobs, and project-scoped analytics endpoints with filters. Output: analytics service and API contracts."
      ],
      "required_outputs": [
        "Evidence artifacts for P5-18-ANALYTICS-PIPELINE-APIS"
      ],
      "validation_checks": [
        "Run packet-scoped tests/commands for P5-18-ANALYTICS-PIPELINE-APIS",
        "Record evidence paths and validation output for P5-18-ANALYTICS-PIPELINE-APIS"
      ],
      "exit_criteria": [
        "Packet P5-18-ANALYTICS-PIPELINE-APIS meets scope, validation, and evidence requirements"
      ],
      "halt_conditions": [
        "Dependency or contract prerequisites unresolved",
        "Deterministic governance invariants violated"
      ],
      "references": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md",
        "docs/codex-migration/prd-v5.0-wbs-draft.json"
      ]
    },
    {
      "packet_id": "P5-19-ANALYTICS-EXPORT-PERF",
      "wbs_refs": [
        "5.2"
      ],
      "title": "Implement analytics exports and performance hardening",
      "purpose": "Deliver compliance reports, export reproducibility, caching/index strategy, and latency targets.",
      "status": "PENDING",
      "owner": "codex",
      "priority": "HIGH",
      "preconditions": [
        "P5-18-ANALYTICS-PIPELINE-APIS complete"
      ],
      "required_inputs": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md"
      ],
      "required_actions": [
        "Deliver compliance reports, export reproducibility, caching/index strategy, and latency targets. Output: export pipeline and performance evidence."
      ],
      "required_outputs": [
        "Evidence artifacts for P5-19-ANALYTICS-EXPORT-PERF"
      ],
      "validation_checks": [
        "Run packet-scoped tests/commands for P5-19-ANALYTICS-EXPORT-PERF",
        "Record evidence paths and validation output for P5-19-ANALYTICS-EXPORT-PERF"
      ],
      "exit_criteria": [
        "Packet P5-19-ANALYTICS-EXPORT-PERF meets scope, validation, and evidence requirements"
      ],
      "halt_conditions": [
        "Dependency or contract prerequisites unresolved",
        "Deterministic governance invariants violated"
      ],
      "references": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md",
        "docs/codex-migration/prd-v5.0-wbs-draft.json"
      ]
    },
    {
      "packet_id": "P5-20-ANALYTICS-DOD",
      "wbs_refs": [
        "5.3"
      ],
      "title": "Demonstrate reporting and analytics Definition of Done",
      "purpose": "Validate dashboards, exports, aggregation jobs, and performance targets across representative data volumes.",
      "status": "PENDING",
      "owner": "codex",
      "priority": "CRITICAL",
      "preconditions": [
        "P5-19-ANALYTICS-EXPORT-PERF complete"
      ],
      "required_inputs": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md"
      ],
      "required_actions": [
        "Validate dashboards, exports, aggregation jobs, and performance targets across representative data volumes. Output: analytics validation report."
      ],
      "required_outputs": [
        "Evidence artifacts for P5-20-ANALYTICS-DOD"
      ],
      "validation_checks": [
        "Run packet-scoped tests/commands for P5-20-ANALYTICS-DOD",
        "Record evidence paths and validation output for P5-20-ANALYTICS-DOD"
      ],
      "exit_criteria": [
        "Packet P5-20-ANALYTICS-DOD meets scope, validation, and evidence requirements"
      ],
      "halt_conditions": [
        "Dependency or contract prerequisites unresolved",
        "Deterministic governance invariants violated"
      ],
      "references": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md",
        "docs/codex-migration/prd-v5.0-wbs-draft.json"
      ]
    },
    {
      "packet_id": "P5-21-AUTH-RBAC",
      "wbs_refs": [
        "6.1"
      ],
      "title": "Implement authentication and RBAC middleware enforcement",
      "purpose": "Deliver local auth, OAuth, JWT lifecycle, project-scoped roles, and permission middleware.",
      "status": "PENDING",
      "owner": "codex",
      "priority": "CRITICAL",
      "preconditions": [
        "P5-07-MULTIUSER-GOVERNANCE-SCHEMA complete"
      ],
      "required_inputs": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md"
      ],
      "required_actions": [
        "Deliver local auth, OAuth, JWT lifecycle, project-scoped roles, and permission middleware. Output: auth/RBAC modules with tests."
      ],
      "required_outputs": [
        "Evidence artifacts for P5-21-AUTH-RBAC"
      ],
      "validation_checks": [
        "Run packet-scoped tests/commands for P5-21-AUTH-RBAC",
        "Record evidence paths and validation output for P5-21-AUTH-RBAC"
      ],
      "exit_criteria": [
        "Packet P5-21-AUTH-RBAC meets scope, validation, and evidence requirements"
      ],
      "halt_conditions": [
        "Dependency or contract prerequisites unresolved",
        "Deterministic governance invariants violated"
      ],
      "references": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md",
        "docs/codex-migration/prd-v5.0-wbs-draft.json"
      ]
    },
    {
      "packet_id": "P5-22-PROTECTION-SANDBOX-RATELIMIT",
      "wbs_refs": [
        "6.2"
      ],
      "title": "Implement policy and budget protections, sandboxing, and rate limits",
      "purpose": "Enforce mutation protections, hard budget stops, execution sandbox controls, and abuse-resistant API limits.",
      "status": "PENDING",
      "owner": "codex",
      "priority": "MEDIUM",
      "preconditions": [
        "P5-21-AUTH-RBAC complete",
        "P5-03-BUDGET-RAG-STRUCTURED-OUTPUT complete",
        "P5-01-GOVERNANCE-POLICY-CORE complete"
      ],
      "required_inputs": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md"
      ],
      "required_actions": [
        "Enforce mutation protections, hard budget stops, execution sandbox controls, and abuse-resistant API limits. Output: security control suite."
      ],
      "required_outputs": [
        "Evidence artifacts for P5-22-PROTECTION-SANDBOX-RATELIMIT"
      ],
      "validation_checks": [
        "Run packet-scoped tests/commands for P5-22-PROTECTION-SANDBOX-RATELIMIT",
        "Record evidence paths and validation output for P5-22-PROTECTION-SANDBOX-RATELIMIT"
      ],
      "exit_criteria": [
        "Packet P5-22-PROTECTION-SANDBOX-RATELIMIT meets scope, validation, and evidence requirements"
      ],
      "halt_conditions": [
        "Dependency or contract prerequisites unresolved",
        "Deterministic governance invariants violated"
      ],
      "references": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md",
        "docs/codex-migration/prd-v5.0-wbs-draft.json"
      ]
    },
    {
      "packet_id": "P5-23-AUDIT-COMPLIANCE-RECOVERY",
      "wbs_refs": [
        "6.3"
      ],
      "title": "Implement immutable audit/compliance reporting and backup-recovery paths",
      "purpose": "Deliver append-only audit guarantees, export tooling, backup workflows, and restore documentation.",
      "status": "PENDING",
      "owner": "codex",
      "priority": "MEDIUM",
      "preconditions": [
        "P5-22-PROTECTION-SANDBOX-RATELIMIT complete",
        "P5-04-AI-AUDIT-OBSERVABILITY complete"
      ],
      "required_inputs": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md"
      ],
      "required_actions": [
        "Deliver append-only audit guarantees, export tooling, backup workflows, and restore documentation. Output: compliance and recovery package."
      ],
      "required_outputs": [
        "Evidence artifacts for P5-23-AUDIT-COMPLIANCE-RECOVERY"
      ],
      "validation_checks": [
        "Run packet-scoped tests/commands for P5-23-AUDIT-COMPLIANCE-RECOVERY",
        "Record evidence paths and validation output for P5-23-AUDIT-COMPLIANCE-RECOVERY"
      ],
      "exit_criteria": [
        "Packet P5-23-AUDIT-COMPLIANCE-RECOVERY meets scope, validation, and evidence requirements"
      ],
      "halt_conditions": [
        "Dependency or contract prerequisites unresolved",
        "Deterministic governance invariants violated"
      ],
      "references": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md",
        "docs/codex-migration/prd-v5.0-wbs-draft.json"
      ]
    },
    {
      "packet_id": "P5-24-SECURITY-DOD",
      "wbs_refs": [
        "6.4"
      ],
      "title": "Demonstrate security and enterprise-readiness Definition of Done",
      "purpose": "Validate auth, RBAC, protections, sandboxing, audit, isolation, rate limits, and compliance outputs.",
      "status": "PENDING",
      "owner": "codex",
      "priority": "CRITICAL",
      "preconditions": [
        "P5-21-AUTH-RBAC complete",
        "P5-22-PROTECTION-SANDBOX-RATELIMIT complete",
        "P5-23-AUDIT-COMPLIANCE-RECOVERY complete",
        "P5-06-AI-BACKEND-DOD complete"
      ],
      "required_inputs": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md"
      ],
      "required_actions": [
        "Validate auth, RBAC, protections, sandboxing, audit, isolation, rate limits, and compliance outputs. Output: security validation dossier."
      ],
      "required_outputs": [
        "Evidence artifacts for P5-24-SECURITY-DOD"
      ],
      "validation_checks": [
        "Run packet-scoped tests/commands for P5-24-SECURITY-DOD",
        "Record evidence paths and validation output for P5-24-SECURITY-DOD"
      ],
      "exit_criteria": [
        "Packet P5-24-SECURITY-DOD meets scope, validation, and evidence requirements"
      ],
      "halt_conditions": [
        "Dependency or contract prerequisites unresolved",
        "Deterministic governance invariants violated"
      ],
      "references": [
        "/mnt/c/Users/User/Downloads/Substrate_Phase5_Master_PRD.md",
        "docs/codex-migration/prd-v5.0-wbs-draft.json"
      ]
    }
  ]
}
