{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 67, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/OneDrive/Work/orchestrated_codex/templates/ai-substrate/app/assistant/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport ReactMarkdown from \"react-markdown\";\nimport { Alert, Button, Card, Col, Form, Input, Row, Space, Tag, Typography } from \"antd\";\n\nconst seedPrompt = \"Summarize rollout risk for template pages and recommend mitigations.\";\n\nexport default function AssistantPage() {\n  const [prompt, setPrompt] = useState(seedPrompt);\n  const [answer, setAnswer] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [citations, setCitations] = useState<Array<{ source: string; section: string }>>([]);\n\n  async function runAssistant() {\n    setLoading(true);\n    await new Promise((resolve) => setTimeout(resolve, 700));\n    setAnswer(\n      [\n        \"## Executive Summary\",\n        \"\",\n        \"- UI consistency risk remains if route wrappers diverge.\",\n        \"- Auth/session drift causes false-negative data fetch failures.\",\n        \"- Template pages need stronger component reuse boundaries.\",\n        \"\",\n        \"## Recommended Actions\",\n        \"\",\n        \"1. Use shared route guards and API client wrappers.\",\n        \"2. Add template smoke tests to CI for all route surfaces.\",\n        \"3. Standardize on enterprise UI library components.\",\n      ].join(\"\\n\"),\n    );\n    setCitations([\n      { source: \"docs/codex-migration/template-pages-functionalization-plan.md\", section: \"Library selections\" },\n      { source: \"templates/ai-substrate/app/layout.tsx\", section: \"Navigation + route grouping\" },\n      { source: \"templates/ai-substrate/app/dashboard/page.tsx\", section: \"Dashboard fetch handling\" },\n    ]);\n    setLoading(false);\n  }\n\n  return (\n    <div className=\"p-6 space-y-4\">\n      <Space orientation=\"vertical\" size={4}>\n        <Typography.Title level={2} className=\"!mb-0\">RAG Assistant Template</Typography.Title>\n        <Typography.Text type=\"secondary\">Ant Design form + markdown rendering + citation drawer pattern.</Typography.Text>\n      </Space>\n\n      <Card>\n        <Form layout=\"vertical\" onFinish={() => void runAssistant()}>\n          <Form.Item label=\"Prompt\">\n            <Input.TextArea rows={5} value={prompt} onChange={(event) => setPrompt(event.target.value)} />\n          </Form.Item>\n          <Space>\n            <Button type=\"primary\" htmlType=\"submit\" loading={loading}>Run Assistant</Button>\n            <Tag color=\"blue\">Scoped retrieval</Tag>\n            <Tag color=\"green\">Traceable output</Tag>\n          </Space>\n        </Form>\n      </Card>\n\n      <Row gutter={[16, 16]}>\n        <Col xs={24} lg={16}>\n          <Card title=\"Answer\">\n            {answer ? (\n              <div className=\"prose prose-sm max-w-none\">\n                <ReactMarkdown>{answer}</ReactMarkdown>\n              </div>\n            ) : (\n              <Alert type=\"info\" showIcon title=\"Run the assistant to generate a response.\" />\n            )}\n          </Card>\n        </Col>\n        <Col xs={24} lg={8}>\n          <Card title=\"Citations\">\n            <Space orientation=\"vertical\" className=\"w-full\" size={10}>\n              {citations.length === 0 ? (\n                <Typography.Text type=\"secondary\">No citations yet</Typography.Text>\n              ) : (\n                citations.map((item) => (\n                  <Card key={`${item.source}-${item.section}`} size=\"small\">\n                    <Space orientation=\"vertical\" size={0}>\n                      <Typography.Text strong>{item.source}</Typography.Text>\n                      <Typography.Text type=\"secondary\">{item.section}</Typography.Text>\n                    </Space>\n                  </Card>\n                ))\n              )}\n            </Space>\n          </Card>\n        </Col>\n      </Row>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJA;;;;;AAMA,MAAM,aAAa;AAEJ,SAAS;IACtB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAA6C,EAAE;IAEzF,eAAe;QACb,WAAW;QACX,MAAM,IAAI,QAAQ,CAAC,UAAY,WAAW,SAAS;QACnD,UACE;YACE;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;SACD,CAAC,IAAI,CAAC;QAET,aAAa;YACX;gBAAE,QAAQ;gBAAiE,SAAS;YAAqB;YACzG;gBAAE,QAAQ;gBAAyC,SAAS;YAA8B;YAC1F;gBAAE,QAAQ;gBAAiD,SAAS;YAA2B;SAChG;QACD,WAAW;IACb;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,yMAAK;gBAAC,aAAY;gBAAW,MAAM;;kCAClC,8OAAC,wMAAU,CAAC,KAAK;wBAAC,OAAO;wBAAG,WAAU;kCAAQ;;;;;;kCAC9C,8OAAC,wMAAU,CAAC,IAAI;wBAAC,MAAK;kCAAY;;;;;;;;;;;;0BAGpC,8OAAC,sLAAI;0BACH,cAAA,8OAAC,sLAAI;oBAAC,QAAO;oBAAW,UAAU,IAAM,KAAK;;sCAC3C,8OAAC,sLAAI,CAAC,IAAI;4BAAC,OAAM;sCACf,cAAA,8OAAC,yLAAK,CAAC,QAAQ;gCAAC,MAAM;gCAAG,OAAO;gCAAQ,UAAU,CAAC,QAAU,UAAU,MAAM,MAAM,CAAC,KAAK;;;;;;;;;;;sCAE3F,8OAAC,yMAAK;;8CACJ,8OAAC,4MAAM;oCAAC,MAAK;oCAAU,UAAS;oCAAS,SAAS;8CAAS;;;;;;8CAC3D,8OAAC,mLAAG;oCAAC,OAAM;8CAAO;;;;;;8CAClB,8OAAC,mLAAG;oCAAC,OAAM;8CAAQ;;;;;;;;;;;;;;;;;;;;;;;0BAKzB,8OAAC,mLAAG;gBAAC,QAAQ;oBAAC;oBAAI;iBAAG;;kCACnB,8OAAC,mLAAG;wBAAC,IAAI;wBAAI,IAAI;kCACf,cAAA,8OAAC,sLAAI;4BAAC,OAAM;sCACT,uBACC,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC,mMAAa;8CAAE;;;;;;;;;;qDAGlB,8OAAC,yLAAK;gCAAC,MAAK;gCAAO,QAAQ;gCAAC,OAAM;;;;;;;;;;;;;;;;kCAIxC,8OAAC,mLAAG;wBAAC,IAAI;wBAAI,IAAI;kCACf,cAAA,8OAAC,sLAAI;4BAAC,OAAM;sCACV,cAAA,8OAAC,yMAAK;gCAAC,aAAY;gCAAW,WAAU;gCAAS,MAAM;0CACpD,UAAU,MAAM,KAAK,kBACpB,8OAAC,wMAAU,CAAC,IAAI;oCAAC,MAAK;8CAAY;;;;;2CAElC,UAAU,GAAG,CAAC,CAAC,qBACb,8OAAC,sLAAI;wCAAwC,MAAK;kDAChD,cAAA,8OAAC,yMAAK;4CAAC,aAAY;4CAAW,MAAM;;8DAClC,8OAAC,wMAAU,CAAC,IAAI;oDAAC,MAAM;8DAAE,KAAK,MAAM;;;;;;8DACpC,8OAAC,wMAAU,CAAC,IAAI;oDAAC,MAAK;8DAAa,KAAK,OAAO;;;;;;;;;;;;uCAHxC,GAAG,KAAK,MAAM,CAAC,CAAC,EAAE,KAAK,OAAO,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAc7D"}}]
}