{
  "metadata": {
    "project_name": "Substrate Minimal",
    "approved_by": "substrate-lead",
    "approved_at": "2026-02-13",
    "version": "1.0"
  },
  "work_areas": [
    {
      "id": "1.0",
      "title": "Scaffold Init",
      "description": "Initialize scaffold and baseline governance."
    },
    {
      "id": "2.0",
      "title": "Core Workflow",
      "description": "Establish packet lifecycle and reporting."
    },
    {
      "id": "3.0",
      "title": "Quality Baseline",
      "description": "Add minimal tests and checks."
    },
    {
      "id": "4.0",
      "title": "Closeout",
      "description": "Deliver report and drift closeout."
    },
    {
      "id": "5.0",
      "title": "Residual Risk Governance",
      "description": "Integrate execution-time residual risk capture, tracking, and reporting into packet lifecycle governance."
    },
    {
      "id": "6.0",
      "title": "E2E Visibility in WBS Viewer",
      "description": "Capture E2E runs, expose results via API, and render run findings in dashboard."
    },
    {
      "id": "7.0",
      "title": "Break-Fix Mode with Audit History",
      "description": "Implement a minor-fix lifecycle with strict evidence tracking and full change history across CLI/API/viewer/reporting."
    },
    {
      "id": "12.0",
      "title": "Optional Productive Workflow Enhancements",
      "description": "Optional governance/productivity features kept lean and non-blocking."
    },
    {
      "id": "13.0",
      "title": "Project-Scoped WBS Protection",
      "description": "Prevent unauthorized WBS replacement via hard mutation controls and add multi-project governance context above WBS."
    },
    {
      "id": "14.0",
      "title": "Review Remediation - WBS 13.0 Findings",
      "description": "Resolve issues identified in post-delivery review of Area 13.0 (Project-Scoped WBS Protection): stray artifacts, enforcement gaps, schema normalization, and path resolution fragility."
    }
  ],
  "wbs_level_3": [
    {
      "wbs_ref": "1.1",
      "area_id": "1.0",
      "title": "Initialize governance files"
    },
    {
      "wbs_ref": "2.1",
      "area_id": "2.0",
      "title": "Execute first packet lifecycle"
    },
    {
      "wbs_ref": "3.1",
      "area_id": "3.0",
      "title": "Run baseline validation"
    },
    {
      "wbs_ref": "4.1",
      "area_id": "4.0",
      "title": "Closeout with drift assessment"
    },
    {
      "wbs_ref": "13.1",
      "area_id": "13.0",
      "title": "Design mutation-control contract"
    },
    {
      "wbs_ref": "13.2",
      "area_id": "13.0",
      "title": "Implement WBS mutation guard"
    },
    {
      "wbs_ref": "13.3",
      "area_id": "13.0",
      "title": "Enforce git governance for WBS changes"
    },
    {
      "wbs_ref": "13.4",
      "area_id": "13.0",
      "title": "Add draft/apply WBS workflow"
    },
    {
      "wbs_ref": "13.5",
      "area_id": "13.0",
      "title": "Introduce project-scoped governance model"
    },
    {
      "wbs_ref": "13.6",
      "area_id": "13.0",
      "title": "Implement project-aware CLI and APIs"
    },
    {
      "wbs_ref": "13.7",
      "area_id": "13.0",
      "title": "Viewer support for multi-project context"
    },
    {
      "wbs_ref": "13.8",
      "area_id": "13.0",
      "title": "Migration, docs, and rollout hardening"
    }
  ],
  "packets": [
    {
      "id": "MIN-1-1",
      "wbs_ref": "1.1",
      "wbs_l3_ref": "1.1",
      "area_id": "1.0",
      "title": "Initialize governance files",
      "scope": "Implement WBS item 1.1: Initialize governance files.",
      "packet_id": "MIN-1-1",
      "wbs_refs": [
        "1.1"
      ],
      "purpose": "Deliver Initialize governance files.",
      "status": "PENDING",
      "owner": "unassigned",
      "priority": "MEDIUM",
      "preconditions": [],
      "required_inputs": [],
      "required_actions": [
        "Implement WBS item 1.1: Initialize governance files."
      ],
      "required_outputs": [],
      "validation_checks": [
        "Implementation aligns with packet scope",
        "Evidence path included in packet notes"
      ],
      "exit_criteria": [
        "Packet marked done with evidence references"
      ],
      "halt_conditions": [
        "Required dependencies unresolved",
        "Evidence missing for completion claim"
      ],
      "authority": "Repository packet governance",
      "type": "WBS_PACKET",
      "references": []
    },
    {
      "id": "MIN-2-1",
      "wbs_ref": "2.1",
      "wbs_l3_ref": "2.1",
      "area_id": "2.0",
      "title": "Execute first packet lifecycle",
      "scope": "Implement WBS item 2.1: Execute first packet lifecycle.",
      "packet_id": "MIN-2-1",
      "wbs_refs": [
        "2.1"
      ],
      "purpose": "Deliver Execute first packet lifecycle.",
      "status": "PENDING",
      "owner": "unassigned",
      "priority": "MEDIUM",
      "preconditions": [],
      "required_inputs": [],
      "required_actions": [
        "Implement WBS item 2.1: Execute first packet lifecycle."
      ],
      "required_outputs": [],
      "validation_checks": [
        "Implementation aligns with packet scope",
        "Evidence path included in packet notes"
      ],
      "exit_criteria": [
        "Packet marked done with evidence references"
      ],
      "halt_conditions": [
        "Required dependencies unresolved",
        "Evidence missing for completion claim"
      ],
      "authority": "Repository packet governance",
      "type": "WBS_PACKET",
      "references": []
    },
    {
      "id": "MIN-3-1",
      "wbs_ref": "3.1",
      "wbs_l3_ref": "3.1",
      "area_id": "3.0",
      "title": "Run baseline validation",
      "scope": "Implement WBS item 3.1: Run baseline validation.",
      "packet_id": "MIN-3-1",
      "wbs_refs": [
        "3.1"
      ],
      "purpose": "Deliver Run baseline validation.",
      "status": "PENDING",
      "owner": "unassigned",
      "priority": "MEDIUM",
      "preconditions": [],
      "required_inputs": [],
      "required_actions": [
        "Implement WBS item 3.1: Run baseline validation."
      ],
      "required_outputs": [],
      "validation_checks": [
        "Implementation aligns with packet scope",
        "Evidence path included in packet notes"
      ],
      "exit_criteria": [
        "Packet marked done with evidence references"
      ],
      "halt_conditions": [
        "Required dependencies unresolved",
        "Evidence missing for completion claim"
      ],
      "authority": "Repository packet governance",
      "type": "WBS_PACKET",
      "references": []
    },
    {
      "id": "MIN-4-1",
      "wbs_ref": "4.1",
      "wbs_l3_ref": "4.1",
      "area_id": "4.0",
      "title": "Closeout with drift assessment",
      "scope": "Implement WBS item 4.1: Closeout with drift assessment.",
      "packet_id": "MIN-4-1",
      "wbs_refs": [
        "4.1"
      ],
      "purpose": "Deliver Closeout with drift assessment.",
      "status": "PENDING",
      "owner": "unassigned",
      "priority": "MEDIUM",
      "preconditions": [],
      "required_inputs": [],
      "required_actions": [
        "Implement WBS item 4.1: Closeout with drift assessment."
      ],
      "required_outputs": [],
      "validation_checks": [
        "Implementation aligns with packet scope",
        "Evidence path included in packet notes"
      ],
      "exit_criteria": [
        "Packet marked done with evidence references"
      ],
      "halt_conditions": [
        "Required dependencies unresolved",
        "Evidence missing for completion claim"
      ],
      "authority": "Repository packet governance",
      "type": "WBS_PACKET",
      "references": []
    },
    {
      "id": "RSK-5-1",
      "wbs_ref": "5.1",
      "area_id": "5.0",
      "title": "Define residual risk register schema and runtime storage",
      "scope": "Create .governance/residual-risk-register.json contract and supporting validation/storage rules. Define normalized enums for likelihood/impact/confidence/status and ensure runtime-artifact handling aligns with template hygiene controls.",
      "wbs_l3_ref": "5.1",
      "packet_id": "RSK-5-1",
      "wbs_refs": [
        "5.1"
      ],
      "purpose": "Deliver Define residual risk register schema and runtime storage.",
      "status": "PENDING",
      "owner": "unassigned",
      "priority": "HIGH",
      "preconditions": [],
      "required_inputs": [],
      "required_actions": [
        "Create .governance/residual-risk-register.json contract and supporting validation/storage rules. Define normalized enums for likelihood/impact/confidence/status and ensure runtime-artifact handling aligns with template hygiene controls."
      ],
      "required_outputs": [],
      "validation_checks": [
        "Implementation aligns with packet scope",
        "Evidence path included in packet notes"
      ],
      "exit_criteria": [
        "Packet marked done with evidence references"
      ],
      "halt_conditions": [
        "Required dependencies unresolved",
        "Evidence missing for completion claim"
      ],
      "authority": "Repository packet governance",
      "type": "WBS_PACKET",
      "references": []
    },
    {
      "id": "RSK-5-2",
      "wbs_ref": "5.2",
      "area_id": "5.0",
      "title": "Require risk acknowledgement at packet closure",
      "scope": "Integrate residual risk acknowledgement into done workflow with non-interactive flags (for example --risk none or --risk-file path). Enforce explicit acknowledgement without forcing interactive prompts, and persist audit-ready event metadata.",
      "wbs_l3_ref": "5.2",
      "packet_id": "RSK-5-2",
      "wbs_refs": [
        "5.2"
      ],
      "purpose": "Deliver Require risk acknowledgement at packet closure.",
      "status": "PENDING",
      "owner": "unassigned",
      "priority": "HIGH",
      "preconditions": [],
      "required_inputs": [],
      "required_actions": [
        "Integrate residual risk acknowledgement into done workflow with non-interactive flags (for example --risk none or --risk-file path). Enforce explicit acknowledgement without forcing interactive prompts, and persist audit-ready event metadata."
      ],
      "required_outputs": [],
      "validation_checks": [
        "Implementation aligns with packet scope",
        "Evidence path included in packet notes"
      ],
      "exit_criteria": [
        "Packet marked done with evidence references"
      ],
      "halt_conditions": [
        "Required dependencies unresolved",
        "Evidence missing for completion claim"
      ],
      "authority": "Repository packet governance",
      "type": "WBS_PACKET",
      "references": []
    },
    {
      "id": "RSK-5-3",
      "wbs_ref": "5.3",
      "area_id": "5.0",
      "title": "Implement residual risk CLI lifecycle commands",
      "scope": "Add CLI commands to create, list, inspect, and transition residual risks (open, mitigated, accepted, transferred) including packet-linked filtering and actor/timestamp capture.",
      "wbs_l3_ref": "5.3",
      "packet_id": "RSK-5-3",
      "wbs_refs": [
        "5.3"
      ],
      "purpose": "Deliver Implement residual risk CLI lifecycle commands.",
      "status": "PENDING",
      "owner": "unassigned",
      "priority": "HIGH",
      "preconditions": [],
      "required_inputs": [],
      "required_actions": [
        "Add CLI commands to create, list, inspect, and transition residual risks (open, mitigated, accepted, transferred) including packet-linked filtering and actor/timestamp capture."
      ],
      "required_outputs": [],
      "validation_checks": [
        "Implementation aligns with packet scope",
        "Evidence path included in packet notes"
      ],
      "exit_criteria": [
        "Packet marked done with evidence references"
      ],
      "halt_conditions": [
        "Required dependencies unresolved",
        "Evidence missing for completion claim"
      ],
      "authority": "Repository packet governance",
      "type": "WBS_PACKET",
      "references": []
    },
    {
      "id": "RSK-5-4",
      "wbs_ref": "5.4",
      "area_id": "5.0",
      "title": "Add residual risk reporting and governance documentation",
      "scope": "Add risk summary/report outputs and document operational policy: ownership, evidence expectations, deduplication approach, and relationship to closeout-l2 drift assessments.",
      "wbs_l3_ref": "5.4",
      "packet_id": "RSK-5-4",
      "wbs_refs": [
        "5.4"
      ],
      "purpose": "Deliver Add residual risk reporting and governance documentation.",
      "status": "PENDING",
      "owner": "unassigned",
      "priority": "HIGH",
      "preconditions": [],
      "required_inputs": [],
      "required_actions": [
        "Add risk summary/report outputs and document operational policy: ownership, evidence expectations, deduplication approach, and relationship to closeout-l2 drift assessments."
      ],
      "required_outputs": [],
      "validation_checks": [
        "Implementation aligns with packet scope",
        "Evidence path included in packet notes"
      ],
      "exit_criteria": [
        "Packet marked done with evidence references"
      ],
      "halt_conditions": [
        "Required dependencies unresolved",
        "Evidence missing for completion claim"
      ],
      "authority": "Repository packet governance",
      "type": "WBS_PACKET",
      "references": []
    },
    {
      "id": "RSK-5-5",
      "wbs_ref": "5.5",
      "area_id": "5.0",
      "title": "Validate rollout and optional git-governance linkage",
      "scope": "Deliver tests and end-to-end validation for residual risk flows, plus optional git-native audit linkage for risk declarations. Publish a rollout/readiness note with residual implementation risks and next steps.",
      "wbs_l3_ref": "5.5",
      "packet_id": "RSK-5-5",
      "wbs_refs": [
        "5.5"
      ],
      "purpose": "Deliver Validate rollout and optional git-governance linkage.",
      "status": "PENDING",
      "owner": "unassigned",
      "priority": "HIGH",
      "preconditions": [],
      "required_inputs": [],
      "required_actions": [
        "Deliver tests and end-to-end validation for residual risk flows, plus optional git-native audit linkage for risk declarations. Publish a rollout/readiness note with residual implementation risks and next steps."
      ],
      "required_outputs": [],
      "validation_checks": [
        "Implementation aligns with packet scope",
        "Evidence path included in packet notes"
      ],
      "exit_criteria": [
        "Packet marked done with evidence references"
      ],
      "halt_conditions": [
        "Required dependencies unresolved",
        "Evidence missing for completion claim"
      ],
      "authority": "Repository packet governance",
      "type": "WBS_PACKET",
      "references": []
    },
    {
      "id": "E2E-6-1",
      "wbs_ref": "6.1",
      "area_id": "6.0",
      "title": "Define E2E run contract + writer",
      "scope": "Define substrate/.governance/e2e-runs.json schema and implement runner/writer script that records run metadata, status, summary, failures, and artifact paths.",
      "wbs_l3_ref": "6.1",
      "packet_id": "E2E-6-1",
      "wbs_refs": [
        "6.1"
      ],
      "purpose": "Deliver Define E2E run contract + writer.",
      "status": "PENDING",
      "owner": "unassigned",
      "priority": "HIGH",
      "preconditions": [],
      "required_inputs": [
        "Existing WBS dashboard and governance CLI/server codebase",
        "Current e2e and quality gate scripts under substrate/scripts/"
      ],
      "required_actions": [
        "Define substrate/.governance/e2e-runs.json schema and implement runner/writer script that records run metadata, status, summary, failures, and artifact paths."
      ],
      "required_outputs": [],
      "validation_checks": [
        "Implementation aligns with packet scope",
        "Tests or smoke checks executed for impacted behavior",
        "Evidence paths included in completion notes"
      ],
      "exit_criteria": [
        "Packet marked done with concrete evidence and validation results"
      ],
      "halt_conditions": [
        "Required dependencies unresolved",
        "Contract-breaking change detected without remediation plan"
      ],
      "authority": "Repository packet governance",
      "type": "WBS_PACKET",
      "references": []
    },
    {
      "id": "E2E-6-2",
      "wbs_ref": "6.2",
      "area_id": "6.0",
      "title": "Add E2E API endpoints",
      "scope": "Implement read-only API routes in substrate/.governance/wbs_server.py for listing runs and retrieving run details/findings from e2e-runs store.",
      "wbs_l3_ref": "6.2",
      "packet_id": "E2E-6-2",
      "wbs_refs": [
        "6.2"
      ],
      "purpose": "Deliver Add E2E API endpoints.",
      "status": "PENDING",
      "owner": "unassigned",
      "priority": "HIGH",
      "preconditions": [],
      "required_inputs": [
        "Existing WBS dashboard and governance CLI/server codebase",
        "Current e2e and quality gate scripts under substrate/scripts/"
      ],
      "required_actions": [
        "Implement read-only API routes in substrate/.governance/wbs_server.py for listing runs and retrieving run details/findings from e2e-runs store."
      ],
      "required_outputs": [],
      "validation_checks": [
        "Implementation aligns with packet scope",
        "Tests or smoke checks executed for impacted behavior",
        "Evidence paths included in completion notes"
      ],
      "exit_criteria": [
        "Packet marked done with concrete evidence and validation results"
      ],
      "halt_conditions": [
        "Required dependencies unresolved",
        "Contract-breaking change detected without remediation plan"
      ],
      "authority": "Repository packet governance",
      "type": "WBS_PACKET",
      "references": []
    },
    {
      "id": "E2E-6-3",
      "wbs_ref": "6.3",
      "area_id": "6.0",
      "title": "Render E2E runs in viewer",
      "scope": "Add dashboard UI section/tab showing E2E run history, status counts, failure findings, and artifact/log references.",
      "wbs_l3_ref": "6.3",
      "packet_id": "E2E-6-3",
      "wbs_refs": [
        "6.3"
      ],
      "purpose": "Deliver Render E2E runs in viewer.",
      "status": "PENDING",
      "owner": "unassigned",
      "priority": "HIGH",
      "preconditions": [],
      "required_inputs": [
        "Existing WBS dashboard and governance CLI/server codebase",
        "Current e2e and quality gate scripts under substrate/scripts/"
      ],
      "required_actions": [
        "Add dashboard UI section/tab showing E2E run history, status counts, failure findings, and artifact/log references."
      ],
      "required_outputs": [],
      "validation_checks": [
        "Implementation aligns with packet scope",
        "Tests or smoke checks executed for impacted behavior",
        "Evidence paths included in completion notes"
      ],
      "exit_criteria": [
        "Packet marked done with concrete evidence and validation results"
      ],
      "halt_conditions": [
        "Required dependencies unresolved",
        "Contract-breaking change detected without remediation plan"
      ],
      "authority": "Repository packet governance",
      "type": "WBS_PACKET",
      "references": []
    },
    {
      "id": "E2E-6-4",
      "wbs_ref": "6.4",
      "area_id": "6.0",
      "title": "Integrate E2E runner with CI/local workflows",
      "scope": "Wire e2e runner script into CI/local execution path and ensure normalized outputs are persisted for viewer consumption.",
      "wbs_l3_ref": "6.4",
      "packet_id": "E2E-6-4",
      "wbs_refs": [
        "6.4"
      ],
      "purpose": "Deliver Integrate E2E runner with CI/local workflows.",
      "status": "PENDING",
      "owner": "unassigned",
      "priority": "HIGH",
      "preconditions": [],
      "required_inputs": [
        "Existing WBS dashboard and governance CLI/server codebase",
        "Current e2e and quality gate scripts under substrate/scripts/"
      ],
      "required_actions": [
        "Wire e2e runner script into CI/local execution path and ensure normalized outputs are persisted for viewer consumption."
      ],
      "required_outputs": [],
      "validation_checks": [
        "Implementation aligns with packet scope",
        "Tests or smoke checks executed for impacted behavior",
        "Evidence paths included in completion notes"
      ],
      "exit_criteria": [
        "Packet marked done with concrete evidence and validation results"
      ],
      "halt_conditions": [
        "Required dependencies unresolved",
        "Contract-breaking change detected without remediation plan"
      ],
      "authority": "Repository packet governance",
      "type": "WBS_PACKET",
      "references": []
    },
    {
      "id": "E2E-6-5",
      "wbs_ref": "6.5",
      "area_id": "6.0",
      "title": "Validate and document E2E viewer capability",
      "scope": "Add tests and operator docs covering data contract, API routes, UI behavior, and end-to-end evidence flow in WBS governance workflows.",
      "wbs_l3_ref": "6.5",
      "packet_id": "E2E-6-5",
      "wbs_refs": [
        "6.5"
      ],
      "purpose": "Deliver Validate and document E2E viewer capability.",
      "status": "PENDING",
      "owner": "unassigned",
      "priority": "HIGH",
      "preconditions": [],
      "required_inputs": [
        "Existing WBS dashboard and governance CLI/server codebase",
        "Current e2e and quality gate scripts under substrate/scripts/"
      ],
      "required_actions": [
        "Add tests and operator docs covering data contract, API routes, UI behavior, and end-to-end evidence flow in WBS governance workflows."
      ],
      "required_outputs": [],
      "validation_checks": [
        "Implementation aligns with packet scope",
        "Tests or smoke checks executed for impacted behavior",
        "Evidence paths included in completion notes"
      ],
      "exit_criteria": [
        "Packet marked done with concrete evidence and validation results"
      ],
      "halt_conditions": [
        "Required dependencies unresolved",
        "Contract-breaking change detected without remediation plan"
      ],
      "authority": "Repository packet governance",
      "type": "WBS_PACKET",
      "references": []
    },
    {
      "id": "BF-7-1",
      "wbs_ref": "7.1",
      "area_id": "7.0",
      "title": "Define break-fix schema + runtime store",
      "scope": "Define substrate/.governance/break-fix-log.json schema and runtime store contract including lifecycle states, severity, ownership, timestamps, evidence, and packet linkage fields.",
      "wbs_l3_ref": "7.1",
      "packet_id": "BF-7-1",
      "wbs_refs": [
        "7.1"
      ],
      "purpose": "Deliver Define break-fix schema + runtime store.",
      "status": "PENDING",
      "owner": "unassigned",
      "priority": "HIGH",
      "preconditions": [],
      "required_inputs": [
        "Current governance CLI/server/dashboard implementation",
        "Existing WBS packet lifecycle and reporting model"
      ],
      "required_actions": [
        "Define substrate/.governance/break-fix-log.json schema and runtime store contract including lifecycle states, severity, ownership, timestamps, evidence, and packet linkage fields."
      ],
      "required_outputs": [],
      "validation_checks": [
        "Implementation aligns with packet scope",
        "Tests or smoke checks executed for impacted behavior",
        "Evidence paths included in completion notes"
      ],
      "exit_criteria": [
        "Packet marked done with concrete evidence and validation results"
      ],
      "halt_conditions": [
        "Required dependencies unresolved",
        "Contract-breaking change detected without remediation plan"
      ],
      "authority": "Repository packet governance",
      "type": "WBS_PACKET",
      "references": []
    },
    {
      "id": "BF-7-2",
      "wbs_ref": "7.2",
      "area_id": "7.0",
      "title": "Implement break-fix CLI lifecycle",
      "scope": "Add CLI commands for break-fix open/start/resolve/reject/note/list/show with transition rules and required evidence validation on resolve.",
      "wbs_l3_ref": "7.2",
      "packet_id": "BF-7-2",
      "wbs_refs": [
        "7.2"
      ],
      "purpose": "Deliver Implement break-fix CLI lifecycle.",
      "status": "PENDING",
      "owner": "unassigned",
      "priority": "HIGH",
      "preconditions": [],
      "required_inputs": [
        "Current governance CLI/server/dashboard implementation",
        "Existing WBS packet lifecycle and reporting model"
      ],
      "required_actions": [
        "Add CLI commands for break-fix open/start/resolve/reject/note/list/show with transition rules and required evidence validation on resolve."
      ],
      "required_outputs": [],
      "validation_checks": [
        "Implementation aligns with packet scope",
        "Tests or smoke checks executed for impacted behavior",
        "Evidence paths included in completion notes"
      ],
      "exit_criteria": [
        "Packet marked done with concrete evidence and validation results"
      ],
      "halt_conditions": [
        "Required dependencies unresolved",
        "Contract-breaking change detected without remediation plan"
      ],
      "authority": "Repository packet governance",
      "type": "WBS_PACKET",
      "references": []
    },
    {
      "id": "BF-7-3",
      "wbs_ref": "7.3",
      "area_id": "7.0",
      "title": "Expose break-fix API endpoints",
      "scope": "Add read/write API routes for break-fix records and transitions in substrate/.governance/wbs_server.py with validation and consistent error semantics.",
      "wbs_l3_ref": "7.3",
      "packet_id": "BF-7-3",
      "wbs_refs": [
        "7.3"
      ],
      "purpose": "Deliver Expose break-fix API endpoints.",
      "status": "PENDING",
      "owner": "unassigned",
      "priority": "HIGH",
      "preconditions": [],
      "required_inputs": [
        "Current governance CLI/server/dashboard implementation",
        "Existing WBS packet lifecycle and reporting model"
      ],
      "required_actions": [
        "Add read/write API routes for break-fix records and transitions in substrate/.governance/wbs_server.py with validation and consistent error semantics."
      ],
      "required_outputs": [],
      "validation_checks": [
        "Implementation aligns with packet scope",
        "Tests or smoke checks executed for impacted behavior",
        "Evidence paths included in completion notes"
      ],
      "exit_criteria": [
        "Packet marked done with concrete evidence and validation results"
      ],
      "halt_conditions": [
        "Required dependencies unresolved",
        "Contract-breaking change detected without remediation plan"
      ],
      "authority": "Repository packet governance",
      "type": "WBS_PACKET",
      "references": []
    },
    {
      "id": "BF-7-4",
      "wbs_ref": "7.4",
      "area_id": "7.0",
      "title": "Add viewer break-fix panel",
      "scope": "Add dashboard UI panel/modal for break-fix queue, filters, lifecycle actions, linked packet visibility, and evidence/finding details.",
      "wbs_l3_ref": "7.4",
      "packet_id": "BF-7-4",
      "wbs_refs": [
        "7.4"
      ],
      "purpose": "Deliver Add viewer break-fix panel.",
      "status": "PENDING",
      "owner": "unassigned",
      "priority": "HIGH",
      "preconditions": [],
      "required_inputs": [
        "Current governance CLI/server/dashboard implementation",
        "Existing WBS packet lifecycle and reporting model"
      ],
      "required_actions": [
        "Add dashboard UI panel/modal for break-fix queue, filters, lifecycle actions, linked packet visibility, and evidence/finding details."
      ],
      "required_outputs": [],
      "validation_checks": [
        "Implementation aligns with packet scope",
        "Tests or smoke checks executed for impacted behavior",
        "Evidence paths included in completion notes"
      ],
      "exit_criteria": [
        "Packet marked done with concrete evidence and validation results"
      ],
      "halt_conditions": [
        "Required dependencies unresolved",
        "Contract-breaking change detected without remediation plan"
      ],
      "authority": "Repository packet governance",
      "type": "WBS_PACKET",
      "references": []
    },
    {
      "id": "BF-7-5",
      "wbs_ref": "7.5",
      "area_id": "7.0",
      "title": "Integrate break-fix into completion/reporting",
      "scope": "Integrate break-fix status into governance reporting/export and packet completion visibility so unresolved items are surfaced clearly in delivery workflows.",
      "wbs_l3_ref": "7.5",
      "packet_id": "BF-7-5",
      "wbs_refs": [
        "7.5"
      ],
      "purpose": "Deliver Integrate break-fix into completion/reporting.",
      "status": "PENDING",
      "owner": "unassigned",
      "priority": "HIGH",
      "preconditions": [],
      "required_inputs": [
        "Current governance CLI/server/dashboard implementation",
        "Existing WBS packet lifecycle and reporting model"
      ],
      "required_actions": [
        "Integrate break-fix status into governance reporting/export and packet completion visibility so unresolved items are surfaced clearly in delivery workflows."
      ],
      "required_outputs": [],
      "validation_checks": [
        "Implementation aligns with packet scope",
        "Tests or smoke checks executed for impacted behavior",
        "Evidence paths included in completion notes"
      ],
      "exit_criteria": [
        "Packet marked done with concrete evidence and validation results"
      ],
      "halt_conditions": [
        "Required dependencies unresolved",
        "Contract-breaking change detected without remediation plan"
      ],
      "authority": "Repository packet governance",
      "type": "WBS_PACKET",
      "references": []
    },
    {
      "id": "BF-7-6",
      "wbs_ref": "7.6",
      "area_id": "7.0",
      "title": "Validate and document break-fix mode",
      "scope": "Add tests and operator docs for break-fix schema, transitions, API/UI behavior, reporting integration, and evidence chain expectations.",
      "wbs_l3_ref": "7.6",
      "packet_id": "BF-7-6",
      "wbs_refs": [
        "7.6"
      ],
      "purpose": "Deliver Validate and document break-fix mode.",
      "status": "PENDING",
      "owner": "unassigned",
      "priority": "HIGH",
      "preconditions": [],
      "required_inputs": [
        "Current governance CLI/server/dashboard implementation",
        "Existing WBS packet lifecycle and reporting model"
      ],
      "required_actions": [
        "Add tests and operator docs for break-fix schema, transitions, API/UI behavior, reporting integration, and evidence chain expectations."
      ],
      "required_outputs": [],
      "validation_checks": [
        "Implementation aligns with packet scope",
        "Tests or smoke checks executed for impacted behavior",
        "Evidence paths included in completion notes"
      ],
      "exit_criteria": [
        "Packet marked done with concrete evidence and validation results"
      ],
      "halt_conditions": [
        "Required dependencies unresolved",
        "Contract-breaking change detected without remediation plan"
      ],
      "authority": "Repository packet governance",
      "type": "WBS_PACKET",
      "references": []
    },
    {
      "id": "OPT-12-1",
      "wbs_ref": "8.1",
      "area_id": "12.0",
      "title": "Add checklist gate for done",
      "scope": "Add optional done checklist validation via --checklist flag without changing default done behavior.",
      "wbs_l3_ref": "8.1",
      "packet_id": "OPT-12-1",
      "wbs_refs": [
        "8.1"
      ],
      "purpose": "Deliver Add checklist gate for done.",
      "status": "PENDING",
      "owner": "unassigned",
      "priority": "MEDIUM",
      "preconditions": [],
      "required_inputs": [
        "Current governance CLI/state workflow",
        "Existing packet lifecycle and reporting behaviors"
      ],
      "required_actions": [
        "Add optional done checklist validation via --checklist flag without changing default done behavior."
      ],
      "required_outputs": [],
      "validation_checks": [
        "Implementation aligns with packet scope",
        "Tests or smoke checks executed for impacted behavior",
        "Evidence paths included in completion notes"
      ],
      "exit_criteria": [
        "Packet marked done with concrete evidence and validation results"
      ],
      "halt_conditions": [
        "Required dependencies unresolved",
        "Contract-breaking change detected without remediation plan"
      ],
      "authority": "Repository packet governance",
      "type": "WBS_PACKET",
      "references": []
    },
    {
      "id": "OPT-12-2",
      "wbs_ref": "8.2",
      "area_id": "12.0",
      "title": "Add delivery-report command",
      "scope": "Add delivery-report command to emit full delivery report format for scope/area/packet.",
      "wbs_l3_ref": "8.2",
      "packet_id": "OPT-12-2",
      "wbs_refs": [
        "8.2"
      ],
      "purpose": "Deliver Add delivery-report command.",
      "status": "PENDING",
      "owner": "unassigned",
      "priority": "MEDIUM",
      "preconditions": [],
      "required_inputs": [
        "Current governance CLI/state workflow",
        "Existing packet lifecycle and reporting behaviors"
      ],
      "required_actions": [
        "Add delivery-report command to emit full delivery report format for scope/area/packet."
      ],
      "required_outputs": [],
      "validation_checks": [
        "Implementation aligns with packet scope",
        "Tests or smoke checks executed for impacted behavior",
        "Evidence paths included in completion notes"
      ],
      "exit_criteria": [
        "Packet marked done with concrete evidence and validation results"
      ],
      "halt_conditions": [
        "Required dependencies unresolved",
        "Contract-breaking change detected without remediation plan"
      ],
      "authority": "Repository packet governance",
      "type": "WBS_PACKET",
      "references": []
    },
    {
      "id": "OPT-12-3",
      "wbs_ref": "8.3",
      "area_id": "12.0",
      "title": "Enhance stale watchdog",
      "scope": "Add stale severity bands and recommended next actions.",
      "wbs_l3_ref": "8.3",
      "packet_id": "OPT-12-3",
      "wbs_refs": [
        "8.3"
      ],
      "purpose": "Deliver Enhance stale watchdog.",
      "status": "PENDING",
      "owner": "unassigned",
      "priority": "MEDIUM",
      "preconditions": [],
      "required_inputs": [
        "Current governance CLI/state workflow",
        "Existing packet lifecycle and reporting behaviors"
      ],
      "required_actions": [
        "Add stale severity bands and recommended next actions."
      ],
      "required_outputs": [],
      "validation_checks": [
        "Implementation aligns with packet scope",
        "Tests or smoke checks executed for impacted behavior",
        "Evidence paths included in completion notes"
      ],
      "exit_criteria": [
        "Packet marked done with concrete evidence and validation results"
      ],
      "halt_conditions": [
        "Required dependencies unresolved",
        "Contract-breaking change detected without remediation plan"
      ],
      "authority": "Repository packet governance",
      "type": "WBS_PACKET",
      "references": []
    },
    {
      "id": "OPT-12-4",
      "wbs_ref": "8.4",
      "area_id": "12.0",
      "title": "Add packet presets",
      "scope": "Add optional packet preset templates for add-packet flow.",
      "wbs_l3_ref": "8.4",
      "packet_id": "OPT-12-4",
      "wbs_refs": [
        "8.4"
      ],
      "purpose": "Deliver Add packet presets.",
      "status": "PENDING",
      "owner": "unassigned",
      "priority": "MEDIUM",
      "preconditions": [],
      "required_inputs": [
        "Current governance CLI/state workflow",
        "Existing packet lifecycle and reporting behaviors"
      ],
      "required_actions": [
        "Add optional packet preset templates for add-packet flow."
      ],
      "required_outputs": [],
      "validation_checks": [
        "Implementation aligns with packet scope",
        "Tests or smoke checks executed for impacted behavior",
        "Evidence paths included in completion notes"
      ],
      "exit_criteria": [
        "Packet marked done with concrete evidence and validation results"
      ],
      "halt_conditions": [
        "Required dependencies unresolved",
        "Contract-breaking change detected without remediation plan"
      ],
      "authority": "Repository packet governance",
      "type": "WBS_PACKET",
      "references": []
    },
    {
      "id": "OPT-12-5",
      "wbs_ref": "8.5",
      "area_id": "12.0",
      "title": "Add evidence verifier",
      "scope": "Add optional evidence path verification for done command.",
      "wbs_l3_ref": "8.5",
      "packet_id": "OPT-12-5",
      "wbs_refs": [
        "8.5"
      ],
      "purpose": "Deliver Add evidence verifier.",
      "status": "PENDING",
      "owner": "unassigned",
      "priority": "MEDIUM",
      "preconditions": [],
      "required_inputs": [
        "Current governance CLI/state workflow",
        "Existing packet lifecycle and reporting behaviors"
      ],
      "required_actions": [
        "Add optional evidence path verification for done command."
      ],
      "required_outputs": [],
      "validation_checks": [
        "Implementation aligns with packet scope",
        "Tests or smoke checks executed for impacted behavior",
        "Evidence paths included in completion notes"
      ],
      "exit_criteria": [
        "Packet marked done with concrete evidence and validation results"
      ],
      "halt_conditions": [
        "Required dependencies unresolved",
        "Contract-breaking change detected without remediation plan"
      ],
      "authority": "Repository packet governance",
      "type": "WBS_PACKET",
      "references": []
    },
    {
      "id": "OPT-12-6",
      "wbs_ref": "8.6",
      "area_id": "12.0",
      "title": "Add WBS diff explainer",
      "scope": "Add command to summarize structural differences between two WBS files.",
      "wbs_l3_ref": "8.6",
      "packet_id": "OPT-12-6",
      "wbs_refs": [
        "8.6"
      ],
      "purpose": "Deliver Add WBS diff explainer.",
      "status": "PENDING",
      "owner": "unassigned",
      "priority": "MEDIUM",
      "preconditions": [],
      "required_inputs": [
        "Current governance CLI/state workflow",
        "Existing packet lifecycle and reporting behaviors"
      ],
      "required_actions": [
        "Add command to summarize structural differences between two WBS files."
      ],
      "required_outputs": [],
      "validation_checks": [
        "Implementation aligns with packet scope",
        "Tests or smoke checks executed for impacted behavior",
        "Evidence paths included in completion notes"
      ],
      "exit_criteria": [
        "Packet marked done with concrete evidence and validation results"
      ],
      "halt_conditions": [
        "Required dependencies unresolved",
        "Contract-breaking change detected without remediation plan"
      ],
      "authority": "Repository packet governance",
      "type": "WBS_PACKET",
      "references": []
    },
    {
      "id": "OPT-12-7",
      "wbs_ref": "8.7",
      "area_id": "12.0",
      "title": "Add mode profiles",
      "scope": "Add optional speed/balanced/strict profile toggles to configure defaults.",
      "wbs_l3_ref": "8.7",
      "packet_id": "OPT-12-7",
      "wbs_refs": [
        "8.7"
      ],
      "purpose": "Deliver Add mode profiles.",
      "status": "PENDING",
      "owner": "unassigned",
      "priority": "MEDIUM",
      "preconditions": [],
      "required_inputs": [
        "Current governance CLI/state workflow",
        "Existing packet lifecycle and reporting behaviors"
      ],
      "required_actions": [
        "Add optional speed/balanced/strict profile toggles to configure defaults."
      ],
      "required_outputs": [],
      "validation_checks": [
        "Implementation aligns with packet scope",
        "Tests or smoke checks executed for impacted behavior",
        "Evidence paths included in completion notes"
      ],
      "exit_criteria": [
        "Packet marked done with concrete evidence and validation results"
      ],
      "halt_conditions": [
        "Required dependencies unresolved",
        "Contract-breaking change detected without remediation plan"
      ],
      "authority": "Repository packet governance",
      "type": "WBS_PACKET",
      "references": []
    },
    {
      "id": "OPT-12-8",
      "wbs_ref": "8.8",
      "area_id": "12.0",
      "title": "Add closeout readiness score",
      "scope": "Add closeout-readiness command to score area readiness and identify blockers.",
      "wbs_l3_ref": "8.8",
      "packet_id": "OPT-12-8",
      "wbs_refs": [
        "8.8"
      ],
      "purpose": "Deliver Add closeout readiness score.",
      "status": "PENDING",
      "owner": "unassigned",
      "priority": "MEDIUM",
      "preconditions": [],
      "required_inputs": [
        "Current governance CLI/state workflow",
        "Existing packet lifecycle and reporting behaviors"
      ],
      "required_actions": [
        "Add closeout-readiness command to score area readiness and identify blockers."
      ],
      "required_outputs": [],
      "validation_checks": [
        "Implementation aligns with packet scope",
        "Tests or smoke checks executed for impacted behavior",
        "Evidence paths included in completion notes"
      ],
      "exit_criteria": [
        "Packet marked done with concrete evidence and validation results"
      ],
      "halt_conditions": [
        "Required dependencies unresolved",
        "Contract-breaking change detected without remediation plan"
      ],
      "authority": "Repository packet governance",
      "type": "WBS_PACKET",
      "references": []
    },
    {
      "id": "GOV-13-1",
      "packet_id": "GOV-13-1",
      "wbs_ref": "13.1",
      "wbs_l3_ref": "13.1",
      "wbs_refs": [
        "13.1"
      ],
      "area_id": "13.0",
      "title": "Design mutation-control contract",
      "scope": "Define authoritative mutation policy for WBS artifacts: allowed commands, approval token format, commit trailer rules, and rejection conditions. Output: substrate/docs/codex-migration/wbs-mutation-policy.md",
      "purpose": "Deliver Design mutation-control contract.",
      "status": "PENDING",
      "owner": "unassigned",
      "priority": "HIGH",
      "preconditions": [],
      "required_inputs": [
        "Current WBS governance model and mutation patterns",
        "Git commit protocol requirements"
      ],
      "required_actions": [
        "Define authoritative mutation policy for WBS artifacts: allowed commands, approval token format, commit trailer rules, and rejection conditions",
        "Document policy in substrate/docs/codex-migration/wbs-mutation-policy.md"
      ],
      "required_outputs": [
        "substrate/docs/codex-migration/wbs-mutation-policy.md"
      ],
      "validation_checks": [
        "Implementation aligns with packet scope",
        "Tests or smoke checks executed for impacted behavior",
        "Evidence paths included in completion notes"
      ],
      "exit_criteria": [
        "Packet marked done with concrete evidence and validation results"
      ],
      "halt_conditions": [
        "Required dependencies unresolved",
        "Contract-breaking change detected without remediation plan"
      ],
      "authority": "Repository packet governance",
      "type": "WBS_PACKET",
      "references": []
    },
    {
      "id": "GOV-13-2",
      "packet_id": "GOV-13-2",
      "wbs_ref": "13.2",
      "wbs_l3_ref": "13.2",
      "wbs_refs": [
        "13.2"
      ],
      "area_id": "13.0",
      "title": "Implement WBS mutation guard",
      "scope": "Implement guard that blocks direct writes/replacements of active WBS without explicit approval signal; enforce in CLI pathways and add defensive checks in helper scripts. Output: guarded mutation logic + tests.",
      "purpose": "Deliver Implement WBS mutation guard.",
      "status": "PENDING",
      "owner": "unassigned",
      "priority": "HIGH",
      "preconditions": [],
      "required_inputs": [
        "Mutation policy from GOV-13-1",
        "Current CLI command pathways",
        "Helper scripts that modify WBS"
      ],
      "required_actions": [
        "Implement guard that blocks direct writes/replacements of active WBS without explicit approval signal",
        "Enforce in CLI pathways",
        "Add defensive checks in helper scripts",
        "Create tests for guarded mutation logic"
      ],
      "required_outputs": [
        "Guarded mutation logic implementation",
        "Tests validating mutation guard behavior"
      ],
      "validation_checks": [
        "Implementation aligns with packet scope",
        "Tests or smoke checks executed for impacted behavior",
        "Evidence paths included in completion notes"
      ],
      "exit_criteria": [
        "Packet marked done with concrete evidence and validation results"
      ],
      "halt_conditions": [
        "Required dependencies unresolved",
        "Contract-breaking change detected without remediation plan"
      ],
      "authority": "Repository packet governance",
      "type": "WBS_PACKET",
      "references": []
    },
    {
      "id": "GOV-13-3",
      "packet_id": "GOV-13-3",
      "wbs_ref": "13.3",
      "wbs_l3_ref": "13.3",
      "wbs_refs": [
        "13.3"
      ],
      "area_id": "13.0",
      "title": "Enforce git governance for WBS changes",
      "scope": "Add pre-commit/commit-protocol enforcement so commits touching WBS/governance files require WBS change approval trailer and policy-compliant metadata. Output: hook/config + docs + tests.",
      "purpose": "Deliver Enforce git governance for WBS changes.",
      "status": "PENDING",
      "owner": "unassigned",
      "priority": "HIGH",
      "preconditions": [],
      "required_inputs": [
        "Mutation policy from GOV-13-1",
        "Existing pre-commit hooks configuration",
        "Git commit protocol requirements"
      ],
      "required_actions": [
        "Add pre-commit/commit-protocol enforcement for commits touching WBS/governance files",
        "Require WBS change approval trailer and policy-compliant metadata",
        "Create hook configuration",
        "Document enforcement approach",
        "Create tests validating git governance"
      ],
      "required_outputs": [
        "Pre-commit hook configuration",
        "Documentation for git governance enforcement",
        "Tests validating enforcement behavior"
      ],
      "validation_checks": [
        "Implementation aligns with packet scope",
        "Tests or smoke checks executed for impacted behavior",
        "Evidence paths included in completion notes"
      ],
      "exit_criteria": [
        "Packet marked done with concrete evidence and validation results"
      ],
      "halt_conditions": [
        "Required dependencies unresolved",
        "Contract-breaking change detected without remediation plan"
      ],
      "authority": "Repository packet governance",
      "type": "WBS_PACKET",
      "references": []
    },
    {
      "id": "GOV-13-4",
      "packet_id": "GOV-13-4",
      "wbs_ref": "13.4",
      "wbs_l3_ref": "13.4",
      "wbs_refs": [
        "13.4"
      ],
      "area_id": "13.0",
      "title": "Add draft/apply WBS workflow",
      "scope": "Introduce draft WBS path and explicit apply command so agents can propose changes without mutating active WBS until approved apply step. Output: CLI commands + state/log entries + tests.",
      "purpose": "Deliver Add draft/apply WBS workflow.",
      "status": "PENDING",
      "owner": "unassigned",
      "priority": "HIGH",
      "preconditions": [],
      "required_inputs": [
        "Mutation guard implementation from GOV-13-2",
        "Current CLI command structure",
        "WBS state management model"
      ],
      "required_actions": [
        "Introduce draft WBS path for proposed changes",
        "Implement explicit apply command for activating draft WBS",
        "Add state/log entries tracking draft workflow",
        "Create CLI commands for draft management",
        "Create tests validating draft/apply workflow"
      ],
      "required_outputs": [
        "CLI commands for draft/apply workflow",
        "State/log entries for draft tracking",
        "Tests validating draft/apply behavior"
      ],
      "validation_checks": [
        "Implementation aligns with packet scope",
        "Tests or smoke checks executed for impacted behavior",
        "Evidence paths included in completion notes"
      ],
      "exit_criteria": [
        "Packet marked done with concrete evidence and validation results"
      ],
      "halt_conditions": [
        "Required dependencies unresolved",
        "Contract-breaking change detected without remediation plan"
      ],
      "authority": "Repository packet governance",
      "type": "WBS_PACKET",
      "references": []
    },
    {
      "id": "GOV-13-5",
      "packet_id": "GOV-13-5",
      "wbs_ref": "13.5",
      "wbs_l3_ref": "13.5",
      "wbs_refs": [
        "13.5"
      ],
      "area_id": "13.0",
      "title": "Introduce project-scoped governance model",
      "scope": "Define project abstraction above WBS and project-aware path layout (projects/<id>/wbs.json, wbs-state.json, artifacts). Include current-project pointer and compatibility strategy. Output: design doc + schema/path updates.",
      "purpose": "Deliver Introduce project-scoped governance model.",
      "status": "PENDING",
      "owner": "unassigned",
      "priority": "HIGH",
      "preconditions": [],
      "required_inputs": [
        "Mutation policy from GOV-13-1",
        "Current governance path structure",
        "Existing WBS and state file patterns"
      ],
      "required_actions": [
        "Define project abstraction above WBS",
        "Design project-aware path layout (projects/<id>/wbs.json, wbs-state.json, artifacts)",
        "Define current-project pointer mechanism",
        "Design compatibility strategy for migration",
        "Create design documentation",
        "Update schema definitions and path handling"
      ],
      "required_outputs": [
        "Design documentation for project-scoped governance",
        "Updated schema definitions",
        "Path layout specification"
      ],
      "validation_checks": [
        "Implementation aligns with packet scope",
        "Tests or smoke checks executed for impacted behavior",
        "Evidence paths included in completion notes"
      ],
      "exit_criteria": [
        "Packet marked done with concrete evidence and validation results"
      ],
      "halt_conditions": [
        "Required dependencies unresolved",
        "Contract-breaking change detected without remediation plan"
      ],
      "authority": "Repository packet governance",
      "type": "WBS_PACKET",
      "references": []
    },
    {
      "id": "GOV-13-6",
      "packet_id": "GOV-13-6",
      "wbs_ref": "13.6",
      "wbs_l3_ref": "13.6",
      "wbs_refs": [
        "13.6"
      ],
      "area_id": "13.0",
      "title": "Implement project-aware CLI and APIs",
      "scope": "Add --project resolution and active project context to CLI/server APIs; ensure packet lifecycle and reports operate in selected project namespace without cross-project overwrite. Output: implementation + tests.",
      "purpose": "Deliver Implement project-aware CLI and APIs.",
      "status": "PENDING",
      "owner": "unassigned",
      "priority": "HIGH",
      "preconditions": [],
      "required_inputs": [
        "Project-scoped governance model from GOV-13-5",
        "Draft/apply workflow from GOV-13-4",
        "Current CLI and server API implementation"
      ],
      "required_actions": [
        "Add --project resolution to CLI commands",
        "Implement active project context tracking",
        "Update server APIs for project-aware operations",
        "Ensure packet lifecycle operates in selected project namespace",
        "Prevent cross-project overwrites",
        "Create tests validating project isolation"
      ],
      "required_outputs": [
        "Project-aware CLI implementation",
        "Project-aware server API implementation",
        "Tests validating project isolation and context switching"
      ],
      "validation_checks": [
        "Implementation aligns with packet scope",
        "Tests or smoke checks executed for impacted behavior",
        "Evidence paths included in completion notes"
      ],
      "exit_criteria": [
        "Packet marked done with concrete evidence and validation results"
      ],
      "halt_conditions": [
        "Required dependencies unresolved",
        "Contract-breaking change detected without remediation plan"
      ],
      "authority": "Repository packet governance",
      "type": "WBS_PACKET",
      "references": []
    },
    {
      "id": "GOV-13-7",
      "packet_id": "GOV-13-7",
      "wbs_ref": "13.7",
      "wbs_l3_ref": "13.7",
      "wbs_refs": [
        "13.7"
      ],
      "area_id": "13.0",
      "title": "Viewer support for multi-project context",
      "scope": "Update dashboard/viewer to show current project and allow project switching while preserving packet state isolation. Output: UI/API integration + smoke tests.",
      "purpose": "Deliver Viewer support for multi-project context.",
      "status": "PENDING",
      "owner": "unassigned",
      "priority": "HIGH",
      "preconditions": [],
      "required_inputs": [
        "Project-aware CLI and APIs from GOV-13-6",
        "Current dashboard/viewer implementation",
        "Project context API endpoints"
      ],
      "required_actions": [
        "Update dashboard to display current project",
        "Implement project switching UI controls",
        "Ensure packet state isolation across projects",
        "Integrate with project-aware API endpoints",
        "Create smoke tests for UI/API integration"
      ],
      "required_outputs": [
        "Updated dashboard with project context display",
        "Project switching UI implementation",
        "Smoke tests validating UI/API integration"
      ],
      "validation_checks": [
        "Implementation aligns with packet scope",
        "Tests or smoke checks executed for impacted behavior",
        "Evidence paths included in completion notes"
      ],
      "exit_criteria": [
        "Packet marked done with concrete evidence and validation results"
      ],
      "halt_conditions": [
        "Required dependencies unresolved",
        "Contract-breaking change detected without remediation plan"
      ],
      "authority": "Repository packet governance",
      "type": "WBS_PACKET",
      "references": []
    },
    {
      "id": "GOV-13-8",
      "packet_id": "GOV-13-8",
      "wbs_ref": "13.8",
      "wbs_l3_ref": "13.8",
      "wbs_refs": [
        "13.8"
      ],
      "area_id": "13.0",
      "title": "Migration, docs, and rollout hardening",
      "scope": "Provide migration tooling/docs from single-project state, update bootstrap/start guidance, and add hygiene gates proving unauthorized WBS replacement is blocked. Output: migration script/docs + validation evidence.",
      "purpose": "Deliver Migration, docs, and rollout hardening.",
      "status": "PENDING",
      "owner": "unassigned",
      "priority": "HIGH",
      "preconditions": [],
      "required_inputs": [
        "Git governance from GOV-13-3",
        "Viewer support from GOV-13-7",
        "Project-aware CLI and APIs from GOV-13-6",
        "Existing single-project state files"
      ],
      "required_actions": [
        "Create migration tooling for single-project to multi-project transition",
        "Document migration process",
        "Update bootstrap/start guidance for new project model",
        "Add hygiene gates proving unauthorized WBS replacement is blocked",
        "Create validation evidence demonstrating protection"
      ],
      "required_outputs": [
        "Migration script for project transition",
        "Migration documentation",
        "Updated bootstrap/start guidance",
        "Hygiene gates implementation",
        "Validation evidence"
      ],
      "validation_checks": [
        "Implementation aligns with packet scope",
        "Tests or smoke checks executed for impacted behavior",
        "Evidence paths included in completion notes"
      ],
      "exit_criteria": [
        "Packet marked done with concrete evidence and validation results"
      ],
      "halt_conditions": [
        "Required dependencies unresolved",
        "Contract-breaking change detected without remediation plan"
      ],
      "authority": "Repository packet governance",
      "type": "WBS_PACKET",
      "references": []
    },
    {
      "id": "REM-14-1",
      "packet_id": "REM-14-1",
      "wbs_ref": "14.1",
      "wbs_l3_ref": "14.1",
      "wbs_refs": [
        "14.1"
      ],
      "area_id": "14.0",
      "title": "Clean up stray substrate/substrate/ directory",
      "scope": "Remove orphaned substrate/substrate/.governance/ directory tree containing wbs.draft.tmp.json and reports/break-fix/smoke.json left by path resolution bug during GOV-13 execution.",
      "purpose": "Eliminate stray artifacts from double-nested path resolution error during Codex execution of area 13.0.",
      "status": "PENDING",
      "owner": "unassigned",
      "priority": "HIGH",
      "preconditions": [],
      "required_inputs": [
        "Inventory of files under substrate/substrate/"
      ],
      "required_actions": [
        "Delete substrate/substrate/ directory tree",
        "Verify no governance tooling references the stray path",
        "Run scaffold-check and template-integrity to confirm no side effects"
      ],
      "required_outputs": [
        "Confirmed deletion of substrate/substrate/"
      ],
      "validation_checks": [
        "substrate/substrate/ directory does not exist",
        "make hygiene passes",
        "git status shows only expected deletion"
      ],
      "exit_criteria": [
        "Stray directory removed with no side effects on governance tooling"
      ],
      "halt_conditions": [
        "Any governance tooling depends on the stray path"
      ],
      "authority": "Repository packet governance",
      "type": "WBS_PACKET",
      "references": []
    },
    {
      "id": "REM-14-2",
      "packet_id": "REM-14-2",
      "wbs_ref": "14.2",
      "wbs_l3_ref": "14.2",
      "wbs_refs": [
        "14.2"
      ],
      "area_id": "14.0",
      "title": "Enforce mutation approval in server API project endpoints",
      "scope": "Close enforcement gap where POST /api/project/set in wbs_server.py bypasses require_wbs_mutation_approval() that the CLI enforces. Add approval token validation to server endpoint and update dashboard JS to handle 403 denial.",
      "purpose": "Ensure server API and CLI enforce identical mutation approval policy for project-set, closing the enforcement gap that allows the dashboard to switch projects without approval.",
      "status": "PENDING",
      "owner": "unassigned",
      "priority": "HIGH",
      "preconditions": [],
      "required_inputs": [
        "Current wbs_server.py api_project_set implementation",
        "WBS mutation policy contract in wbs-mutation-policy.json",
        "Dashboard project-switch JS in static/index.html"
      ],
      "required_actions": [
        "Add approval token validation to api_project_set() using same policy as CLI cmd_project_set",
        "Return HTTP 403 with clear error when approval missing in strict mode",
        "Update dashboard switchProject() JS to handle 403 and display error",
        "Add server API test verifying project-set rejected without token in strict mode",
        "Verify existing test_project_endpoints still passes with valid token"
      ],
      "required_outputs": [
        "Updated wbs_server.py with approval enforcement",
        "Updated static/index.html with 403 handling",
        "New or updated test in test_server_api.py"
      ],
      "validation_checks": [
        "POST /api/project/set without token returns 403 in strict mode",
        "POST /api/project/set with valid token succeeds",
        "Dashboard shows error when switch denied",
        "All server API tests pass"
      ],
      "exit_criteria": [
        "Server API and CLI enforce identical mutation approval for project-set",
        "Test proves enforcement gap is closed"
      ],
      "halt_conditions": [
        "Server cannot access mutation policy file at runtime",
        "Dashboard becomes unusable due to approval requirement"
      ],
      "authority": "Repository packet governance",
      "type": "WBS_PACKET",
      "references": []
    },
    {
      "id": "REM-14-3",
      "packet_id": "REM-14-3",
      "wbs_ref": "14.3",
      "wbs_l3_ref": "14.3",
      "wbs_refs": [
        "14.3"
      ],
      "area_id": "14.0",
      "title": "Enable init-replacement mutation guard",
      "scope": "Set enforce_init_replace to true in wbs-mutation-policy.json. Audit and update all scripts and tests that call init with different source to provide approval tokens. Add CLI contract test proving init replacement is blocked without approval.",
      "purpose": "Close the primary protection gap where full WBS replacement via init is unguarded despite the mutation guard being designed to prevent exactly this.",
      "status": "PENDING",
      "owner": "unassigned",
      "priority": "HIGH",
      "preconditions": [
        "REM-14-2 complete (server enforcement consistent before tightening init)"
      ],
      "required_inputs": [
        "Current wbs-mutation-policy.json",
        "All scripts calling wbs_cli.py init: init-scaffold.sh, reset-scaffold.sh, template-integrity.sh",
        "Test fixtures in test_cli_contract.py and test_server_api.py"
      ],
      "required_actions": [
        "Audit all callers of cmd_init / wbs_cli.py init for different-source usage",
        "Update init-scaffold.sh, reset-scaffold.sh, template-integrity.sh to pass approval tokens",
        "Update test fixtures to provide approval tokens when calling init with different source",
        "Set enforce_init_replace to true in wbs-mutation-policy.json",
        "Add CLI contract test: init with different source blocked without approval, succeeds with approval",
        "Run full test suite and make hygiene"
      ],
      "required_outputs": [
        "Updated wbs-mutation-policy.json with enforce_init_replace=true",
        "Updated shell scripts with approval token passthrough",
        "New test in test_cli_contract.py"
      ],
      "validation_checks": [
        "wbs_cli.py init <different-source> without token exits non-zero",
        "wbs_cli.py --wbs-approval WBS-APPROVED:X init <different-source> succeeds",
        "All existing tests pass",
        "make hygiene passes"
      ],
      "exit_criteria": [
        "enforce_init_replace is true in committed policy",
        "All legitimate init paths provide approval tokens",
        "Unauthorized WBS replacement via init is provably blocked"
      ],
      "halt_conditions": [
        "Enabling breaks CI or critical automation that cannot be updated"
      ],
      "authority": "Repository packet governance",
      "type": "WBS_PACKET",
      "references": []
    },
    {
      "id": "REM-14-4",
      "packet_id": "REM-14-4",
      "wbs_ref": "14.4",
      "wbs_l3_ref": "14.4",
      "wbs_refs": [
        "14.4"
      ],
      "area_id": "14.0",
      "title": "Normalize GOV-13 packets to canonical schema and fix wbs_ref alignment",
      "scope": "Add missing canonical fields to GOV-13-1 through GOV-13-8 in wbs.json (packet_id, purpose, priority, preconditions, required_inputs, required_actions, required_outputs, validation_checks, exit_criteria, halt_conditions, authority, type, references, wbs_refs, wbs_l3_ref, status, owner). Fix wbs_ref values from 9.x to 13.x to match area_id 13.0. Add wbs_level_3 entries for 13.1-13.8.",
      "purpose": "Bring GOV-13 packet definitions to the same canonical standard as all other packets, enabling full packet-schema validation and consistent reporting.",
      "status": "PENDING",
      "owner": "unassigned",
      "priority": "MEDIUM",
      "preconditions": [],
      "required_inputs": [
        "Current GOV-13 packet definitions in wbs.json (5 fields each)",
        "Canonical packet schema in packet-schema.json",
        "Completion evidence from wbs-state.json for GOV-13 packets"
      ],
      "required_actions": [
        "Add all missing canonical fields to GOV-13-1 through GOV-13-8",
        "Populate required_actions from scope descriptions",
        "Set validation_checks and exit_criteria based on delivered evidence",
        "Change wbs_ref from 9.x to 13.x (13.1 through 13.8)",
        "Add wbs_level_3 entries for 13.1-13.8",
        "Run validate-packet against updated wbs.json",
        "Verify status output renders correctly"
      ],
      "required_outputs": [
        "Updated wbs.json with normalized GOV-13 packets",
        "New wbs_level_3 entries for area 13.0"
      ],
      "validation_checks": [
        "wbs_cli.py validate passes",
        "wbs_cli.py validate-packet .governance/wbs.json passes for GOV-13 entries",
        "wbs_cli.py status shows correct area 13.0 layout",
        "No packet state lost or corrupted"
      ],
      "exit_criteria": [
        "All GOV-13 packets have full canonical fields",
        "wbs_ref values align with area numbering convention",
        "Packet schema validation passes for active WBS"
      ],
      "halt_conditions": [
        "Changing wbs_ref values causes state mismatch or breaks dependency graph"
      ],
      "authority": "Repository packet governance",
      "type": "WBS_PACKET",
      "references": []
    },
    {
      "id": "REM-14-5",
      "packet_id": "REM-14-5",
      "wbs_ref": "14.5",
      "wbs_l3_ref": "14.5",
      "wbs_refs": [
        "14.5"
      ],
      "area_id": "14.0",
      "title": "Restore active WBS packet schema validation in scaffold-check",
      "scope": "After REM-14-4 normalizes GOV-13 packets, restore scaffold-check.sh and template-integrity.sh to validate the active .governance/wbs.json against packet schema in addition to template files.",
      "purpose": "Re-establish the validation posture where the active WBS is schema-checked during scaffold checks, which was weakened when validation was redirected to template files only.",
      "status": "PENDING",
      "owner": "unassigned",
      "priority": "MEDIUM",
      "preconditions": [
        "REM-14-4 complete (GOV-13 packets normalized so validation will pass)"
      ],
      "required_inputs": [
        "Current scaffold-check.sh targeting templates/wbs-codex-full.json",
        "Current template-integrity.sh",
        "Normalized wbs.json from REM-14-4"
      ],
      "required_actions": [
        "Update scaffold-check.sh to validate-packet against both template and active wbs.json",
        "Update template-integrity.sh similarly if changed for same reason",
        "Run scaffold-check.sh and template-integrity.sh to confirm both pass",
        "Verify make hygiene passes end-to-end"
      ],
      "required_outputs": [
        "Updated scaffold-check.sh",
        "Updated template-integrity.sh if applicable"
      ],
      "validation_checks": [
        "scaffold-check.sh includes validate-packet .governance/wbs.json",
        "scaffold-check.sh passes with no errors",
        "template-integrity.sh passes",
        "make hygiene passes"
      ],
      "exit_criteria": [
        "Active WBS is validated against packet schema during scaffold checks",
        "No regression in template validation"
      ],
      "halt_conditions": [
        "Active WBS still has non-conforming packets after REM-14-4"
      ],
      "authority": "Repository packet governance",
      "type": "WBS_PACKET",
      "references": []
    },
    {
      "id": "REM-14-6",
      "packet_id": "REM-14-6",
      "wbs_ref": "14.6",
      "wbs_l3_ref": "14.6",
      "wbs_refs": [
        "14.6"
      ],
      "area_id": "14.0",
      "title": "Consolidate path resolution pattern in wbs_common.py",
      "scope": "Resolve dual path resolution in wbs_common.py where module-level WBS_DEF/WBS_STATE are set at import time but load_definition()/load_state() call resolve_runtime_paths() again at runtime, creating stale-path risk. Also address apply_runtime_project() in wbs_cli.py which mutates some path globals but not others.",
      "purpose": "Eliminate fragile dual-resolution pattern that could cause subtle bugs when project context changes after module import.",
      "status": "PENDING",
      "owner": "unassigned",
      "priority": "LOW",
      "preconditions": [],
      "required_inputs": [
        "Current wbs_common.py module-level path resolution",
        "Current wbs_cli.py apply_runtime_project() global mutation pattern",
        "paths.py resolve_runtime_paths() contract"
      ],
      "required_actions": [
        "Choose single path resolution strategy: always resolve at use-time or centralize refresh",
        "Remove or deprecate stale module-level WBS_DEF/WBS_STATE in wbs_common.py",
        "Ensure apply_runtime_project() refreshes all path globals or document which are not project-scoped",
        "Add docstring explaining path resolution contract",
        "Run full test suite to verify no regressions"
      ],
      "required_outputs": [
        "Updated wbs_common.py with consistent path resolution",
        "Updated wbs_cli.py apply_runtime_project() if needed"
      ],
      "validation_checks": [
        "All tests pass (test_cli_contract.py, test_server_api.py)",
        "project-create + --project status works correctly",
        "No import-time side effects break test isolation",
        "make hygiene passes"
      ],
      "exit_criteria": [
        "Single consistent path resolution pattern across wbs_common.py and wbs_cli.py",
        "No stale module-level path constants that could diverge from runtime project context"
      ],
      "halt_conditions": [
        "Removing module-level constants causes widespread import changes beyond reasonable scope"
      ],
      "authority": "Repository packet governance",
      "type": "WBS_PACKET",
      "references": []
    }
  ],
  "dependencies": {
    "MIN-2-1": [
      "MIN-1-1"
    ],
    "MIN-3-1": [
      "MIN-2-1"
    ],
    "MIN-4-1": [
      "MIN-3-1"
    ],
    "RSK-5-2": [
      "RSK-5-1"
    ],
    "RSK-5-3": [
      "RSK-5-2"
    ],
    "RSK-5-4": [
      "RSK-5-3"
    ],
    "RSK-5-5": [
      "RSK-5-4"
    ],
    "E2E-6-2": [
      "E2E-6-1"
    ],
    "E2E-6-3": [
      "E2E-6-2"
    ],
    "E2E-6-4": [
      "E2E-6-1"
    ],
    "E2E-6-5": [
      "E2E-6-3",
      "E2E-6-4"
    ],
    "BF-7-2": [
      "BF-7-1"
    ],
    "BF-7-3": [
      "BF-7-2"
    ],
    "BF-7-4": [
      "BF-7-3"
    ],
    "BF-7-5": [
      "BF-7-2",
      "BF-7-3"
    ],
    "BF-7-6": [
      "BF-7-4",
      "BF-7-5"
    ],
    "OPT-12-2": [
      "OPT-12-1"
    ],
    "OPT-12-3": [
      "OPT-12-2"
    ],
    "OPT-12-4": [
      "OPT-12-2"
    ],
    "OPT-12-5": [
      "OPT-12-1"
    ],
    "OPT-12-6": [
      "OPT-12-2"
    ],
    "OPT-12-7": [
      "OPT-12-5"
    ],
    "OPT-12-8": [
      "OPT-12-6",
      "OPT-12-7"
    ],
    "GOV-13-2": [
      "GOV-13-1"
    ],
    "GOV-13-3": [
      "GOV-13-1"
    ],
    "GOV-13-4": [
      "GOV-13-2"
    ],
    "GOV-13-5": [
      "GOV-13-1"
    ],
    "GOV-13-6": [
      "GOV-13-5",
      "GOV-13-4"
    ],
    "GOV-13-7": [
      "GOV-13-6"
    ],
    "GOV-13-8": [
      "GOV-13-3",
      "GOV-13-7",
      "GOV-13-6"
    ],
    "REM-14-3": [
      "REM-14-2"
    ],
    "REM-14-5": [
      "REM-14-4"
    ]
  }
}
